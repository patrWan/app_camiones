{"version":3,"sources":["db/firebase.js","db/use-auth.js","db/auth.js","components/FlashMessage.js","app/index.js","variables.js","components/Header.js","app/conductor/Conductor_home.js","components/Side_menu.js","components/items/Menu_items.js","components/DrawerPerfilUsuario.js","components/StatusTag.js","components/google-maps/MapOnlyView.js","components/google-maps/Modal-map-onlyView.js","components/modals/ModalReporte.js","app/admin/data_tables/DataTable_conductor_viajes_ant.js","app/conductor/Conductor_viajes.js","components/DrawerSettings.js","app/admin/VISTA_ADMIN_HOME/Vista_admin_home.js","components/Alert.js","components/modals/ModalConductor.js","components/FormErrorMessage.js","components/forms/FormConductor.js","app/admin/data_tables/DataTable_conductor_ant.js","app/admin/VISTA_ADMIN_USUARIO/Vista_admin_usuarios.js","app/admin/data_tables/DataTable_camion_ant.js","components/ConfirmAlert.js","components/modals/ModalCamion.js","components/forms/FormCamion.js","app/admin/VISTA_ADMIN_CAMION/Vista_admin_camiones.js","app/admin/data_tables/DataTable_viajes_ant.js","app/admin/data_tables/DataTable_select_conductor.js","app/admin/data_tables/DataTable_select_viaje.js","components/Stepper.js","app/admin/VISTA_ADMIN_VIAJE/ModalViaje.js","app/admin/VISTA_ADMIN_VIAJE/Select.js","app/admin/VISTA_ADMIN_VIAJE/SelectCamion.js","app/admin/VISTA_ADMIN_VIAJE/SelectOrigen.js","app/admin/VISTA_ADMIN_VIAJE/SelectEmpresa.js","app/admin/VISTA_ADMIN_VIAJE/Form_admin_viaje.js","app/admin/VISTA_ADMIN_VIAJE/ModalViaje_copy.js","app/admin/VISTA_ADMIN_VIAJE/Vista_admin_viajes.js","app/admin/data_tables/DataTable_empresa.js","components/modals/ModalEmpresa.js","components/google-maps/Map.js","components/google-maps/Modal-map.js","components/forms/FormEmpresa.js","app/admin/VISTA_ADMIN_EMPRESA/Vista_admin_empresas.js","App.js","reportWebVitals.js","index.js"],"names":["fb","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","fire","db","firestore","storage","auth","authContext","createContext","ProvideAuth","children","useState","user","setUser","history","useHistory","signin","email","password","signInWithEmailAndPassword","then","response","currentUser","getIdTokenResult","idTokenResult","claims","admin","console","log","localStorage","setItem","push","catch","error","signup","createUserWithEmailAndPassword","signout","signOut","sendPasswordResetEmail","confirmPasswordReset","code","useEffect","unsubscribe","onAuthStateChanged","useProvideAuth","Provider","value","cerrar__sesion","removeItem","Alert","props","elevation","variant","FlashMessage","open","setOpen","menCode","setMenCode","mensaje","setMensaje","severity","setSeverity","handleClick","handleClose","event","reason","state","child","location","window","replaceState","document","title","codeError","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","useStyles","makeStyles","theme","root","height","width","backgroundColor","fontFamily","container","display","flexDirection","justifyContent","alignItems","cnt__login","cnt__logo","breakpoints","down","logo","cnt_form","border","borderRadius","padding","form","fontSize","marginBottom","marginbottom","color","form__text","paddingBottom","form__button","marginTop","Index","classes","email_recover","setEmailRecover","email_not_exist","setEmailNotExist","email_exist","setEmailExist","setCodeError","useForm","register","handleSubmit","errors","amount","weight","weightRange","showPassword","values","setValues","a","exist","collection","where","get","querySnapshot","forEach","doc","prop","className","Box","src","noValidate","autoComplete","onSubmit","data","txtCorreo","txtPassword","cred","uid","message","Input","name","label","inputRef","required","startAdornment","InputAdornment","position","fullWidth","type","target","IconButton","aria-label","onClick","onMouseDown","preventDefault","Visibility","VisibilityOff","style","htmlType","data-bs-toggle","data-bs-target","class","id","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","placeholder","onChange","e","handleInputEmail","marginLeft","recover_password","INFO_BG_COLOR","INFO_TEXT_COLOR","DATATABLE_BG_COLOR","DATATABLE_TEXT_COLOR","CARDS_ADMIN_BG_COLOR","background","boxShadow","paddingLeft","paddingRight","top","cnt_avatar","cnt_avatar_dos","cnt_links","__icon_mobile","icons","textDecoration","icon_mobile","menu_mobile","up","displayName","marginRight","links","nav__links","fontWeight","transition","borderBottom","avatar","username","icon","__active_nav","navigation_mobile","zIndex","Header","openSlideMenu","openNavigationMobileMenu","usuario","setUsuario","getItem","docRef","exists","onSnapshot","LINKS_ADMIN","text","linkTo","LINKS_CONDUCTOR","isAdmin","href","map","x","to","activeClassName","alt","photoURL","nombres","toUpperCase","flexWrap","__header","__content","Conductor_home","viajes","setViajes","dayjs","fecha","toDate","isBefore","locale","format","isSame","isAfter","length","footer","container_icon","center","Side_menu","closeSlideMenu","itemList","Divider","listItem","overflow","paddingTop","listItemIcon","listItemText","topItemList","bottomItemList","item","MenuTest","List","admin_items","index","ListItem","button","disabled","isDisabled","ListItemIcon","ListItemText","admin_settings","DrawerPerfilUsuario","visible","setVisible","newPass","setNewPass","actualPass","setActualPass","setDisabled","errorPass","setErrorPass","succefulPass","setSuccesfulPass","setErrorMessage","passActual","file","useRef","photoUrl","setPhotoUrl","foto_error","setFotoError","uploadPhoto","file_img","current","files","reader","FileReader","onloadend","result","readAsDataURL","placement","closable","ref","update","setTimeout","rut","apellidos","telefono","role","aria-describedby","minLength","autocomplete","onKeyUp","verify","test","passListener","pass_actual","newPassword","updatePassword","statusMap","true","false","StatusTag","status","WrappedMap","withScriptjs","withGoogleMap","empresaMarker","lat","lng","selected","setSelected","defaultZoom","defaultCenter","onCloseClick","GMap","googleMapURL","loadingElement","containerElement","mapElement","ModalMap_onlyView","empresa_cor","openModalMap","setOpenModalMap","Dialog","maxWidth","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","appBar","spacing","flex","viewer","styles","StyleSheet","create","page","header","borderTopWidth","borderLeftWidth","borderRightWidth","marginHorizontal","row","borderBottomWidth","cell","borderRight","borderLeft","cell_2","head_cell","head_text","Transition","React","forwardRef","Slide","direction","FullScreenDialog","MyDocument","size","section","conductor","camion","direccion","destino","estado","fullScreen","TransitionComponent","AppBar","Toolbar","edge","Typography","autoFocus","require","Option","Select","RangePicker","DatePicker","borderWidth","borderColor","borderStyle","filter__section","label__container","filter__container","button__container","filter","filter__title","DataTable_conductor_viajes_ant","setIsSelected","setSelectedItem","selectedItem","setSize","edit","setEdit","setX","rowClassname","isLoaded","setIsLoaded","setData","filterData","setFilterData","setEmpresaCor","conductor_id","setConductorId","rango_fechas","setRangoFechas","filter_empresa","setFilterEmpresa","filter_estado","setFilterEstado","empresaList","setEmpresaList","setConductoresList","conductorLabel","setConductorLabel","rangoLabel","setRangoLabel","empresaLabel","setEmpresaLabel","estadoLabel","setEstadoLabel","removeFilter","setRemoveFilter","setFecha","setFilterState","columns","dataIndex","key","render","sorter","b","fechaSorter","defaultSortOrder","empresa","ver_empresa_map","empresa_latitud","empresa_longitud","record","lon","docChanges","change","err","get__viajes","data_camiones","item__list","data_camiones__list","formatDate","formatDate2","camionRef","id_camion","camion_info","modelo","patente","empresa_name","latitud","longitud","origen","empresa_id","id_user","fecha_camion","filter_general","finalFilter","sort","filteredEvents","isBetween","list__empresas","region","comuna","conductor_list","Chip","onDelete","clickable","date","dateString","showSearch","optionFilterProp","onSearch","val","onSelect","filterOption","input","option","toLowerCase","indexOf","rowKey","dataSource","scroll","pagination","bordered","rowClassName","loading","Conductor_viajes","ultimo_viaje","setUltimoViaje","proximo_viaje","setProximoViaje","acutal_viaje","setActualViaje","filtro_ultimo","filtro_proximo","sorted_filtro_ultimo","sorted_filtro_proximo","ultimo","find","element","proximo","actual","ultimoRef","actualRef","proximoRef","CONDUCTOR_ITEMS","menu_lateral","content","selectedUser","DrawerSettings","onChangeNewPass","weekOfYear","Admin_home","ADMIN_SETTINGS","dataViajes","setDataViajes","dataUsuarios","setDataUsuarios","dataEmpresas","setDataEmpresas","get__camion","snapshot","empty","camiones","c","marca","disponible","get__empresas","empresas","fetch","method","mode","res","json","opacity","AlertDialogSlide","openAlert","setOpenAlert","setSelectedUser","useSnackbar","enqueueSnackbar","delete__user","closeSnackbar","body","JSON","stringify","headers","men","description","openModalConductor","setOpenModalConductor","FormErrorMessage","align","container_wrap","input__email","container__nombres","columnGap","container__rut_telefono_domicilio","container__inputFile","container__avatar","input__nombres","input__rut_telefono","input__domicilio","input__file","backdrop","drawer","estado_input","FormConductor","setLoading","edit__user","edit_user","preventDuplicate","register__user","new_user","random_pass","setRandomPass","Backdrop","CircularProgress","metadata","contentType","storageRef","pathName","avatarRef","put","getDownloadURL","email_split","split","slice","Avatar","TextField","pattern","defaultValue","buscador","localeCompare","DataTable_conductor_ant","selectRows","setSelectRows","functionBuscar","setError","filter_nombres","setFilterNombres","setSelectedRowKeys","rowSelection","selectedRowKeys","selectedRows","getCheckboxProps","Text","Link","includes","onChangeNombre","Admin_conductores","ADMIN_CONDUCTOR_ITEMS","DataTable_camion_ant","mensaje_accion","ConfirmAlert","action","email_destino","emailjs","sendForm","ModalCamionDos","openModalCamion","setOpenModalCamion","inputs","input_estado","register__camion","new_camion","add","edit__camion","option_text","setMensajeAccion","delete__camion","delete","FormCamion","DataTable_viajes_ant","setUser__id","user__id","setCamion__id","setDataCamionFecha","setFechaCamion","setItemToDelete","setConductor","setDireccion","setEmailDestino","conductores_list","selected__viaje","delete__viaje","conductor_item","empresaRef","empresa_info","idEmpresa","backButton","instructions","select","formControl","margin","minWidth","selectEmpty","Select_Ant","SelectUsuario","setEmailName","setEmailCorreo","lista","getPopupContainer","node","parentNode","SelectCamion","camionId","setCamionId","setCamion","hidden","regiones_data","SelectOrigen","setOrigen","regiones","setRegiones","comunas","setComunas","selectedRegion","setSelectedRegion","selectedComuna","setSelectedComuna","isSelected","setDisable","SelectEmpresa","setDestino","setEmailDireccion","setEmpresa","customParseFormat","setFechaHora","Date","setDate","handleDateChange","Timestamp","fromDate","utils","DatedayjsUtils","KeyboardButtonProps","Form_admin_viaje","setOpenModalViaje","fecha_hora","email_name","email_direccion","email_correo","notificar","setNotificar","classNames","checked","isChecked","for","identifier","viaje","FieldValue","arrayRemove","arrayUnion","new__viaje","openModalViaje","dataCamionFecha","itemToDelete","ItemContent","Admin_viajes","camion__id","disp","DataTable_empresa","get__empresa","onHeaderRow","tr","openModalEmpresa","setOpenModalEmpresa","markerSearch","setMarkerSearch","setEmpresaMarker","latLng","onPositionChanged","Search","usePlacesAutocomplete","requestOptions","radius","ready","suggestions","setValue","clearSuggestions","handleSelect","getGeocode","address","results","getLatLng","suggestion","place_id","structured_formatting","main_text","secondary_text","ModalMap","FormEmpresa","register__empresa","new_empresa","edit__empresa","Admin_empresas","delete__empresa","App","path","exact","component","PrivateRouteConductor","PrivateRoute","rest","pathname","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Grow","getElementById"],"mappings":"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","file":"static/js/main.bc9c6559.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\n\r\n// Add the Firebase services that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCybTK1kaKZtP99G0K8o0IMWgL-vBylbuQ\",\r\n    authDomain: \"trudistics.firebaseapp.com\",\r\n    projectId: \"trudistics\",\r\n    storageBucket: \"trudistics.appspot.com\",\r\n    messagingSenderId: \"228483098144\",\r\n    appId: \"1:228483098144:web:a4d59c637b6bc26ce9fe45\"\r\n  };\r\n\r\n  const fb = firebase.initializeApp(firebaseConfig);\r\n  export const fire = firebase;\r\n  export const db = fb.firestore();\r\n  export const storage = fb.storage();\r\n  export const auth = fb.auth();","import React, { useState, useEffect, useContext, createContext } from \"react\";\r\nimport { auth } from \"./firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// Add your Firebase credentials\r\n\r\nconst authContext = createContext();\r\n\r\n// Provider component that wraps your app and makes auth object ...\r\n// ... available to any child component that calls useAuth().\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\n// Hook for child components to get the auth object ...\r\n// ... and re-render when it changes.\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n};\r\n\r\n// Provider hook that creates auth object and handles state\r\nfunction useProvideAuth() {\r\n  const [user, setUser] = useState(null);\r\n  let history = useHistory();\r\n  // Wrap any Firebase methods we want to use making sure ...\r\n  // ... to save the user to state.\r\n  const signin = (email, password) => {\r\n    return auth.signInWithEmailAndPassword(email, password).then((response) => {\r\n      auth.currentUser\r\n        .getIdTokenResult()\r\n        .then((idTokenResult) => {\r\n          // Confirm the user is an Admin.\r\n          if (!!idTokenResult.claims.admin) {\r\n            // Show admin UI.\r\n            console.log(\"SOY ADMIN\")\r\n            localStorage.setItem(\"user\", response.user);\r\n            localStorage.setItem(\"isAdmin\", true)\r\n            history.push(\"/admin/home\");\r\n          } else {\r\n            // Show regular user UI.\r\n            console.log(\"NO SOY ADMIN\")\r\n            localStorage.setItem(\"user\", response.user);\r\n            localStorage.setItem(\"isAdmin\", false)\r\n            history.push(\"/conductor/home\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      localStorage.setItem(\"user\", response.user);\r\n      setUser(response.user);\r\n      return response.user;\r\n    });\r\n  };\r\n\r\n  const signup = (email, password) => {\r\n    return auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((response) => {\r\n        setUser(response.user);\r\n        return response.user;\r\n      });\r\n  };\r\n\r\n  const signout = () => {\r\n    return auth.signOut().then(() => {\r\n        console.log(\"!!! Sesin Cerrada\");\r\n        history.push(\"/\")\r\n    });\r\n  };\r\n\r\n  const sendPasswordResetEmail = (email) => {\r\n    return auth.sendPasswordResetEmail(email).then(() => {\r\n      return true;\r\n    });\r\n  };\r\n\r\n  const confirmPasswordReset = (code, password) => {\r\n    return auth.confirmPasswordReset(code, password).then(() => {\r\n      return true;\r\n    });\r\n  };\r\n\r\n  // Subscribe to user on mount\r\n  // Because this sets state in the callback it will cause any ...\r\n  // ... component that utilizes this hook to re-render with the ...\r\n  // ... latest auth object.\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        setUser(user);\r\n      } else {\r\n        setUser(false);\r\n      }\r\n    });\r\n\r\n    // Cleanup subscription on unmount\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Return the user object and auth methods\r\n  return {\r\n    user,\r\n    signin,\r\n    signup,\r\n    signout,\r\n    sendPasswordResetEmail,\r\n    confirmPasswordReset,\r\n  };\r\n}\r\n","import { auth, db } from \"./firebase\";\r\n\r\n\r\n\r\nexport const usuarioActual = () => {\r\n  auth.onAuthStateChanged(function (user) {\r\n    if (user) {\r\n      console.log(\"OBSERVADOR|||| !! SESION ACTIVA !! EMAIL --> \" + user.email);\r\n      \r\n    } else {\r\n      console.log(\"OBSERVADOR|||| !! SESION INACTIVA !! \");\r\n    }\r\n  });\r\n};\r\n\r\nexport const registrar__usuario = (email, password) => {\r\n  // -> objeto con los datos del usuario.\r\n  //ej : rut, nombres, apellidos, telefono, email, pass\r\n  auth\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then((cred) => {\r\n      return db.collection(\"usuario\").doc(cred.user.uid).set({\r\n        rut: \"11-1\",\r\n        nombres: \"Angelica Victoria\",\r\n        apellidos: \"Camilo Arriagada\",\r\n        telefono: \"9 72117744\",\r\n      });\r\n    })\r\n    .then(() => {\r\n      console.log(\"<---- registrar__usuario OK ------>\");\r\n      console.log(\"!! Limpiar formulario o algo\");\r\n    })\r\n    .catch((error) => {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      console.log(\"!!! ERROR CODE : !!!\" + errorCode);\r\n      console.log(\"!!! ERRORMESSAGE :  !!!\" + errorMessage);\r\n      // ..\r\n    });\r\n};\r\n\r\nexport const iniciar__sesion = (email, password) => auth.signInWithEmailAndPassword(email, password);\r\n\r\nexport const cerrar__sesion = () => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      console.log(\"!!! Sesin Cerrada\");\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem(\"isAdmin\");\r\n      localStorage.removeItem('password');\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n","import React , {useEffect, useState} from \"react\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default function FlashMessage(props) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [menCode, setMenCode] = useState(0);\r\n  const [mensaje, setMensaje] = useState('');\r\n\r\n  const [severity, setSeverity] = useState('');\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  var state = props.child.location.state;\r\n\r\n  useEffect(() => {\r\n    console.log(\"Flash Message montado !!\");\r\n    \r\n    if(state){\r\n      if(state.code !== menCode){\r\n          console.log(state.code);\r\n        switch(state.code){\r\n            case '100':\r\n                setMensaje(\"\")\r\n                setMensaje(\"Error \"+state.code+\": Acceso no autorizado.\")\r\n                setSeverity(\"error\")\r\n                break;\r\n            default:\r\n                setMensaje(\"Error 1000: Error desconocido. ->\"+state.code)\r\n                break;\r\n        }\r\n        setMenCode(state.code);\r\n        console.log(\"codigo seteado paso 1 !! -> CODE = \"+menCode);\r\n        handleClick()\r\n      }\r\n      \r\n      /** borra el historial, del codigo */\r\n      window.history.replaceState({}, document.title);\r\n      \r\n    }\r\n\r\n    if (props.codeError) {\r\n      switch(props.codeError){\r\n        case \"auth/invalid-email\":\r\n          setMensaje(\"Formato de correo invalido.\")\r\n          break;\r\n        case \"auth/user-not-found\":\r\n          setMensaje(\"No hay ningn registro de usuario correspondiente a este correo.\")\r\n          break;\r\n        case \"auth/wrong-password\":\r\n          setMensaje(\"La contrasea no es vlida.\")\r\n          break;\r\n        case \"auth/too-many-requests\":\r\n          setMensaje(\" El acceso a esta cuenta se ha desactivado temporalmente debido a los numerosos intentos fallidos de inicio de sesin. Contacte con administrador\")\r\n          break;\r\n        default:\r\n          setMensaje(\"Error desconocido.\")\r\n          break;\r\n      }\r\n      setSeverity(\"warning\")\r\n      handleClick()\r\n    }\r\n  },[props.codeError])\r\n\r\n  return (\r\n\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{ vertical: 'top',\r\n      horizontal: 'center',}}\r\n      >\r\n        <Alert onClose={handleClose} severity={severity}>\r\n          {mensaje}\r\n        </Alert>\r\n      </Snackbar>\r\n  );\r\n}","import React, { /*useEffect,*/ useState } from \"react\";\r\n\r\nimport { auth } from \"../db/firebase\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"antd\";\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Input,\r\n  InputAdornment,\r\n  TextField /**Button*/,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport FlashMessage from \"../components/FlashMessage\";\r\n\r\nimport LockRoundedIcon from \"@material-ui/icons/LockRounded\";\r\nimport EmailRoundedIcon from \"@material-ui/icons/EmailRounded\";\r\n\r\n//import {useParams,useHistory} from \"react-router-dom\";\r\n\r\n/** !! AUTH */\r\nimport {\r\n  //registrar__usuario,\r\n  iniciar__sesion,\r\n  cerrar__sesion,\r\n} from \"../db/auth.js\";\r\n\r\nimport {db} from \"../db/firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    width: \"100vw\",\r\n    backgroundColor: \"#fafafa\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n  },\r\n\r\n  container: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  cnt__login: {\r\n    //backgroundColor: \"skyblue\",\r\n\r\n    height: \"50%\",\r\n    width: \"100%\",\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  cnt__logo: {\r\n    //backgroundColor : \"green\",\r\n    height: \"100%\",\r\n    width: 485,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  logo: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n\r\n  cnt_form: {\r\n    backgroundColor: \"#ffffff\",\r\n    height: \"80%\",\r\n\r\n    border: \"1px #dbdbdb solid\",\r\n    borderRadius: 5,\r\n\r\n    width: 500,\r\n    padding: 50,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  form: {\r\n    //backgroundColor: \"red\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n  },\r\n\r\n  title: {\r\n    fontSize: 32,\r\n    marginBottom: 30,\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //width: \"100%\",\r\n    },\r\n  },\r\n\r\n  error: {\r\n    fontSize: 14,\r\n    marginbottom: 5,\r\n    color: \"red\",\r\n  },\r\n\r\n  form__text: {\r\n    width: \"100%\",\r\n    paddingBottom: 15,\r\n  },\r\n\r\n  form__button: {\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n}));\r\n\r\nconst Index = (props) => {\r\n  const classes = useStyles();\r\n  const [email_recover, setEmailRecover] = useState('');\r\n  const [email_not_exist, setEmailNotExist] = useState(true);\r\n  const [email_exist, setEmailExist] = useState(false);\r\n\r\n  const [codeError, setCodeError] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [values, setValues] = useState({\r\n    amount: \"\",\r\n    password: \"\",\r\n    weight: \"\",\r\n    weightRange: \"\",\r\n    showPassword: false,\r\n  });\r\n\r\n  async function recover_password(){\r\n    let exist = false;\r\n    console.log(\"Recover password para => \", email_recover);\r\n    await db.collection(\"usuario\").where(\"email\", \"==\", email_recover)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      \r\n        querySnapshot.forEach((doc) => exist = true);\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n\r\n    if(exist === false){\r\n      setEmailNotExist(false);\r\n    }else{\r\n      setEmailNotExist(true);\r\n      setEmailExist(true);\r\n    }\r\n    \r\n  }\r\n\r\n  function handleInputEmail(e){\r\n    setEmailRecover(e.target.value);\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(\"onSubmit\");\r\n    console.log(data.txtCorreo);\r\n    console.log(data.txtPassword);\r\n    iniciar__sesion(data.txtCorreo, data.txtPassword)\r\n      .then((cred) => {\r\n        localStorage.removeItem(\"isAdmin\");\r\n        localStorage.removeItem(\"user\");\r\n        // Signed in\r\n        auth.currentUser\r\n          .getIdTokenResult()\r\n          .then((idTokenResult) => {\r\n            // Confirm the user is an Admin.\r\n            if (!!idTokenResult.claims.admin) {\r\n              // Show admin UI.\r\n              console.log(\"SOY ADMIN\");\r\n              localStorage.setItem(\"user\", cred.user.uid);\r\n              localStorage.setItem(\"isAdmin\", true);\r\n              localStorage.setItem(\"password\", data.txtPassword);\r\n              history.push(\"/admin/home\");\r\n            } else {\r\n              // Show regular user UI.\r\n              console.log(\"NO SOY ADMIN\", cred);\r\n              localStorage.setItem(\"user\", cred.user.uid);\r\n              localStorage.setItem(\"isAdmin\", false);\r\n              localStorage.setItem(\"password\", data.txtPassword);\r\n              history.push(\"/conductor/viajes\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n        console.log(\"!! Inicio de sesin exitoso -> \" + cred.user.email);\r\n      })\r\n      .catch((error) => {\r\n        setCodeError(error.code);\r\n\r\n        console.log(\"!! error code -> \" + error.code);\r\n        console.log(\"!! error code -> \" + error.message);\r\n      });\r\n\r\n    /*\r\n      auth.signin(data.txtCorreo, data.txtPassword).then().catch((error) => {\r\n        setCodeError(error.code);\r\n      });\r\n      */\r\n  };\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        <Box className={classes.cnt__login}>\r\n          <Box className={classes.cnt__logo}>\r\n            <img src=\"/logo_login_2.png\" className={classes.logo} />\r\n          </Box>\r\n          <div className={classes.cnt_form}>\r\n            <span className={classes.title}>TRUDISTICS</span>\r\n            <form\r\n              noValidate\r\n              autoComplete=\"off\"\r\n              onSubmit={handleSubmit(onSubmit)}\r\n              className={classes.form}\r\n            >\r\n              <div className={classes.form__text}>\r\n                <Input\r\n                  name=\"txtCorreo\"\r\n                  label=\"Correo\"\r\n                  inputRef={register({ required: true })}\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <EmailRoundedIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                  fullWidth\r\n                />\r\n                {errors.txtCorreo && (\r\n                  <span className={classes.error}>Correo requerido</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className={classes.form__text}>\r\n                <Input\r\n                  type=\"password\"\r\n                  name=\"txtPassword\"\r\n                  label=\"Contrasea\"\r\n                  fullWidth\r\n                  inputRef={register({ required: true })}\r\n                  type={values.showPassword ? \"text\" : \"password\"}\r\n                  value={values.password}\r\n                  onChange={handleChange(\"password\")}\r\n                  endAdornment={\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                        aria-label=\"toggle password visibility\"\r\n                        onClick={handleClickShowPassword}\r\n                        onMouseDown={handleMouseDownPassword}\r\n                      >\r\n                        {values.showPassword ? (\r\n                          <Visibility />\r\n                        ) : (\r\n                          <VisibilityOff />\r\n                        )}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  }\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <LockRoundedIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                />\r\n                {errors.txtPassword && (\r\n                  <span className={classes.error}>Contrasea requerida</span>\r\n                )}\r\n              </div>\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  marginTop: 15,\r\n                }}\r\n              >\r\n                <button\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                >\r\n                  Iniciar Sesin\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-warning\"\r\n                  type=\"button\"\r\n                  style={{ marginTop: 10 }}\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#exampleModal\"\r\n                >\r\n                  Recuperar Contrasea\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </Box>\r\n        <div> 2021 - Trudistics</div>\r\n      </div>\r\n\r\n      <FlashMessage child={props} codeError={codeError} />\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"exampleModal\"\r\n        tabindex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                Recuperacin de contrasea\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <div style={{display : \"flex\", flexDirection : \"column\"}}>\r\n                <input type=\"email\" placeholder=\"Ingrese email...\" onChange={e => handleInputEmail(e)}></input>\r\n                {email_not_exist ? null : <strong className=\"text-danger\" style={{marginLeft : 5}}>Email no se encuentra en nuestros registros.</strong>}\r\n                {email_exist ? <strong className=\"text-success\" style={{marginLeft : 5}}>Su contrasea ha sido enviada a su correo.</strong> : null}\r\n              </div>\r\n              \r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Cerrar\r\n              </button>\r\n              <button type=\"button\" class=\"btn btn-primary\" onClick={() => recover_password()}>\r\n                Enviar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n","export const HEADER_BG_COLOR = \"#064789\";\r\nexport const MENU_LATERAL_BG_COLOR =\"#427AA1\";\r\n\r\nexport const INFO_BG_COLOR = \"#679436\";\r\nexport const INFO_TEXT_COLOR = \"#EBF2FA\";\r\n\r\nexport const DATATABLE_BG_COLOR = \"#064789\";\r\nexport const DATATABLE_TEXT_COLOR = \"#EBF2FA\";\r\n\r\n/**  HOME ADMINISTRADOR*/\r\nexport const CARDS_ADMIN_BG_COLOR = \"#679436\";\r\nexport const CARDS_ADMIN_TEXT_COLOR = \"#EBF2FA\";","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport HomeRoundedIcon from \"@material-ui/icons/HomeRounded\";\r\nimport LocalShippingRoundedIcon from \"@material-ui/icons/LocalShippingRounded\";\r\nimport GroupRoundedIcon from \"@material-ui/icons/GroupRounded\";\r\nimport DateRangeRoundedIcon from \"@material-ui/icons/DateRangeRounded\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport BusinessRoundedIcon from \"@material-ui/icons/BusinessRounded\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { db } from \"../db/firebase\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { cerrar__sesion } from \"../db/auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { HEADER_BG_COLOR } from \"../variables\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  /**         4A051C       */\r\n  root: {\r\n    background: HEADER_BG_COLOR, //\"#363457\"\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    paddingLeft: 15,\r\n    paddingRight: 15,\r\n    position: \"sticky\",\r\n    top: 0,\r\n    //borderLeft: \"1px #ccc solid\",\r\n    //minHeight: '100vh',\r\n  },\r\n\r\n  cnt_avatar: {\r\n    //backgroundColor: \"blue\",\r\n    width: \"25%\",\r\n\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n\r\n    //paddingLeft : 15,\r\n    justifyContent: \"flex-end\",\r\n    //paddingLeft : 50,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n\r\n  cnt_avatar_dos: {\r\n    //backgroundColor: \"blue\",\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n  },\r\n\r\n  cnt_links: {\r\n    //backgroundColor : 'blue',\r\n\r\n    width: \"50%\", //50 para 100%\r\n\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  top: {\r\n    //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: \"25%\",\r\n    //padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"55%\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  __icon_mobile: {\r\n    //backgroundColor: \"green\",\r\n    width: \"25%\",\r\n    justifyContent: \"flex-start\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      width: \"50%\",\r\n      height: \"100%\",\r\n      padding: 5,\r\n    },\r\n  },\r\n\r\n  icons: {\r\n    color: \"#ccc\",\r\n    textDecoration: \"none\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  icon_mobile: {\r\n    display: \"none\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      width: \"50%\",\r\n      justifyContent: \"flex-start\",\r\n    },\r\n  },\r\n\r\n  menu_mobile: {\r\n    //backgroundColor: \"blue\",\r\n    //width: \"20%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  displayName: {\r\n    //backgroundImage: \"linear-gradient(to left, #c31432, #240b36)\",\r\n    width: \"auto\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderRadius: 100,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  links: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  nav__links: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"#ccc\",\r\n    fontSize: \"15px\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n    fontWeight: \"bold\",\r\n    textDecoration: \"none\",\r\n    position: \"absoluted\",\r\n    marginRight: 24,\r\n    transition: \"color 300ms ease-in-out\",\r\n\r\n    \"&:hover\": {\r\n      //backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      color: \"#ffff\",\r\n      borderBottom: \"5px solid #fff\",\r\n      paddingBottom: \"10px\",\r\n    },\r\n  },\r\n\r\n  avatar: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    borderRadius: 50,\r\n  },\r\n\r\n  username: {\r\n    color: \"#fff\",\r\n    fontSize: \"15px\",\r\n    //fontWeight: \"bold\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n    marginLeft: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 13,\r\n    },\r\n  },\r\n  icon: {\r\n    fontSize: 32,\r\n  },\r\n\r\n  logo: {\r\n    //backgroundColor : 'blue',\r\n    height: \"40px\",\r\n    width: \"40px\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  title: {\r\n    fontSize: 18,\r\n    color: \"#fff\",\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //width: \"100%\",\r\n    },\r\n  },\r\n\r\n  __active_nav: {\r\n    color: \"#fff\",\r\n  },\r\n\r\n  navigation_mobile: {\r\n    backgroundColor: \"yellow\",\r\n    zIndex: 10,\r\n  },\r\n}));\r\n\r\nconst Header = (props) => {\r\n  const { openSlideMenu, openNavigationMobileMenu } = props;\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  let history = useHistory();\r\n\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    cerrar__sesion();\r\n    history.push(\"/\");\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [refresh, setRefresh] = useState(false);\r\n  useEffect(async () => {\r\n    let user = localStorage.getItem(\"user\");\r\n    console.log(\"usuario => \", user);\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    await docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n          db.collection(\"usuario\")\r\n            .doc(doc.id)\r\n            .onSnapshot((doc) => {\r\n              console.log(\"Current data: \", doc.data());\r\n              setUsuario(doc.data());\r\n            });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          //console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const LINKS_ADMIN = [\r\n    {\r\n      text: \"INICIO\",\r\n      linkTo: \"/admin/home\",\r\n      icon: <HomeRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"USUARIOS\",\r\n      linkTo: \"/admin/conductores\",\r\n      icon: <GroupRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"CAMIONES\",\r\n      linkTo: \"/admin/camiones\",\r\n      icon: <LocalShippingRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"VIAJES\",\r\n      linkTo: \"/admin/viajes\",\r\n      icon: <DateRangeRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"EMPRESAS\",\r\n      linkTo: \"/admin/empresa\",\r\n      icon: <BusinessRoundedIcon />,\r\n    },\r\n  ];\r\n  const LINKS_CONDUCTOR = [\r\n    {\r\n      text: \"MIS VIAJES\",\r\n      linkTo: \"/conductor/viajes\",\r\n      icon: <LocalShippingRoundedIcon />,\r\n    },\r\n  ];\r\n\r\n  const classes = useStyles();\r\n\r\n  let isAdmin = localStorage.getItem(\"isAdmin\");\r\n  const links = (isAdmin) => {\r\n    if (isAdmin === \"true\") {\r\n      return (\r\n        <Box className={classes.cnt_links}>\r\n          {/** Cambiar dependiendo de los privilegios */}\r\n          <Box className={classes.links}>\r\n            {LINKS_ADMIN.map((x) => (\r\n              <NavLink\r\n                to={x.linkTo}\r\n                className={classes.nav__links}\r\n                key={x.text}\r\n                activeClassName={classes.__active_nav}\r\n              >\r\n                {x.icon}\r\n                {x.text}\r\n              </NavLink>\r\n            ))}\r\n          </Box>\r\n\r\n          <Box className={classes.menu_mobile}>\r\n            <MenuIcon />\r\n          </Box>\r\n        </Box>\r\n      );\r\n    } else if (isAdmin === \"false\") {\r\n      return (\r\n        <Box className={classes.cnt_links}>\r\n          {/** Cambiar dependiendo de los privilegios */}\r\n          <Box className={classes.links}>\r\n            {LINKS_CONDUCTOR.map((x) => (\r\n              <NavLink\r\n                to={x.linkTo}\r\n                className={classes.nav__links}\r\n                activeClassName={classes.__active_nav}\r\n              >\r\n                {x.icon}\r\n                {x.text}\r\n              </NavLink>\r\n            ))}\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {isAdmin == \"true\" ? (\r\n        <Box className={classes.__icon_mobile}>\r\n          <span>\r\n            <a href=\"#\" className={classes.icons} onClick={openSlideMenu}>\r\n              <i class=\"bi bi-list\" style={{ fontSize: 42 }}></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      ) : (\r\n        <Box className={classes.__icon_mobile}>\r\n          <span>\r\n            <a href=\"#\" className={classes.icons} onClick={openSlideMenu}>\r\n              <i class=\"bi bi-list\" style={{ fontSize: 42 }}></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      )}\r\n      {isAdmin == \"true\" ? (\r\n        <Box className={classes.icon_mobile}>\r\n          <span>\r\n            <a\r\n              href=\"#\"\r\n              className={classes.icons}\r\n              onClick={openNavigationMobileMenu}\r\n            >\r\n              <i\r\n                class=\"bi bi-arrow-down-circle-fill\"\r\n                style={{ fontSize: 42 }}\r\n              ></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {/** Cambiar dependiendo de los privilegios */}\r\n\r\n      {links(isAdmin)}\r\n      <Box className={classes.cnt_avatar}>\r\n        <Box className={classes.displayName} elevation={3}>\r\n          {/** Cambiar dependiendo del usuario que inici sesin */}\r\n          <div className={classes.cnt_avatar_dos}>\r\n            <img\r\n              alt=\"user_avatar\"\r\n              src={usuario ? usuario.photoURL : \"/favicon.ico\"}\r\n              className={classes.avatar}\r\n            />\r\n          </div>\r\n\r\n          <span className={classes.username}>\r\n            {usuario ? usuario.nombres.toUpperCase() : \"\"}\r\n          </span>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n/**Components import */\r\nimport Header from \"../../components/Header\";\r\nimport {db} from \"../../db/firebase\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    backgroundColor: \"#f1f5f9\",\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n  },\r\n\r\n  __header: {\r\n    height: \"10vh\",\r\n    width: \"100vw\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginLeft: \"70px\",\r\n    },\r\n  },\r\n  __content: {\r\n    //backgroundColor: \"#d4c4fb\",\r\n    width: \"100%\",\r\n    height: \"90vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    //marginLeft: \"280px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginLeft: \"70px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Conductor_home = (props) => {\r\n  const classes = useStyles();\r\n  const [usuario, setUsuario] = useState(null);\r\n  const [viajes, setViajes] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data())\r\n          setViajes(doc.data().viajes)\r\n\r\n          doc.data().viajes.forEach(x => {\r\n            /** antes de */\r\n            if(dayjs(x.fecha.toDate()).isBefore(dayjs()) == true){\r\n              console.log(\"Viajes Anteriores => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }else if(dayjs(x.fecha.toDate()).isSame(dayjs(), 'date') == true){\r\n              console.log(\"Posee un viaje hoy => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }else if (dayjs(x.fecha.toDate()).isAfter(dayjs()) == true){\r\n              console.log(\"Proximos viajes => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }\r\n            \r\n          });\r\n\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  },[]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.__header}>\r\n        <Header />\r\n      </div>\r\n\r\n      <div className={classes.__content}>\r\n        <h1>Conductor_home</h1>\r\n        <h1>{dayjs().locale(\"es\").format(\"DD MMMM YYYY hh:mm A\")}</h1>\r\n        <h1>Viajes Totales : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        <h1>Viajes Terminados : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        <h1>Viajes Programados : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        \r\n        <Box>\r\n          <Link to=\"/\">Volver al inicio</Link>\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conductor_home;\r\n","import React from \"react\";\r\nimport { Box, Divider } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {MENU_LATERAL_BG_COLOR} from \"../variables\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: MENU_LATERAL_BG_COLOR,\r\n\r\n    //display : 'flex',\r\n    //flex : 'wrap',\r\n\r\n    width: \"100%\",\r\n\r\n    height: \"100%\",\r\n  },\r\n\r\n  footer: {\r\n    //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  top: {\r\n   //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n\r\n    marginTop: 0,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginTop: 5,\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container_icon: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n\r\n  icons: {\r\n    color: \"#ccc\",\r\n    textDecoration: \"none\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  center: {\r\n    //backgroundColor : 'blue',\r\n  },\r\n\r\n  logo: {\r\n    //backgroundColor : 'blue',\r\n    height: \"40px\",\r\n    width: \"40px\",\r\n    //marginRight: 10,\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  title: {\r\n    fontSize: 20,\r\n    color: \"#fff\",\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: 18,\r\n    },\r\n  },\r\n\r\n  __icon_mobile: {\r\n    backgroundColor: \"green\",\r\n    display: \"none\",\r\n    justifyContent: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      width: \"20%\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Side_menu = (props) => {\r\n  const { closeSlideMenu } = props;\r\n  /** recibe -> itemList , settingList */\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.top}>\r\n      <span className={classes.container_icon}>\r\n          <a href=\"#\" className={classes.icons} onClick={closeSlideMenu}>\r\n            <i\r\n              class=\"bi bi-x\"\r\n              style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}\r\n            ></i>\r\n          </a>\r\n        </span>\r\n        <img src=\"/logo_3.png\" className={classes.logo}></img>\r\n\r\n        \r\n\r\n        <Box\r\n          style={{\r\n            width: \"90%\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <span className={classes.title}>INKA SPA</span>\r\n        </Box>\r\n      </div>\r\n\r\n      <Box className={classes.center}>{props.itemList}</Box>\r\n\r\n      <Box className={classes.footer}>\r\n        <Divider />\r\n        <Box></Box>\r\n        <Box></Box>\r\n        <Box>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Side_menu;\r\n","import React from \"react\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\n\r\nimport {\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundImage: \"linear-gradient(to right, #434343 0%, black 100%)\",\r\n\r\n    //display : 'flex',\r\n    //flex : 'wrap',\r\n\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    \r\n  },\r\n\r\n  listItem: {\r\n    //backgroundColor: \"skyblue\", //** */\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    overflow: \"hidden\",\r\n    paddingTop : 50\r\n  },\r\n\r\n  listItemIcon: {\r\n    color: \"#fff\",\r\n  },\r\n  listItemText: {\r\n    color: \"#fff\",\r\n    fontSize: 15,\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n  },\r\n\r\n  topItemList: {\r\n    //backgroundColor: \"pink\",\r\n    height: \"60%\",\r\n  },\r\n\r\n  bottomItemList: {\r\n    //backgroundColor: \"green\",\r\n    height: \"40%\",\r\n  },\r\n  item: {\r\n    \"&:hover\": {\r\n      //backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      backgroundColor: \"#C1BFD9\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport const MenuTest = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={classes.listItem}>\r\n      <Box>\r\n        <List className={classes.topItemList}>\r\n          {props.admin_items.map((item, index) => (\r\n            <ListItem\r\n              button\r\n              key={item.text}\r\n              onClick={item.onClick}\r\n              disabled={item.isDisabled}\r\n              className={classes.item}\r\n            >\r\n              <ListItemIcon className={classes.listItemIcon}>\r\n                {/**ICONO HERE!!!! */}\r\n                {item.icon}\r\n              </ListItemIcon>\r\n\r\n              <ListItemText>\r\n                <span className={classes.listItemText}>{item.text}</span>\r\n              </ListItemText>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n\r\n      <Divider />\r\n      <Box>\r\n        <List className={classes.bottomItemList}>\r\n          {props.admin_settings.map((item, index) => (\r\n            <ListItem\r\n              button\r\n              key={item.text}\r\n              onClick={item.onClick}\r\n              className={classes.item}\r\n            >\r\n              <ListItemIcon className={classes.listItemIcon}>\r\n                {/**ICONO HERE!!!! */}\r\n                {item.icon}\r\n              </ListItemIcon>\r\n\r\n              <ListItemText>\r\n                <span className={classes.listItemText}>{item.text}</span>\r\n              </ListItemText>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Drawer } from \"antd\";\r\n\r\nimport { auth, db } from \"./../db/firebase\";\r\nimport { cerrar__sesion } from \"./../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"./estilos_drawer_usuario.css\";\r\n\r\nconst DrawerPerfilUsuario = (props) => {\r\n  const { visible, setVisible, usuario, closeSlideMenu } = props;\r\n\r\n  const [newPass, setNewPass] = useState(\"\");\r\n  const [actualPass, setActualPass] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n\r\n  const [errorPass, setErrorPass] = useState(false);\r\n  const [succefulPass, setSuccesfulPass] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n    closeSlideMenu();\r\n\r\n    setNewPass(\"\");\r\n    setActualPass(\"\");\r\n  };\r\n\r\n  const passActual = async (e) => {\r\n    await setActualPass(e.target.value);\r\n    console.log(\"change pass => \", actualPass);\r\n  };\r\n\r\n  const passListener = (e) => {\r\n    let verify = e.target.value;\r\n\r\n    setNewPass(verify);\r\n\r\n    console.log(\"change new pass => \", verify);\r\n\r\n    console.log(verify.length);\r\n\r\n    if (verify.length > 7) {\r\n      if (/[A-Z]/.test(verify) && /[a-z]/.test(verify)) {\r\n        setDisabled(false);\r\n      } else {\r\n        setDisabled(true);\r\n      }\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  const changePassword = () => {\r\n    console.log(\"CAMBIAR BUTTON => \", actualPass);\r\n    let pass_actual = localStorage.getItem(\"password\");\r\n    console.log(\"pass acutal --> \", pass_actual);\r\n\r\n    if (pass_actual === actualPass) {\r\n      console.log(\"CONTRASEAS COINCIDEN\");\r\n      var user = auth.currentUser;\r\n      var newPassword = newPass;\r\n\r\n      user\r\n        .updatePassword(newPassword)\r\n        .then(function () {\r\n          setSuccesfulPass(true);\r\n          setTimeout(() => {\r\n            setSuccesfulPass(false);\r\n            //redirigir al login.\r\n            cerrar__sesion();\r\n            history.push(\"/\");\r\n          }, 5000);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"error => \", error);\r\n          setErrorMessage(\"Para realizar esta accin inicie sesin de nuevo.\");\r\n          setErrorPass(true);\r\n          setTimeout(() => {\r\n            setErrorPass(false);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      console.log(\"CONTRASEAS NO COINCIDEN\");\r\n      setErrorMessage(\"Contrasea acutal no coincide con nuestros registros.\");\r\n      setErrorPass(true);\r\n      setTimeout(() => {\r\n        setErrorPass(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const file = useRef();\r\n  const [photoUrl, setPhotoUrl] = useState(\"\");\r\n  const [foto_error, setFotoError] = useState(false);\r\n\r\n  const uploadPhoto = async () => {\r\n    console.log(\"ON CHANGE FOTO\");\r\n    const file_img = file.current.files[0];\r\n    //setPhotoUrl(file_name);\r\n\r\n    if (file_img) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhotoUrl(reader.result);\r\n      };\r\n      await reader.readAsDataURL(file_img);\r\n    }\r\n  };\r\n\r\n  const cambiar_foto = () => {\r\n    console.log(\"Cambiar foto\");\r\n    var userRef = db.collection(\"usuario\").doc(usuario.id);\r\n\r\n    // Set the \"capital\" field of the city 'DC'\r\n    return userRef\r\n      .update({\r\n        photoURL: photoUrl,\r\n      })\r\n      .then(() => {\r\n        console.log(\"Document successfully updated!\");\r\n        setFotoError(true);\r\n        setTimeout(() => {\r\n          setFotoError(false);\r\n        }, 1500);\r\n      })\r\n      .catch((error) => {\r\n        // The document probably doesn't exist.\r\n        console.error(\"Error updating document: \", error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(usuario);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Drawer\r\n        title=\"MI PERFIL\"\r\n        placement={\"left\"}\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        key={\"left\"}\r\n        width={300}\r\n      >\r\n        <p className=\"Title\">Mis Datos</p>\r\n\r\n        <div className=\"d-grid gap-3\">\r\n          <div className=\"border Wrapper-image-perfil\">\r\n            <img\r\n              src={photoUrl ? photoUrl : usuario ? usuario.photoURL : \"\"}\r\n              className=\"Image-perfil\"\r\n            ></img>\r\n          </div>\r\n          {foto_error ? <strong className=\"text-success\">Foto actualizada</strong> : null}\r\n          <input\r\n            name=\"photoUrl\"\r\n            id=\"id_photoUrl\"\r\n            type=\"file\"\r\n            ref={file}\r\n            onChange={(e) => {\r\n              uploadPhoto();\r\n            }}\r\n          />\r\n          <button onClick={() => cambiar_foto()}>Cambiar foto</button>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.rut : \"\"}\r\n          </div>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.nombres + \" \" + usuario.apellidos : \"\"}\r\n          </div>\r\n\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.email : \"\"}\r\n          </div>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.telefono : \"\"}\r\n          </div>\r\n          <span className=\"Title\">Ajustes</span>\r\n          {errorPass ? (\r\n            <div\r\n              className=\"alert alert-danger alert-dismissible fade show\"\r\n              role=\"alert\"\r\n            >\r\n              <strong>Error: </strong> Contraseas no coinciden.\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {succefulPass ? (\r\n            <div\r\n              className=\"alert alert-success alert-dismissible fade show\"\r\n              role=\"alert\"\r\n            >\r\n              <strong>Exito: </strong> Redirigiendo....\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <span id=\"passwordHelpInline\" class=\"form-text\">\r\n            Contrasea actual:\r\n          </span>\r\n          <div className=\"input-group mb-1 mx-auto\">\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">\r\n              <i class=\"bi bi-lock-fill\"></i>\r\n            </span>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Contrasea actual\"\r\n              aria-label=\"Contrasea1\"\r\n              aria-describedby=\"basic-addon1\"\r\n              onChange={(e) => passActual(e)}\r\n              minLength=\"6\"\r\n              autocomplete=\"new-password\"\r\n            />\r\n          </div>\r\n          <span id=\"passwordHelpInline\" className=\"form-text\">\r\n            Nueva contrasea: (debe ser mayor a 7 caracteres y con una mayuscula\r\n            al menos)\r\n          </span>\r\n          <div className=\"input-group mb-1 mx-auto\">\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">\r\n              <i class=\"bi bi-lock-fill\"></i>\r\n            </span>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Contrasea nueva\"\r\n              aria-label=\"Contrasea2\"\r\n              aria-describedby=\"basic-addon2\"\r\n              onKeyUp={(e) => passListener(e)}\r\n              minLength=\"6\"\r\n              autocomplete=\"new-password\"\r\n            />\r\n          </div>\r\n          <button\r\n            className=\"btn btn-danger mt-3\"\r\n            onClick={changePassword}\r\n            disabled={disabled}\r\n          >\r\n            Cambiar Contrasea\r\n          </button>\r\n        </div>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerPerfilUsuario;\r\n","import React from \"react\";\r\nimport Tag from \"antd/lib/tag\";\r\nimport \"antd/lib/tag/style/css\";\r\n\r\nconst statusMap = {\r\n  true: <Tag color=\"green\">Completado</Tag>,\r\n  false: <Tag color=\"orange\">Programado</Tag>\r\n};\r\n\r\nexport const StatusTag = ({ status }) => statusMap[status];","\r\nimport React, { useState } from 'react'\r\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow} from \"react-google-maps\";\r\nimport usePlacesAutocomplete, {getGeocode, getLatLng,} from \"use-places-autocomplete\";\r\nimport { Loader } from \"@googlemaps/js-api-loader\"\r\n//import useOnclickOutside from \"react-cool-onclickoutside\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nfunction Map(props) {\r\n    const { empresaMarker} = props;\r\n    const [marker, setMarker] = useState({lat: -23.5325518, lng :-70.399952});\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    return (\r\n            <GoogleMap \r\n                defaultZoom={18} \r\n                defaultCenter={{lat: empresaMarker.lat, lng : empresaMarker.lng}}\r\n                \r\n                center={{lat: empresaMarker.lat, lng : empresaMarker.lng}} \r\n            >\r\n                <Marker \r\n                    position={{lat: empresaMarker.lat, lng : empresaMarker.lng}} \r\n                    onClick={() => {\r\n                        setSelected(empresaMarker);\r\n                    }}\r\n                />\r\n\r\n                {selected ? \r\n                <InfoWindow \r\n                    position={{lat: empresaMarker.lat, lng : empresaMarker.lng}}\r\n                    onCloseClick={() => {\r\n                        setSelected(null);\r\n                    }} \r\n                >\r\n                    <div>\r\n                        <h5>ej: Groot Limitada</h5>\r\n                    </div>\r\n                </InfoWindow> : null}\r\n            </GoogleMap>\r\n    )\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function GMap(props){\r\n    const {empresaMarker} = props;\r\n    return (\r\n        <div style={{width : \"90vw\" , height : \"100vh\"}}>\r\n            \r\n            <WrappedMap \r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places`}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div style={{ height: `400px` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                empresaMarker={empresaMarker}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport Map from \"./MapOnlyView\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nexport default function ModalMap_onlyView(props) {\r\n\r\n  const {empresa_cor, openModalMap, setOpenModalMap} = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalMap}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth\r\n        maxWidth={'xl'}\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\" className=\"Modal-header\">\r\n          <span className=\"Modal-title\">Ubicacin</span>\r\n        </DialogTitle>\r\n        <DialogContent className=\"Map-wrapper\">\r\n          <DialogContentText>\r\n            Descripcin de las acciones\r\n          </DialogContentText>\r\n\r\n          <Map empresaMarker={empresa_cor}/>\r\n\r\n        </DialogContent>\r\n        <DialogActions className=\"Modal-actions\">\r\n          <Button onClick={() => setOpenModalMap(false)} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\n/** imports de pdf */\r\nimport ReactPDF from \"@react-pdf/renderer\";\r\nimport { Page, Text, View, Document, StyleSheet } from \"@react-pdf/renderer\";\r\nimport { PDFViewer } from \"@react-pdf/renderer\";\r\n\r\nimport { Table } from \"antd\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  viewer: {\r\n    height: \"100%\",\r\n  },\r\n}));\r\n\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    flexDirection: \"column\",\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  header : {\r\n      backgroundColor : \"#fff\",\r\n      display :\"flex\",\r\n      flexDirection : \"row\",\r\n      borderTopWidth : 1,\r\n      borderLeftWidth : 1,\r\n      borderRightWidth : 1,\r\n      borderBottom : 1,\r\n      marginHorizontal: 10,\r\n      padding: 15,\r\n  },\r\n  row: {\r\n    marginHorizontal: 10,\r\n    borderBottomWidth : 1,\r\n    display : 'flex',\r\n    flexDirection : \"row\"\r\n  },\r\n\r\n  cell : {\r\n    width : \"20%\",\r\n    height : '100%',\r\n    //backgroundColor : \"skyblue\",\r\n    display : \"flex\",\r\n    justifyContent : 'center',\r\n    padding : 3 ,\r\n    borderRight : \"1px #ccc solid\",\r\n    borderLeft : \"1px #ccc solid\"\r\n  },\r\n\r\n  cell_2 : {\r\n    width : \"10%\",\r\n    height : '100%',\r\n    //backgroundColor : \"skyblue\",\r\n    display : \"flex\",\r\n    justifyContent : 'center',\r\n    padding : 3 ,\r\n  },\r\n\r\n  head_cell : {\r\n    width : \"20%\",\r\n    height : '100%',\r\n    //backgroundColor : \"skyblue\",\r\n    display : \"flex\",\r\n    justifyContent : 'center',\r\n    padding : 3 ,\r\n  },\r\n\r\n  text : {\r\n    fontSize : 8,\r\n  },\r\n  head_text : {\r\n    fontSize : 10,\r\n    fontWeight : \"900\"\r\n  }\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog(props) {\r\n  const classes = useStyles();\r\n\r\n  const { open, setOpen, data } = props;\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const MyDocument = () => (\r\n    <Document>\r\n      <Page size=\"A4\" style={styles.page}>\r\n        <View style={styles.section}>\r\n          <Text>Seccion</Text>\r\n        </View>\r\n  \r\n        <View style={styles.header}>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Fecha</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Nombre</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Camion</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Empresa</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Direccin</Text>\r\n            </View>\r\n        </View>\r\n          {data.map(x => {\r\n              return (\r\n              <View style={styles.row} key={x.fecha}>\r\n                  <View style={styles.cell}>\r\n                      <Text style={styles.text}>{x.fecha}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                      <Text style={styles.text}>{x.conductor}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                      <Text style={styles.text}>{x.camion}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                    <Text style={styles.text}>{x.direccion}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                    <Text style={styles.text}>{x.destino}</Text>\r\n                  </View>\r\n                  <View style={styles.cell_2}>\r\n                      <Text style={styles.text}>{x.estado ? \"Completado\" : \"Programado\"}</Text>\r\n                  </View>\r\n              </View>\r\n              )\r\n          })}\r\n        \r\n      </Page>\r\n    </Document>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Reporte\r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleClose}>\r\n              Guardar\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <PDFViewer className={classes.viewer}>\r\n          <MyDocument data={data}/>\r\n        </PDFViewer>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { DatePicker } from \"antd\";\r\nimport { StatusFilter } from \"../../../components/StatusFilter\";\r\nimport { DateFilter } from \"../../../components/DateFilter\";\r\nimport { StatusTag } from \"../../../components/StatusTag\";\r\n\r\nimport { Select } from \"antd\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport * as dayjs from \"dayjs\";\r\nimport { Chip } from \"@material-ui/core\";\r\nimport ModalReporte from \"../../../components/modals/ModalReporte\";\r\nvar locale = require(\"dayjs/locale/es\");\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {\r\n      \r\n    },\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n      \r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \" : {\r\n      background: DATATABLE_BG_COLOR,\r\n      color : DATATABLE_TEXT_COLOR,\r\n      \r\n   },\r\n   boxShadow : '4px 4px 10px 10px rgba(0,0,0,0.1)',\r\n   backgroundColor: \"#fff\",\r\n  },\r\n\r\n  filter__section: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"20%\",\r\n    backgroundColor: \"#1D1D34\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n    padding: 5,\r\n  },\r\n\r\n  label__container: {},\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter__title: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginRight: 5,\r\n    fontWeight: \"600\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst DataTable_conductor_viajes_ant = (props) => {\r\n  const { setIsSelected, setSelectedItem, selectedItem, setViajes } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  const [conductor_id, setConductorId] = useState(null);\r\n  const [rango_fechas, setRangoFechas] = useState(null);\r\n  //const [fecha, setFecha] = useState(null);\r\n\r\n  const [filter_empresa, setFilterEmpresa] = useState(null);\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n\r\n  const [empresaList, setEmpresaList] = useState([]);\r\n\r\n  const [conductores_list, setConductoresList] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [empresa, setEmpresa] = useState(\"\");\r\n  /** LABELS STATE */\r\n\r\n  const [conductorLabel, setConductorLabel] = useState(false);\r\n  const [rangoLabel, setRangoLabel] = useState(false);\r\n  const [empresaLabel, setEmpresaLabel] = useState(false);\r\n  const [estadoLabel, setEstadoLabel] = useState(false);\r\n  const [removeFilter, setRemoveFilter] = useState(false);\r\n  const [fecha, setFecha] = useState(null);\r\n  const [filterState, setFilterState] = useState([]);\r\n\r\n  //const [empresa_cor, setEmpresaCor] = useState({});\r\n  //const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Fecha\",\r\n      dataIndex: \"fecha\",\r\n      key: \"fecha\",\r\n      render: (text) => <a>{text}</a>,\r\n      sorter: (a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? 1 : -1,\r\n      defaultSortOrder: \"descend\",\r\n    },\r\n    {\r\n      title: \"Region/Comuna\",\r\n      dataIndex: \"destino\",\r\n      key: \"marca\",\r\n    },\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"direccion\",\r\n      key: \"marca\",\r\n      render: (text, empresa) => <a className=\"text-primary\" onClick={() => ver_empresa_map(empresa.empresa_latitud, empresa.empresa_longitud)}><strong>{text}</strong></a>,\r\n    },\r\n    {\r\n      title: \"Camion\",\r\n      dataIndex: \"camion\",\r\n      key: \"patente\",\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      key: \"disponible\",\r\n      render: (text, record) => <StatusTag status={record.estado} />,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(lat, lon){\r\n    await setEmpresaCor({lat : lat, lng : lon  });\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setX(selectedRowKeys);\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item = {};\r\n    let data_camiones = {};\r\n    let conductor_item = {};\r\n\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n    const viajes = [];\r\n    await docRef.get().then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n\r\n          doc.data().viajes.forEach(async (x) => {\r\n            let viaje = {};\r\n\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:MM A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            let estado;\r\n            if (dayjs(x.fecha.toDate()).isBefore(dayjs())) {\r\n              estado = true;\r\n            } else {\r\n              estado = false;\r\n            }\r\n\r\n            var camionRef = db.collection(\"camion\").doc(x.id_camion);\r\n            let camion_info = \"\";\r\n\r\n            await camionRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                camion_info = doc.data().modelo + \" \" + doc.data().patente;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            let empresa_latitud;\r\n            let empresa_longitud;\r\n            var empresaRef = db.collection(\"empresa\").doc(x.destino);\r\n\r\n            empresaRef.get().then((empresa) => {\r\n              if (empresa.exists) {\r\n                item = {};\r\n                //console.log(\"!! 3\");\r\n\r\n                let destino = empresa.data().direccion;\r\n                let empresa_name = empresa.data().empresa;\r\n\r\n                empresa_latitud = empresa.data().latitud;\r\n                empresa_longitud = empresa.data().longitud;\r\n\r\n                item = {\r\n                  id: x.id,\r\n                  fechaSorter: x.fecha.toDate(),\r\n                  fecha: formatDate,\r\n                  conductor: doc.data().nombres,\r\n                  camion: camion_info,\r\n                  origen: x.origen,\r\n                  destino: destino,\r\n                  empresa_id: empresa.id,\r\n                  estado: estado,\r\n                  id_user: doc.id,\r\n                  id_camion: x.id_camion,\r\n                  fecha_camion: formatDate2,\r\n                  direccion: empresa_name,\r\n\r\n                  empresa_latitud : empresa_latitud,\r\n                  empresa_longitud : empresa_longitud,\r\n                };\r\n\r\n                data_camiones = {\r\n                  id_camion: x.id_camion,\r\n                  fecha: formatDate2,\r\n                };\r\n\r\n                //setFilterData([...filterData , item]);\r\n\r\n                item__list.push(item);\r\n                data_camiones__list.push(data_camiones);\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n    setTimeout(function () {\r\n      setData(item__list);\r\n      setFilterData(item__list);\r\n      setIsLoaded(false);\r\n      setViajes(item__list)\r\n    }, 1000);\r\n  };\r\n\r\n  const handleDateFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    console.log(\"Quitar filtro\");\r\n    setFilterState(data);\r\n  };\r\n\r\n  /** Select Section */\r\n  function onChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  function onSearch(val) {\r\n    console.log(\"search:\", val);\r\n  }\r\n\r\n  function onSelect(val) {\r\n    setConductorId(val);\r\n  }\r\n\r\n  function onSelectEmpresa(val) {\r\n    setFilterEmpresa(val);\r\n  }\r\n\r\n  function onSelectEstado(val) {\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function onDeleteRango() {\r\n    setRangoFechas(null);\r\n    setRangoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEmpresa() {\r\n    setFilterEmpresa(null);\r\n    setEmpresaLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEstado() {\r\n    setFilterEstado(null);\r\n    setEstadoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"APLICANDO FILTRO ...\");\r\n    setFilterData(data);\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ id_user }) => id_user === conductor_id\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n\r\n      setConductorLabel(true);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      setRangoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_empresa !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id }) => empresa_id === filter_empresa\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEmpresaLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_estado !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEstadoLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_estado !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y ESTADO\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ estado, id_user }) =>\r\n          estado === filter_estado && id_user === conductor_id\r\n      );\r\n\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR Y RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(\r\n        ({ id_user, fechaSorter }) =>\r\n          id_user === conductor_id &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado }) =>\r\n          empresa_id === filter_empresa && estado === filter_estado\r\n      );\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, id_user }) =>\r\n          empresa_id === filter_empresa && id_user === conductor_id\r\n      );\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_empresa !== null &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter }) =>\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_estado !== null &&\r\n      filter_empresa === null &&\r\n      conductor_id === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ fechaSorter, estado }) =>\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA \");\r\n      console.log(\r\n        dayjs(\"30 Abril 2021 21:04 PM\").isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ estado, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas === null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , EMPRESA Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          empresa_id === filter_empresa\r\n      );\r\n\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado, id_user }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n  }\r\n\r\n  function rangeOnChange(date, dateString) {\r\n    setRangoFechas(date);\r\n  }\r\n\r\n  function clear_filter() {\r\n    setConductorId(null);\r\n    setRangoFechas(null);\r\n    setFecha(null);\r\n    setFilterEmpresa(null);\r\n    setFilterEstado(null);\r\n\r\n    setConductorLabel(false);\r\n    setRangoLabel(false);\r\n    setEmpresaLabel(false);\r\n    setEstadoLabel(false);\r\n\r\n    setFilterData(data);\r\n  }\r\n\r\n  function create_pdf() {\r\n    setOpen(true);\r\n  }\r\n\r\n  useEffect(async() => {\r\n    await get__viajes();\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n\r\n        setEmpresaList(list__empresas);\r\n\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n\r\n      let conductor_list = [];\r\n      db.collection(\"usuario\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let conductor_item;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          conductor_item = {\r\n            id: doc.id,\r\n            nombres: doc.data().nombres,\r\n            apellidos: doc.data().apellidos,\r\n            disabled: doc.data().disabled,\r\n          };\r\n          conductor_list.push(conductor_list);\r\n        });\r\n\r\n        setConductoresList(conductor_list);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n\r\n      \r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  useEffect(async () => {\r\n    if (removeFilter === true) {\r\n      console.log(\"USE EFFECT REMOVE\");\r\n\r\n      filter_general();\r\n    }\r\n    setRemoveFilter(false);\r\n\r\n    console.log(removeFilter);\r\n  }, [removeFilter]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ModalReporte open={open} setOpen={setOpen} data={filterData} />\r\n      <div className={classes.filter__section}>\r\n        <div className={classes.label__container}>\r\n          <span className={classes.filter__title}>Filtrando por : </span>\r\n          {conductorLabel || rangoLabel || estadoLabel || empresaLabel ? (\r\n            \"\"\r\n          ) : (\r\n            <Chip\r\n              label=\"No hay filtros activos\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              onDelete={handleDelete}\r\n              clickable\r\n            />\r\n          )}\r\n          {rangoLabel ? (\r\n            <Chip\r\n              label=\"rango de fechas\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteRango}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {empresaLabel ? (\r\n            <Chip\r\n              label=\"empresa\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEmpresa}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {estadoLabel ? (\r\n            <Chip\r\n              label=\"estado\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEstado}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className={classes.filter__container}>\r\n\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por rango de fechas :</span>\r\n            <RangePicker\r\n              onChange={rangeOnChange}\r\n              locale={locale}\r\n              value={rango_fechas}\r\n            />\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Empresa :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Empresa\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelectEmpresa}\r\n              value={filter_empresa}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {empresaList.map((x) => {\r\n                return <Option value={x.id} key={x.id}>{x.empresa}</Option>;\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Estado :</span>\r\n            <Select\r\n              id=\"state\"\r\n              showSearch\r\n              placeholder=\"Seleccione Estado\"\r\n              optionFilterProp=\"children\"\r\n              onSelect={onSelectEstado}\r\n              value={filter_estado}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              <Option value={true} key=\"1\">Completado</Option>\r\n              <Option value={false} key=\"2\">Programado</Option>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div className={classes.button__container}>\r\n          <button onClick={filter_general} className={classes.button}>\r\n            <i className=\"bi bi-filter\"></i> Filtrar\r\n          </button>\r\n          <button onClick={clear_filter} className={classes.button}>\r\n            Limpiar Filtros\r\n          </button>\r\n          <button onClick={create_pdf} className={classes.button}>\r\n            <i className=\"bi bi-file-earmark-plus-fill\"></i> Generar PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_conductor_viajes_ant;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n/**Components import */\r\nimport Header from \"../../components/Header\";\r\nimport MENU_LATERAL from \"../../components/Side_menu\";\r\nimport {MenuTest} from \"../../components/items/Menu_items\";\r\nimport DRAWERPERFILUSUARIO from \"../../components/DrawerPerfilUsuario\";\r\n\r\nimport { cerrar__sesion } from \"../../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nimport TABLA_VIAJES_CONDUCTOR from \"../admin/data_tables/DataTable_conductor_viajes_ant\";\r\n\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport EventBusyIcon from \"@material-ui/icons/EventBusy\";\r\n\r\nimport LocationOnRoundedIcon from \"@material-ui/icons/LocationOnRounded\";\r\n\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport \"./estilos_conductor_viajes.css\";\r\n\r\nimport {CARDS_ADMIN_BG_COLOR, CARDS_ADMIN_TEXT_COLOR, DATATABLE_BG_COLOR} from \"../../variables\";\r\n\r\nconst Conductor_viajes = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [usuario, setUsuario] = useState(null);\r\n  const [viajes, setViajes] = useState(null);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const [ultimo_viaje, setUltimoViaje] = useState(null);\r\n  const [proximo_viaje, setProximoViaje] = useState(\"\");\r\n  const [acutal_viaje, setActualViaje] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(async () => {\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then(async (doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n          setViajes(doc.data().viajes);\r\n          let cont = 0;\r\n\r\n          const filtro_ultimo = doc\r\n            .data()\r\n            .viajes.filter((x) => dayjs(x.fecha.toDate()).isBefore(dayjs()));\r\n\r\n          const filtro_proximo = doc\r\n            .data()\r\n            .viajes.filter((x) => dayjs(x.fecha.toDate()).isAfter(dayjs()));\r\n\r\n          const sorted_filtro_ultimo = filtro_ultimo.sort(\r\n            (a, b) => b.fecha - a.fecha\r\n          );\r\n\r\n          const sorted_filtro_proximo = filtro_proximo.sort(\r\n            (a, b) => a.fecha - b.fecha\r\n          );\r\n\r\n          const ultimo = sorted_filtro_ultimo.find((element) =>\r\n            dayjs(element.fecha.toDate()).isBefore(dayjs(), \"date\")\r\n          );\r\n          const proximo = sorted_filtro_proximo.find((element) =>\r\n            dayjs(element.fecha.toDate()).isAfter(dayjs())\r\n          );\r\n          const actual = doc\r\n            .data()\r\n            .viajes.find((element) =>\r\n              dayjs(element.fecha.toDate()).isSame(dayjs(), \"date\")\r\n            );\r\n\r\n          if (ultimo) {\r\n            var ultimoRef = db.collection(\"empresa\").doc(ultimo.destino);\r\n            await ultimoRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  ultimo.destino = doc.data().empresa;\r\n                  ultimo.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          if (actual) {\r\n            var actualRef = db.collection(\"empresa\").doc(actual.destino);\r\n            await actualRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  actual.destino = doc.data().empresa;\r\n                  actual.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          if (proximo) {\r\n            var proximoRef = db.collection(\"empresa\").doc(proximo.destino);\r\n            await proximoRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  proximo.destino = doc.data().empresa;\r\n                  proximo.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          setUltimoViaje(ultimo);\r\n          setProximoViaje(proximo);\r\n          setActualViaje(actual);\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Mi Perfil\",\r\n      icon: <AccountCircleIcon />,\r\n      onClick: () => {\r\n        setVisible(true);\r\n        //setSelectedItem(null);\r\n        //setOpenModalCamion(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <Header openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={CONDUCTOR_ITEMS}\r\n              admin_settings={[]}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        <div className=\"card-container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n          <div style={{padding : 10}}>\r\n              <span className=\"card-title\">Ultimo viaje: </span>\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje\r\n                  ? dayjs(ultimo_viaje.fecha.toDate())\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY hh:mm A\")\r\n                  : \"No posee viajes realizados\"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-title\">con destino a :</span>\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje ? ultimo_viaje.destino : \"No posee viajes realizados\"}\r\n              </span>\r\n\r\n              <br />\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje ? ultimo_viaje.direccion : \"\"}\r\n              </span>\r\n              <br />\r\n            </div>\r\n            <div className=\"icon-container\">\r\n              <EventAvailableIcon className=\"icon\" />\r\n            </div>\r\n          </div>\r\n          {acutal_viaje ? (\r\n            <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n              <div style={{padding : 10}}>\r\n                <span className=\"card-title\">Su viaje de hoy es: </span>\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje\r\n                    ? dayjs(acutal_viaje.fecha.toDate())\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY hh:mm A\")\r\n                    : \"\"}\r\n                </span>\r\n                <br />\r\n                <span className=\"card-title\">con destino a :</span>\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje ? acutal_viaje.destino : \"No posee viajes programados\"}\r\n                </span>\r\n\r\n                <br />\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje ? acutal_viaje.direccion : \"No posee viajes programados\"}\r\n                </span>\r\n                <br />\r\n              </div>\r\n              <div className=\"icon-container\">\r\n                <LocationOnRoundedIcon className=\"icon\" />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <span className=\"card-fecha\">\r\n                  No tiene viajes programados para el da de hoy.\r\n                </span>\r\n              </div>\r\n              <div className=\"icon-container\">\r\n                <LocationOnRoundedIcon className=\"icon\" />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div style={{padding : 10}}>\r\n              <span className=\"card-title\">Proximo viaje </span>\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje\r\n                  ? dayjs(proximo_viaje.fecha.toDate())\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY hh:mm A\")\r\n                  : \"\"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-title\">con destino a :</span>\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje ? proximo_viaje.destino : \"\"}{\" \"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje ? proximo_viaje.direccion : \"\"}{\" \"}\r\n              </span>\r\n              <br />\r\n            </div>\r\n            <div className=\"icon-container\">\r\n              <ScheduleIcon className=\"icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"table\">\r\n          <TABLA_VIAJES_CONDUCTOR\r\n            setSelectedItem={setSelectedItem}\r\n            setViajes={setViajes}\r\n          />\r\n        </div>\r\n        <DRAWERPERFILUSUARIO\r\n        visible={visible}\r\n        setVisible={setVisible}\r\n        usuario={usuario}\r\n        closeSlideMenu={closeSlideMenu}\r\n      />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conductor_viajes;\r\n","import React, { useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Drawer } from \"antd\";\r\n\r\nimport { auth } from \"./../db/firebase\";\r\nimport {cerrar__sesion} from \"./../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst DrawerSettings = (props) => {\r\n  const { visible, setVisible, closeSlideMenu } = props;\r\n\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [actualPass, setActualPass] = useState(\"\");\r\n  const [newPass, setNewPass] = useState(\"\");\r\n\r\n  const [errorPass, setErrorPass] = useState(false);\r\n  const [succefulPass, setSuccesfulPass] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  let history = useHistory();\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const onChangeNewPass = async (e) => {\r\n    let verify = e.target.value;\r\n    console.log(verify);\r\n\r\n    await setNewPass(verify);\r\n\r\n    if (verify.length > 7) {\r\n      if (/[A-Z]/.test(verify) && /[a-z]/.test(verify)) {\r\n        setDisabled(false);\r\n      } else {\r\n        setDisabled(true);\r\n      }\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  const changePassword = () => {\r\n    let pass_actual = localStorage.getItem(\"password\");\r\n    console.log(\"actual pass => \", actualPass);\r\n    console.log(\"new pass => \", newPass);\r\n\r\n    var user = auth.currentUser;\r\n    var newPassword = newPass;\r\n    console.log(user);\r\n\r\n    if (pass_actual === actualPass) {\r\n      console.log(\"CONTRASEAS COINCIDEN\");\r\n      var user = auth.currentUser;\r\n      var newPassword = newPass;\r\n\r\n      user\r\n        .updatePassword(newPassword)\r\n        .then(function () {\r\n          setSuccesfulPass(true);\r\n          setTimeout(() => {\r\n            setSuccesfulPass(false);\r\n            //redirigir al login.\r\n            cerrar__sesion();\r\n            history.push('/');\r\n          }, 5000);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"error => \", error);\r\n          setErrorMessage(\"Para realizar esta accin inicie sesin de nuevo.\");\r\n          setErrorPass(true);\r\n          setTimeout(() => {\r\n            setErrorPass(false);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      console.log(\"CONTRASEAS NO COINCIDEN\");\r\n      setErrorMessage(\"Contrasea acutal no coincide con nuestros registros.\");\r\n      setErrorPass(true);\r\n      setTimeout(() => {\r\n        setErrorPass(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Drawer\r\n        title=\"Administrador\"\r\n        placement={\"left\"}\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        key={\"left\"}\r\n      >\r\n        {errorPass ? \r\n          <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n            <strong>Error: </strong> Contraseas no coinciden.\r\n          </div>\r\n          :\r\n          \"\"\r\n          }\r\n          {succefulPass ? \r\n          <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n            <strong>Exito: </strong> Redirigiendo....\r\n          </div>\r\n          :\r\n          \"\"\r\n          }\r\n        <p>Contrasea actual:</p>\r\n        <div class=\"input-group mb-3 mx-auto\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">\r\n            @\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"Contrasea actual\"\r\n            aria-label=\"Contrasea\"\r\n            aria-describedby=\"basic-addon1\"\r\n            onKeyUp={(e) => setActualPass(e.target.value)}\r\n            autocomplete=\"new-password\"\r\n          />\r\n        </div>\r\n        <p>Contrasea nueva:</p>\r\n        <div class=\"input-group mb-3 mx-auto\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">\r\n            @\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"Contrasea nueva\"\r\n            aria-label=\"Contrasea\"\r\n            aria-describedby=\"basic-addon1\"\r\n            onKeyUp={(e) => onChangeNewPass(e)}\r\n            minLength=\"6\"\r\n            autocomplete=\"new-password\"\r\n          />\r\n        </div>\r\n        <p>\r\n          {disabled\r\n            ? \"La contrasea debe ser mayor de 8 caracteres.\"\r\n            : \"Contrasea Valida :)\"}\r\n        </p>\r\n        <button\r\n          class=\"btn btn-danger mt-3\"\r\n          onClick={changePassword}\r\n          disabled={disabled}\r\n        >\r\n          Cambiar Contrasea\r\n        </button>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerSettings;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\n/**import de componentes */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\n/** import de iconos */\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\n/** import de funciones base de datos */\r\nimport { db } from \"../../../db/firebase\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\n/** Estilos */\r\nimport \"./estilos_admin_home.css\";\r\nimport {CARDS_ADMIN_BG_COLOR, CARDS_ADMIN_TEXT_COLOR } from \"../../../variables\";\r\n\r\n/** Libreria para manipulacin de fechas */\r\nimport * as dayjs from \"dayjs\";\r\nvar weekOfYear = require(\"dayjs/plugin/weekOfYear\");\r\ndayjs.extend(weekOfYear);\r\n\r\nconst Admin_home = (props) => {\r\n  /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const ADMIN_HOME_ITEMS = [\r\n    {\r\n      text: \"Trudistics\",\r\n      isDisabled: true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick: () => {\r\n        setVisible(true);\r\n      },\r\n    },\r\n    {\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const [data, setData] = useState([]);\r\n  const [dataViajes, setDataViajes] = useState([]);\r\n  const [dataUsuarios, setDataUsuarios] = useState([]);\r\n  const [dataEmpresas, setDataEmpresas] = useState([]);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  const get__usuario = () => {\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          setTimeout(function () {\r\n            setDataUsuarios(result);\r\n            setIsLoaded(true);\r\n          }, 1000);\r\n        },\r\n        // Nota: es importante manejar errores aqu y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          //console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camionRef = db.collection(\"camion\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach((doc) => {\r\n      var c = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n      };\r\n      camiones.push(c);\r\n    });\r\n    setTimeout(function () {\r\n      setData(camiones);\r\n      setIsLoaded(true);\r\n    }, 1000);\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n    await db\r\n      .collection(\"usuario\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let item = {};\r\n        let data_camiones = {};\r\n        querySnapshot.forEach((doc) => {\r\n          doc.data().viajes.forEach((x) => {\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:MM A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            item = {\r\n              id: x.id,\r\n              fechaSorter: x.fecha.toDate(),\r\n              fecha: formatDate,\r\n              conductor: doc.data().nombres,\r\n              camion: x.camion,\r\n              origen: x.origen,\r\n              destino: x.destino,\r\n              estado: x.estado ? \"True\" : \"false\",\r\n              id_user: doc.id,\r\n              id_camion: x.id_camion,\r\n              fecha_camion: formatDate2,\r\n            };\r\n\r\n            data_camiones = {\r\n              id_camion: x.id_camion,\r\n              fecha: formatDate2,\r\n            };\r\n\r\n            item__list.push(item);\r\n          });\r\n        });\r\n        setDataViajes(item__list);\r\n      });\r\n  };\r\n\r\n  const get__empresas = async () => {\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setTimeout(function () {\r\n      setDataEmpresas(empresas);\r\n      setIsLoaded(true);\r\n    }, 1000);\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n    get__viajes();\r\n    get__usuario();\r\n    get__empresas();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let user = localStorage.getItem(\"user\");\r\n    console.log(\"usuario => \", user);\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          //console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n      \r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n          \r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n        \r\n      </div>\r\n\r\n      <div className={\"menu_lateral\"} ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_HOME_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        <div className=\"card_container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className={\"card_title\"}>{dataUsuarios.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">usuarios registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-person icon\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{dataViajes.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">viajes registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-calendar icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card_container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{data.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n\r\n              <span className=\"card_text\">camiones registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-truck icon\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{dataEmpresas.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">empresas registradas</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-building icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_home;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from 'antd';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function AlertDialogSlide(props) {\r\n  const {\r\n    children,\r\n    openAlert,\r\n    setOpenAlert,\r\n    selectedUser,\r\n    setSelectedUser,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__user = async (uid) => {\r\n    const url = \"http://localhost:4000/api/admin/delete/\";\r\n    var data = {\r\n      id: uid,\r\n    };\r\n    fetch(url, {\r\n      method: \"DELETE\", // or 'PUT'\r\n      body: JSON.stringify(data), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => console.error(\"Error:\", error))\r\n      .then((response) => {\r\n        var men = \"Usuario \" + selectedUser.email + \"ha sido eliminado.\";\r\n        enqueueSnackbar(men, {\r\n          variant: \"error\",\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={openAlert}\r\n      TransitionComponent={Transition}\r\n      onClose={() => setSelectedUser(null)}\r\n      aria-labelledby=\"alert-dialog-slide-title\"\r\n      aria-describedby=\"alert-dialog-slide-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-slide-title\">\r\n        {\"Quieres borrar esta cuenta?\"}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Alert\r\n          message=\"ID : \"\r\n          description={<DialogContentText id=\"alert-dialog-slide-description\" color=\"secondary\">Cuenta de usuario:{selectedUser ? \" \"+selectedUser.email : \" No hay un usuario seleccionado\"}</DialogContentText>}\r\n          type=\"error\"\r\n        />\r\n        \r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setOpenAlert(false);\r\n            setSelectedUser(null);\r\n            closeSlideMenu();\r\n          }}\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            if (selectedUser) {\r\n              delete__user(selectedUser.id);\r\n            }\r\n\r\n            setOpenAlert(false);\r\n            setSelectedUser(null);\r\n            closeSlideMenu();\r\n          }}\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n        >\r\n          Eliminar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\n//import { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\n//import DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n/*\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n*/\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog(props) {\r\n  //const classes = useStyles();\r\n\r\n  const [fullWidth] = React.useState(true);\r\n  const [maxWidth] = React.useState('lg');\r\n\r\n  const {\r\n    children,\r\n    openModalConductor,\r\n    setOpenModalConductor,\r\n    selectedUser,\r\n    selectedItem,\r\n    //setSelectedUser,\r\n    //title\r\n\r\n    closeSlideMenu\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalConductor}\r\n        TransitionComponent={Transition}\r\n        fullWidth={fullWidth}\r\n        maxWidth={maxWidth}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\" className={selectedItem ? \"bg-warning\" : \"bg-primary\"}>\r\n          {selectedUser ? \"Modificar Cuenta\" : \"Crear Cuenta\"}\r\n        </DialogTitle>\r\n\r\n        <DialogContent>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {setOpenModalConductor(false); closeSlideMenu()}} color=\"primary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#bed3f3\",\r\n    display: \"flex\",\r\n    alignItems : 'center'\r\n  },\r\n\r\n  icon: {\r\n    color: \"#db3e00\",\r\n    fontSize: 24,\r\n    marginRight: 5,\r\n    marginLeft: 3,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: 18,\r\n        marginLeft: 0,\r\n    },\r\n  },\r\n\r\n  text : {\r\n    fontSize: 15,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: 12,\r\n    },\r\n  }\r\n}));\r\n\r\nconst FormErrorMessage = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const { children } = props;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ErrorIcon className={classes.icon} />\r\n      <Typography \r\n        align=\"center\"\r\n        color=\"error\"\r\n        variant=\"body2\"\r\n        className={classes.text}\r\n      >\r\n        {children}\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormErrorMessage;\r\n","import React, { useRef, useState } from \"react\";\r\nimport {\r\n  TextField,\r\n  Box,\r\n  Button,\r\n  Avatar,\r\n  Backdrop,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { storage } from \"../../db/firebase\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport FormErrorMessage from \"../FormErrorMessage\";\r\n\r\nimport emailjs from \"emailjs-com\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#fff\",\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    //minHeight: '100vh',\r\n  },\r\n\r\n  container_wrap: {\r\n    //backgroundColor: \"#a4c7c2\",\r\n    width: \"65vw\",\r\n    padding: 10,\r\n\r\n    display: \"flex\",\r\n  },\r\n\r\n  container: {\r\n    //backgroundColor: \"#a4c7c2\",\r\n    width: \"60vw\",\r\n    padding: 10,\r\n  },\r\n\r\n  input__email: {\r\n    marginBottom: 10,\r\n  },\r\n\r\n  container__nombres: {\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__rut_telefono_domicilio: {\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__inputFile: {\r\n    marginTop: 15,\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__avatar: {\r\n    //backgroundColor: \"#a4bac7\",\r\n    width: \"15vw\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  avatar: {\r\n    //backgroundColor: \"#3f276c\",\r\n    width: \"100%\",\r\n    height: 200,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  input__nombres: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__rut_telefono: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__domicilio: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__file: {\r\n    width: \"50%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n\r\n  estado_input :{\r\n    height : 30,\r\n    width : \"50%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n      marginTop : 10\r\n    },\r\n  }\r\n}));\r\n\r\nconst FormConductor = (props) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const { selectedUser, setOpenModalConductor, closeSlideMenu } = props;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  //const [fileName, setFileName] = useState(\"\");\r\n  const [photoUrl, setPhotoUrl] = useState(\"\");\r\n  //const [newUser, setNewUser] = useState(null);\r\n\r\n  //const [snackBar, setSnackBar] = useState(\"\");\r\n\r\n  const file = useRef();\r\n\r\n  const uploadPhoto = async () => {\r\n    console.log(\"ON CHANGE FOTO\");\r\n    const file_img = file.current.files[0];\r\n    //setPhotoUrl(file_name);\r\n\r\n    if (file_img) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhotoUrl(reader.result);\r\n      };\r\n      await reader.readAsDataURL(file_img);\r\n    }\r\n  };\r\n\r\n  const edit__user = async (edit_user) => {\r\n    console.log(\"!!! API -> EDITARUSUARIO !!!\");\r\n    const url = \"http://localhost:4000/api/admin/edit/\";\r\n\r\n    fetch(url, {\r\n      method: \"PUT\", // or 'PUT'\r\n      body: JSON.stringify(edit_user), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => console.error(\"Error:\", error))\r\n      .then((response) => {\r\n        /** !!!!! ESTA SEGURO DE LOS CAMBIOS REALIZADOS? -> DTOS DEL USUARIO */\r\n        closeSlideMenu();\r\n        setOpenModalConductor(false);\r\n        console.log(\"Success:\", response);\r\n        var men = \"Usuario editado exitosamente.\";\r\n        enqueueSnackbar(men, {\r\n          variant: \"info\",\r\n          preventDuplicate: true,\r\n          autoHideDuration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const register__user = async (new_user) => {\r\n    console.log(\"!!! API -> REGISTRAR USUARIO !!!\");\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n\r\n    fetch(url, {\r\n      method: \"POST\", // or 'PUT'\r\n      body: JSON.stringify(new_user), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => {\r\n        //var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n        enqueueSnackbar(error, {\r\n          variant: \"success\",\r\n          autoHideDuration: 3000,\r\n        });\r\n      })\r\n      .then((response) => {\r\n        /** !!!!! ESTA SEGURO DE CREAR EL SIGUIENTE USUARIO? -> DTOS DEL USUARIO */\r\n        closeSlideMenu();\r\n        setOpenModalConductor(false);\r\n        console.log(\"res => \", response);\r\n        var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n        var variant = \"\";\r\n        if (response.code) {\r\n          switch (response.code) {\r\n            case \"auth/email-already-exists\":\r\n              men = \"Correo ya se encuentra registrado\";\r\n              variant = \"warning\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          enqueueSnackbar(men, {\r\n            variant: variant,\r\n            preventDuplicate: true,\r\n            autoHideDuration: 3000,\r\n          });\r\n        } else {\r\n          var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n          enqueueSnackbar(men, {\r\n            variant: \"success\",\r\n            autoHideDuration: 3000,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  const [random_pass, setRandomPass] = useState('');\r\n  const onSubmit = (data, e) => {\r\n    setLoading(true);\r\n    if (selectedUser) {\r\n      console.log(\"!!! MODIFICAR USUARIO !!! \", data);\r\n\r\n      var metadata = {\r\n        contentType: \"image/jpeg\",\r\n      };\r\n      var storageRef = storage.ref();\r\n      var pathName = \"avatars/\" + data.email + \".profilePhoto\";\r\n      var avatarRef = storageRef.child(pathName);\r\n\r\n      avatarRef.put(file.current.files[0], metadata).then(function (snapshot) {\r\n        avatarRef.getDownloadURL().then((x) => {\r\n          //setPhotoUrl(x);\r\n          var new_user = {\r\n            id: selectedUser.id,\r\n            email: data.email,\r\n            nombres: data.nombres,\r\n            apellidos: data.apellidos,\r\n            rut: data.rut,\r\n            telefono: data.telefono,\r\n            photoUrl: photoUrl ? x : selectedUser.photoURL,\r\n            estado : data.estado,\r\n            //domicilio : data.domicilio\r\n          };\r\n\r\n          edit__user(new_user);\r\n        });\r\n        console.log(\"Uploaded a blob or file!\");\r\n      });\r\n      //setLoading(false);\r\n    } else {\r\n      console.log(\"!!! REGISTRAR USUARIO NUEVO !!! \", data);\r\n\r\n      var metadata = {\r\n        contentType: \"image/jpeg\",\r\n      };\r\n      var storageRef = storage.ref();\r\n      var pathName = \"avatars/\" + data.email + \".profilePhoto\";\r\n      var avatarRef = storageRef.child(pathName);\r\n\r\n      avatarRef.put(file.current.files[0], metadata).then(function (snapshot) {\r\n        avatarRef.getDownloadURL().then((x) => {\r\n          setPhotoUrl(x);\r\n\r\n          console.log(data.email);\r\n          let email_split = data.email.split(\"@\");\r\n          console.log(email_split[0]);\r\n          let random_pass = email_split[0] + data.rut.slice(-5);\r\n          console.log(\"password ====> \", random_pass);\r\n          setRandomPass(random_pass);\r\n\r\n          var new_user = {\r\n            email: data.email,\r\n            nombres: data.nombres,\r\n            apellidos: data.apellidos,\r\n            rut: data.rut,\r\n            telefono: data.telefono,\r\n            photoUrl: x,\r\n            password: random_pass,\r\n            estado : data.estado,\r\n            //domicilio : data.domicilio\r\n          };\r\n\r\n          //console.log(new_user);\r\n\r\n          register__user(new_user);\r\n          /*\r\n          emailjs.sendForm(\"service_3t2jqug\",\"template_cdbcycc\",e.target,\"user_CzJpNEaTEgmDCaNX3wWLO\")\r\n            .then(\r\n              (result) => {\r\n                console.log(result.text);\r\n              },\r\n              (error) => {\r\n                console.log(error.text);\r\n              }\r\n            );\r\n            */\r\n        });\r\n        console.log(\"Uploaded a blob or file!\");\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Backdrop open={loading} className={classes.backdrop}>\r\n        <CircularProgress color=\"secondary\" />\r\n      </Backdrop>\r\n      <form\r\n        className={classes.root}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <Box className={classes.container_wrap}>\r\n          <Box>\r\n            <Box className={classes.container__avatar}>\r\n              <Box className={classes.avatar}>\r\n                <Avatar\r\n                  alt=\"user_avatar\"\r\n                  src={\r\n                    photoUrl\r\n                      ? photoUrl\r\n                      : selectedUser\r\n                      ? selectedUser.photoURL\r\n                      : \"\"\r\n                  }\r\n                  variant=\"square\"\r\n                  className={classes.avatar}\r\n                />\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box className={classes.container}>\r\n            <Box className={classes.input__email}>\r\n              <TextField\r\n                name=\"email\"\r\n                id=\"id_email\"\r\n                label=\"Email\"\r\n                fullWidth\r\n                inputRef={register({\r\n                  required: true,\r\n                  pattern: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\r\n                })}\r\n                defaultValue={selectedUser ? selectedUser.email : \"\"}\r\n              />\r\n              {errors.email && errors.email.type === \"required\" && (\r\n                <FormErrorMessage>'Email' es Requerido.</FormErrorMessage>\r\n              )}\r\n              {errors.email && errors.email.type === \"pattern\" && (\r\n                <FormErrorMessage>Formato de correo invalido.</FormErrorMessage>\r\n              )}\r\n            </Box>\r\n\r\n            <Box className={classes.container__nombres}>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"nombres\"\r\n                  id=\"id_nombres\"\r\n                  label=\"Nombres\"\r\n                  className={classes.input__nombres}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.nombres : \"\"}\r\n                />\r\n                {errors.nombres && errors.nombres.type === \"required\" && (\r\n                  <FormErrorMessage>'Nombre' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"apellidos\"\r\n                  id=\"id_apellidos\"\r\n                  label=\"Apellidos\"\r\n                  className={classes.input__nombres}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.apellidos : \"\"}\r\n                />\r\n                {errors.apellidos && errors.apellidos.type === \"required\" && (\r\n                  <FormErrorMessage>'Apellido' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box className={classes.container__rut_telefono_domicilio}>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"rut\"\r\n                  id=\"id_rut\"\r\n                  label=\"Rut\"\r\n                  className={classes.input__rut_telefono}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.rut : \"\"}\r\n                />\r\n\r\n                {errors.rut && errors.rut.type === \"required\" && (\r\n                  <FormErrorMessage>'Rut' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"telefono\"\r\n                  id=\"id_telefono\"\r\n                  label=\"Telefono\"\r\n                  className={classes.input__rut_telefono}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.telefono : \"\"}\r\n                />\r\n                {errors.telefono && errors.telefono.type === \"required\" && (\r\n                  <FormErrorMessage>'Telefono' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n            <Box className={classes.container__inputFile}>\r\n              <input\r\n                name=\"photoUrl\"\r\n                id=\"id_photoUrl\"\r\n                type=\"file\"\r\n                className={classes.input__file}\r\n                ref={file}\r\n                onChange={(e) => {\r\n                  uploadPhoto();\r\n                }}\r\n              />\r\n              <select name=\"estado\" ref={register({ required: true })} defaultValue={selectedUser ? selectedUser.estado : null} className={classes.estado_input}>\r\n                <option value=\"false\">Activo</option>\r\n                <option value=\"true\">Inactivo</option>\r\n              </select>\r\n            </Box>\r\n\r\n            <Box className={classes.container__inputFile}>\r\n              <input type=\"hidden\" value={random_pass} name=\"password\"></input>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {}} //uploadPhoto()}\r\n                type=\"submit\"\r\n              >\r\n                {selectedUser ? \"Modificar Usuario\" : \"Registrar Usuario\"}\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormConductor;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Select } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      backgroundColor: DATATABLE_BG_COLOR,\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \":\r\n      {\r\n        background: DATATABLE_BG_COLOR,\r\n        color: DATATABLE_TEXT_COLOR,\r\n      },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  buscador: {\r\n    width: \"40%\",\r\n    padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Correo\",\r\n    dataIndex: \"email\",\r\n    render: (text) => <strong className=\"\">{text}</strong>,\r\n    sorter: (a, b) => a.email.localeCompare(b.email),\r\n  },\r\n  {\r\n    title: \"Nombres\",\r\n    dataIndex: \"nombres\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"Apellidos\",\r\n    dataIndex: \"apellidos\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"Estado\",\r\n    dataIndex: \"estado\",\r\n    key: \"estado\",\r\n    render: (estado) =>\r\n      estado === \"true\" ? (<strong className=\"text-danger\">Inactivo</strong>) : (<strong className=\"text-success\">Activo</strong>),\r\n  },\r\n];\r\n\r\nconst DataTable_conductor_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedUser,\r\n    selectedUser,\r\n    setSelectedItem,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n    functionBuscar,\r\n  } = props;\r\n\r\n  const { Option } = Select;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n  const [filter_correo, setFilterCorreo] = useState(null);\r\n  const [filter_nombres, setFilterNombres] = useState(\"\");\r\n\r\n  const query = db.collection(\"usuario\");\r\n  const observerUsuario = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const get__usuario = () => {\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          console.log(result);\r\n          setTimeout(function () {\r\n            const filteredEvents = result.sort((a, b) => a.estado.localeCompare(b.estado))\r\n\r\n            setData(result);\r\n            setFilterData(filteredEvents);\r\n\r\n            setIsLoaded(false);\r\n          }, 1000);\r\n        },\r\n        // Nota: es importante manejar errores aqu y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectedRowKeys([selectedRows]);\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n\r\n      //setIsSelected(false)\r\n      setSelectedUser(selectedRows[0]);\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(formatDate);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  useEffect(async () => {\r\n    console.log(\"<----RENDER TABLA USUARIOS---->\");\r\n    await get__usuario();\r\n  }, [size, edit]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  function onSelectEstado(val) {\r\n    console.log(\"on select estado => \", val);\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function onSelectCorreo(val) {\r\n    console.log(\"on select correo => \", val);\r\n    setFilterCorreo(val);\r\n  }\r\n\r\n  function onChangeNombre(val) {\r\n    console.log(\"on change nombre => \", val.target.value);\r\n\r\n    setFilterNombres(val.target.value);\r\n\r\n    const filteredEvents = data.filter(({ nombres, email, rut }) =>\r\n      nombres.toLowerCase().includes(val.target.value.toLowerCase()) ||\r\n      email.toLowerCase().includes(val.target.value.toLowerCase())\r\n    );\r\n    \r\n    setFilterData(filteredEvents);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"filter general\");\r\n    if (filter_estado !== null && filter_correo === null) {\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (filter_estado === null && filter_correo !== null) {\r\n      const filteredEvents = data.filter(\r\n        ({ email }) => email === filter_correo\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (filter_estado !== null && filter_correo !== null) {\r\n      const filteredEvents = data.filter(\r\n        ({ estado, email }) =>\r\n          estado === filter_estado && email === filter_correo\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n  }\r\n\r\n  function limpiar_filtros() {\r\n    setFilterData(data);\r\n\r\n    setFilterCorreo(null);\r\n    setFilterEstado(null);\r\n    setFilterNombres(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        loading={isLoaded}\r\n        title={() => (\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Busqueda por Nombre o Correo...\"\r\n              onChange={(e) => onChangeNombre(e)}\r\n              value={filter_nombres}\r\n              className={classes.buscador}\r\n            />\r\n          </div>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_conductor_ant;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\nimport Alert_cerrar from \"../../../components/Alert\";\r\nimport ModalConductor from \"../../../components/modals/ModalConductor\";\r\nimport FormConductor from \"../../../components/forms/FormConductor\";\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_CONDUCTOR_ANT from \"../data_tables/DataTable_conductor_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport \"./estilos_admin_usuario.css\"\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nconst Admin_conductores = () => {\r\n /** hook drawer admin */\r\n const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  /**  */\r\n  const [openModalConductor, setOpenModalConductor] = useState(null);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key : 2,\r\n      text: \"Crear Cuenta\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {setSelectedUser(null); setOpenModalConductor(true); setSelectedItem(null)},\r\n    },\r\n    {\r\n      key : 3,\r\n      text: \"Modificar Cuenta\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalConductor(true),\r\n      isDisabled: selectedUser ? false : true,\r\n    },\r\n    {\r\n      key : 4,\r\n      text: \"Eliminar Cuenta\",\r\n      icon: <DeleteIcon />,\r\n      //onClick: () => delete__user(idUser),\r\n      //onClick: () => handleClickOpen(),\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedUser ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key : 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key : 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const fun = (user) => {\r\n    console.log(\"FROM PARENT !!!!!\" + user);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser = {selectedUser}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>USUARIOS</span></div>\r\n        <div className=\"table\">\r\n          {/*<TABLA_CONDUCTOR fun={fun} setIsSelected={setIsSelected} />*/}\r\n          <TABLA_CONDUCTOR_ANT \r\n            setSelectedUser={setSelectedUser} \r\n            setIsSelected={setIsSelected} \r\n            selectedUser={selectedUser}\r\n            setSelectedItem={setSelectedItem}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n      </div>\r\n      <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n      <Alert_cerrar\r\n        openAlert={open}\r\n        setOpenAlert={setOpen}\r\n        selectedUser={selectedUser}\r\n        setSelectedUser={setSelectedUser}\r\n        closeSlideMenu={closeSlideMenu}\r\n      ></Alert_cerrar>\r\n\r\n      <ModalConductor\r\n        openModalConductor={openModalConductor}\r\n        setOpenModalConductor={setOpenModalConductor}\r\n        selectedUser={selectedUser}\r\n        selectedItem={selectedItem}\r\n        closeSlideMenu={closeSlideMenu}\r\n      >\r\n        <FormConductor selectedUser={selectedUser} setOpenModalConductor={setOpenModalConductor} closeSlideMenu={closeSlideMenu}/>\r\n      </ModalConductor>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_conductores;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport * as dayjs from \"dayjs\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \": {\r\n      background: DATATABLE_BG_COLOR,\r\n      color: DATATABLE_TEXT_COLOR,\r\n    },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Modelo\",\r\n    dataIndex: \"modelo\",\r\n    render: (text) => <strong className=\"\">{text}</strong>,\r\n    sorter: (a, b) => a.modelo.localeCompare(b.modelo),\r\n  },\r\n  {\r\n    title: \"Marca\",\r\n    dataIndex: \"marca\",\r\n    key: \"marca\",\r\n  },\r\n  {\r\n    title: \"Patente\",\r\n    dataIndex: \"patente\",\r\n    key: \"patente\",\r\n  },\r\n  {\r\n    title: \"Estado\",\r\n    dataIndex: \"estado\",\r\n    key: \"estado\",\r\n    render: (estado) =>\r\n      estado === \"true\" ? (<strong style={{ color: \"red\" }}>Inactivo</strong>) : (<strong className=\"text-primary\">Activo</strong>),\r\n  },\r\n];\r\n\r\nconst DataTable_camion_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    mensaje_accion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n  } = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(false);\r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(formatDate);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camionRef = db.collection(\"camion\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach((doc) => {\r\n      var c = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n        estado : doc.data().estado,\r\n      };\r\n      camiones.push(c);\r\n    });\r\n    setTimeout(function () {\r\n      const filteredEvents = camiones.sort((a, b) => a.estado.localeCompare(b.estado) || a.modelo.localeCompare(b.modelo)) \r\n      setData(filteredEvents);\r\n      setIsLoaded(false);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_camion_ant;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport emailjs from 'emailjs-com';\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from 'antd';\r\n\r\nimport * as dayjs from \"dayjs\";\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function ConfirmAlert(props) {\r\n  const {\r\n    title,\r\n    description,\r\n    action,\r\n\r\n    children,\r\n    openAlert,\r\n    setOpenAlert,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    men,\r\n    email_destino,\r\n    closeSlideMenu\r\n  } = props;\r\n\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  return (\r\n    <Dialog\r\n      open={openAlert}\r\n      TransitionComponent={Transition}\r\n      onClose={() => setSelectedItem(null)}\r\n      aria-labelledby=\"alert-dialog-slide-title\"\r\n      aria-describedby=\"alert-dialog-slide-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-slide-title\">\r\n        {title}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        \r\n        <Alert\r\n          message={<div><strong>{men}</strong> (Esta accin no se puede revertir.)</div>}\r\n          description={<DialogContentText id=\"alert-dialog-slide-description\" color=\"secondary\">{description}</DialogContentText>}\r\n          type=\"error\"\r\n        />\r\n        \r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setSelectedItem(null);\r\n            setOpenAlert(false);\r\n            closeSlideMenu();\r\n            \r\n          }}\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <form onSubmit={(e)=>{\r\n          e.preventDefault();\r\n          emailjs.sendForm('service_3t2jqug', 'template_60oxr8w', e.target, 'user_CzJpNEaTEgmDCaNX3wWLO')\r\n          .then((result) => {\r\n            console.log(result.text);\r\n            setSelectedItem(null);\r\n          }, (error) => {\r\n            console.log(error.text);\r\n          })}}>\r\n          <input type=\"hidden\" value={\"Viaje Cancelado\"}  name=\"subject\" required></input>\r\n          <input type=\"hidden\" value={\"Su viaje del da \"+ dayjs(selectedItem ? selectedItem.fecha : '').locale(\"es\").format(\"DD MMMM YYYY HH:mm A\")+\" ha sido cancelado.\"} name=\"fecha\"></input>\r\n          <input type=\"hidden\" value={email_destino} name=\"email\" required></input>\r\n          <Button\r\n            type=\"submit\"\r\n            onClick={() => {\r\n              action();\r\n              setOpenAlert(false);\r\n              closeSlideMenu();\r\n              \r\n            }}\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n          >\r\n            Eliminar\r\n          </Button>\r\n        </form>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function ModalCamionDos(props) {\r\n\r\n  const { title, description, children, openModalCamion, setOpenModalCamion,setSelectedItem, selectedItem, closeSlideMenu } = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalCamion}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\"className={selectedItem ? \"bg-warning\" : \"bg-primary\"}>\r\n        {selectedItem ? <span className=\"text-dark\">Editar Camin</span> : <span className=\"text-white\">Agregar Camin</span>}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {description}\r\n          </DialogContentText>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {setOpenModalCamion(false); setSelectedItem(null);closeSlideMenu(); }} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { TextField, Box, Button, Avatar } from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#c7bfa4\",\r\n\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  inputs: {\r\n    marginBottom: 15,\r\n  },\r\n\r\n  input_estado : {\r\n    fontSize : 16,\r\n    width : \"100%\",\r\n    height : 30,\r\n    marginBottom: 15,\r\n  },\r\n}));\r\n\r\nconst FormConductor = (props) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const { selectedItem, setSelectedItem, setOpenModalCamion, closeSlideMenu } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  const register__camion = async (new_camion) => {\r\n    const res = await db.collection(\"camion\").add({\r\n      modelo: new_camion.modelo,\r\n      marca: new_camion.marca,\r\n      patente: new_camion.patente,\r\n      estado : new_camion.estado,\r\n    });\r\n\r\n    console.log(\"Added document with ID: \", res.id);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const edit__camion = async (data) => {\r\n    const camionRef = db.collection(\"camion\").doc(selectedItem.id);\r\n\r\n    // Set the 'capital' field of the city\r\n    const res = await camionRef.update({\r\n      modelo: data.modelo,\r\n      marca: data.marca,\r\n      patente: data.patente,\r\n      estado : data.estado,\r\n    });\r\n\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(data);\r\n    if (selectedItem) {\r\n      var men = \"Camion ID: \" + selectedItem.id + \" editado exitosamente.\";\r\n      edit__camion(data);\r\n      setOpenModalCamion(false);\r\n      setSelectedItem(null);\r\n\r\n      enqueueSnackbar(men, {\r\n        variant: \"info\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    } else {\r\n      register__camion(data);\r\n      var men = \"Camion PATENTE: \" + data.patente + \" creado exitosamente.\";\r\n      setOpenModalCamion(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form onSubmit={handleSubmit(onSubmit)} className={classes.root}>\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"modelo\"\r\n          label=\"Modelo\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.modelo : \"\"}\r\n        />\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"marca\"\r\n          label=\"Marca\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.marca : \"\"}\r\n        />\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"patente\"\r\n          label=\"Patente\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.patente : \"\"}\r\n        />\r\n        <select\r\n          name=\"estado\"\r\n          ref={register({ required: true })}\r\n          defaultValue={selectedItem ? selectedItem.estado : null}\r\n          className={classes.input_estado}\r\n\r\n        >\r\n          <option value=\"false\" className={classes.option_text}>Activo</option>\r\n          <option value=\"true\" className={classes.option_text}>Inactivo</option>\r\n        </select>\r\n        <button type=\"submit\" className={selectedItem ? \"btn btn-outline-warning\" : \"btn btn-outline-primary\"}>\r\n          {selectedItem ? \"Editar Camin\" : \"Registrar Camin\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormConductor;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_CAMION_ANT from \"../data_tables/DataTable_camion_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\nimport ModalCamion from \"../../../components/modals/ModalCamion\";\r\nimport FormCamion from \"../../../components/forms/FormCamion\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nimport \"./estilos_admin_camion.css\";\r\n\r\nconst Admin_conductores = () => {\r\n   /** hook drawer admin */\r\n   const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const [isSelected, setIsSelected] = useState(true);\r\n\r\n  /**  */\r\n  const [openModalCamion, setOpenModalCamion] = useState(null);\r\n\r\n  const [mensaje_accion, setMensajeAccion] = useState([]);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__camion = async () => {\r\n    const res = await db.collection(\"camion\").doc(selectedItem.id).delete();\r\n    var men = \"Camion ID: \" + selectedItem.id + \" ha sido eliminado.\";\r\n    enqueueSnackbar(men, {\r\n      variant: \"error\",\r\n      autoHideDuration: 3000,\r\n    });\r\n    setMensajeAccion({ mensaje: men, type: \"error\" });\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Agregar Camion\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalCamion(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Camion\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalCamion(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Camion\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n      \r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>CAMIONES</span></div>\r\n\r\n        <div className=\"table\">\r\n          {/** Tabla camiones */}\r\n          <TABLA_CAMION_ANT\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            mensaje_accion={mensaje_accion}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalCamion\r\n          title={\"Camion\"}\r\n          description={\"Descripcin de la accion a realizar\"}\r\n          openModalCamion={openModalCamion}\r\n          setOpenModalCamion={setOpenModalCamion}\r\n          setSelectedItem={setSelectedItem}\r\n          selectedItem={selectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        >\r\n          <FormCamion\r\n            selectedItem={selectedItem}\r\n            setOpenModalCamion={setOpenModalCamion}\r\n            setSelectedItem={setSelectedItem}\r\n            closeSlideMenu={closeSlideMenu}\r\n          />\r\n        </ModalCamion>\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"Quieres borrar este camin?\"}\r\n          description={\r\n            \"Esta accin borrar permanentemente los datos del camion.\"\r\n          }\r\n          action={delete__camion}\r\n          men={selectedItem ? selectedItem.patente : null}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        ></ConfirmAlert>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_conductores;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db, fire } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport { DatePicker, Select } from \"antd\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport ModalReporte from \"../../../components/modals/ModalReporte\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { StatusTag } from \"../../../components/StatusTag\";\r\nimport { StatusFilter } from \"../../../components/StatusFilter\";\r\nimport { DateFilter } from \"../../../components/DateFilter\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport \"moment/locale/es\";\r\nimport locale from \"antd/es/date-picker/locale/es_ES\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\nvar isBetween = require(\"dayjs/plugin/isBetween\");\r\ndayjs.extend(isBetween);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \":\r\n      {\r\n        background: DATATABLE_BG_COLOR,\r\n        color: DATATABLE_TEXT_COLOR,\r\n      },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n\r\n  filter__section: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"20%\",\r\n    backgroundColor: \"#1D1D34\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n    padding: 5,\r\n  },\r\n\r\n  label__container: {},\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter__title: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginRight: 5,\r\n    fontWeight: \"600\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst DataTable_viajes_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    user__id,\r\n    setUser__id,\r\n    setCamion__id,\r\n    setDataCamionFecha,\r\n    setFechaCamion,\r\n    setItemToDelete,\r\n    setConductor,\r\n    setDireccion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n    setEmailDestino,\r\n  } = props;\r\n\r\n  const { RangePicker } = DatePicker;\r\n  const { Option } = Select;\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  const [removeFilter, setRemoveFilter] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const [stateName, setStateName] = useState(\"\");\r\n\r\n  /** filtros */\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [filterState, setFilterState] = useState([]);\r\n\r\n  const [conductor_id, setConductorId] = useState(null);\r\n  const [rango_fechas, setRangoFechas] = useState(null);\r\n  const [fecha, setFecha] = useState(null);\r\n\r\n  const [filter_empresa, setFilterEmpresa] = useState(null);\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n\r\n  const [empresaList, setEmpresaList] = useState([]);\r\n\r\n  const [conductores_list, setConductoresList] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [empresa, setEmpresa] = useState(\"\");\r\n  /** LABELS STATE */\r\n\r\n  const [conductorLabel, setConductorLabel] = useState(false);\r\n  const [rangoLabel, setRangoLabel] = useState(false);\r\n  const [empresaLabel, setEmpresaLabel] = useState(false);\r\n  const [estadoLabel, setEstadoLabel] = useState(false);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Fecha\",\r\n      dataIndex: \"fecha\",\r\n      render: (text) => <strong>{text}</strong>,\r\n  \r\n      sorter: (a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? 1 : -1,\r\n      defaultSortOrder: \"descend\",\r\n    },\r\n  \r\n    {\r\n      title: \"Conductor\",\r\n      dataIndex: \"conductor\",\r\n      key: \"conductor\",\r\n    },\r\n    {\r\n      title: \"Camion\",\r\n      dataIndex: \"camion\",\r\n      key: \"camion\",\r\n    },\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"direccion\",\r\n      key: \"direccion\",\r\n      render: (text, empresa) => <a className=\"text-primary\" onClick={() => ver_empresa_map(empresa.empresa_latitud, empresa.empresa_longitud)}><strong>{text}</strong></a>,\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      key: \"estado\",\r\n      render: (text, record) => <StatusTag status={record.estado} />,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(lat, lon){\r\n    console.log(\"Ver empresa\", empresa);\r\n    // abrir modal\r\n    //entregar lat y lng\r\n\r\n    await setEmpresaCor({lat : lat, lng : lon  });\r\n\r\n    console.log(empresa_cor);\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"APLICANDO FILTRO ...\");\r\n    setFilterData(data);\r\n    console.log(\"filtered data => \", filterData);\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ id_user }) => id_user === conductor_id\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n\r\n      setConductorLabel(true);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      setRangoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_empresa !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id }) => empresa_id === filter_empresa\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEmpresaLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_estado !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEstadoLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_estado !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y ESTADO\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ estado, id_user }) =>\r\n          estado === filter_estado && id_user === conductor_id\r\n      );\r\n\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR Y RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(\r\n        ({ id_user, fechaSorter }) =>\r\n          id_user === conductor_id &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, id_user }) =>\r\n          empresa_id === filter_empresa && id_user === conductor_id\r\n      );\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_empresa !== null &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter }) =>\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado }) =>\r\n          empresa_id === filter_empresa && estado === filter_estado\r\n      );\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_estado !== null &&\r\n      filter_empresa === null &&\r\n      conductor_id === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ fechaSorter, estado }) =>\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA \");\r\n      console.log(\r\n        dayjs(\"30 Abril 2021 21:04 PM\").isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ estado, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas === null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , EMPRESA Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          empresa_id === filter_empresa\r\n      );\r\n\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado, id_user }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    /**\r\n     * Filtro por region y comuna\r\n     * Filtro por empresa\r\n     */\r\n\r\n    //console.log(filteredEvents);\r\n  }\r\n\r\n  function clear_filter() {\r\n    setConductorId(null);\r\n    setRangoFechas(null);\r\n    setFecha(null);\r\n    setFilterEmpresa(null);\r\n    setFilterEstado(null);\r\n\r\n    setConductorLabel(false);\r\n    setRangoLabel(false);\r\n    setEmpresaLabel(false);\r\n    setEstadoLabel(false);\r\n\r\n    setFilterData(data);\r\n  }\r\n\r\n  const handleFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      //console.log(\"DATA FILTER => \",filteredEvents)\r\n      setStateName(\"Completados\");\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      //console.log(\"DATA FILTER => \",filteredEvents)\r\n      setStateName(\"Programados\");\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleDateFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 0) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isSame(\"2021-10-01\", \"month\")\r\n      );\r\n      console.log(\"DATA FILTER => \", filteredEvents);\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      console.log(\"DATA FILTER => \", filteredEvents);\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  function onChangeMonth(date, dateString) {\r\n    setFecha(date);\r\n  }\r\n\r\n  function rangeOnChange(date, dateString) {\r\n    setRangoFechas(date);\r\n  }\r\n\r\n  const query2 = db.collection(\"usuario\");\r\n  const observerUsuario = query2.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      setEmailDestino(selectedRows[0].email);\r\n      var selected__viaje = {\r\n        id: selectedRows[0].id,\r\n        fecha: selectedRows[0].fechaSorter,\r\n        camion: selectedRows[0].id_camion,\r\n        origen: selectedRows[0].origen,\r\n        destino: selectedRows[0].empresa_id,\r\n        id_camion: selectedRows[0].id_camion,\r\n      };\r\n\r\n      var delete__viaje = {\r\n        id: selectedRows[0].id,\r\n        fecha: selectedRows[0].fechaSorter,\r\n        camion: selectedRows[0].id_camion,\r\n        origen: selectedRows[0].origen,\r\n        destino: selectedRows[0].empresa_id,\r\n        id_camion: selectedRows[0].id_camion,\r\n      };\r\n\r\n      console.log(\"Data => \", selectedRows[0]);\r\n\r\n      console.log(\"Viaje seleccionado => \", selected__viaje);\r\n      console.log(\"Viaje a borrar => \", delete__viaje);\r\n      console.log(\"Usuario seleccionado => \", selectedRows[0].id_user);\r\n\r\n      setConductor(selectedRows[0].conductor);\r\n      setSelectedItem(selected__viaje);\r\n      setItemToDelete(delete__viaje);\r\n\r\n      setUser__id(selectedRows[0].id_user);\r\n\r\n      setFechaCamion(selectedRows[0].fecha_camion);\r\n      setCamion__id(selectedRows[0].id_camion);\r\n      setDireccion(selectedRows[0].destino + \", \" + selectedRows[0].direccion);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n    let conductor_list = [];\r\n\r\n    db.collection(\"usuario\")\r\n      .where(\"email\", \"!=\", \"administrador@trudistic.cl\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let item = {};\r\n        let data_camiones = {};\r\n        let conductor_item = {};\r\n\r\n        querySnapshot.forEach((doc) => {\r\n          item = {};\r\n          /** OBTENGO A LOS USUARIOS REGISTRADOS */\r\n          conductor_item = {\r\n            id: doc.id,\r\n            nombres: doc.data().nombres,\r\n            apellidos: doc.data().apellidos,\r\n            disabled: doc.data().disabled,\r\n          };\r\n          conductor_list.push(conductor_item);\r\n\r\n          doc.data().viajes.forEach(async (x) => {\r\n            //console.log(\"!! 1\");\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:m A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            let estado;\r\n            if (dayjs(x.fecha.toDate()).isBefore(dayjs())) {\r\n              estado = true;\r\n            } else {\r\n              estado = false;\r\n            }\r\n\r\n            var empresaRef = db.collection(\"empresa\").doc(x.destino);\r\n            var camionRef = db.collection(\"camion\").doc(x.id_camion);\r\n            let camion_info = \"\";\r\n\r\n            await camionRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                camion_info = doc.data().modelo + \" \" + doc.data().patente;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            let empresa_info = \"\";\r\n            let destino = \"\";\r\n            let idEmpresa = \"\";\r\n            let empresa_latitud;\r\n            let empresa_longitud;\r\n\r\n            await empresaRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                idEmpresa = doc.id;\r\n                empresa_info = doc.data().empresa;\r\n                destino = doc.data().direccion;\r\n\r\n                empresa_latitud = doc.data().latitud;\r\n                empresa_longitud = doc.data().longitud;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            item = {};\r\n            //console.log(\"!! 3\");\r\n\r\n            item = {\r\n              id: x.id,\r\n              email : doc.data().email,\r\n              fechaSorter: x.fecha.toDate(),\r\n              fecha: formatDate,\r\n              conductor: doc.data().nombres + \" \" + doc.data().apellidos,\r\n              camion: camion_info ? camion_info : x.id_camion,\r\n              origen: x.origen,\r\n              destino: destino,\r\n              empresa_id: idEmpresa ? idEmpresa : x.destino,\r\n              estado: estado,\r\n              id_user: doc.id,\r\n              id_camion: x.id_camion,\r\n              fecha_camion: formatDate2,\r\n              direccion: empresa_info ? empresa_info : \"Empresa eliminada...\",\r\n\r\n              empresa_latitud : empresa_latitud,\r\n              empresa_longitud : empresa_longitud,\r\n            };\r\n\r\n            data_camiones = {\r\n              id_camion: x.id_camion,\r\n              fecha: formatDate2,\r\n            };\r\n\r\n            //setFilterData([...filterData , item]);\r\n\r\n            item__list.push(item);\r\n            data_camiones__list.push(data_camiones);\r\n\r\n            //console.log(doc.data().viajes.length);\r\n          });\r\n        });\r\n        setTimeout(function () {\r\n          //console.log(\"!! 4\");\r\n          setDataCamionFecha(data_camiones__list);\r\n          setData(item__list);\r\n          const finalFilter = item__list.sort((a, b) =>\r\n            dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n          );\r\n          setFilterData(finalFilter);\r\n          setFilterState(item__list);\r\n          const filteredEvents = conductor_list.filter(\r\n            ({ disabled }) => disabled !== \"true\"\r\n          );\r\n          setConductoresList(conductor_list);\r\n        }, 500);\r\n      });\r\n    //console.log(\"conductores list =>\",conductores_list)\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    console.log(\"Quitar filtro\");\r\n    setFilterState(data);\r\n  };\r\n\r\n  /** Select Section */\r\n  function onChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  function onSearch(val) {\r\n    console.log(\"search:\", val);\r\n  }\r\n\r\n  function onSelect(val) {\r\n    setConductorId(val);\r\n  }\r\n\r\n  function onSelectEmpresa(val) {\r\n    setFilterEmpresa(val);\r\n  }\r\n\r\n  function onSelectEstado(val) {\r\n    console.log(\"oin select estado => \", val);\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function create_pdf() {\r\n    console.log(\"CREAR PDF\");\r\n    setOpen(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    //console.log(\"EFFECT\");\r\n    get__viajes();\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n        //console.log(list__empresas);\r\n\r\n        setEmpresaList(list__empresas);\r\n\r\n        //console.log(empresaList);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    //console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  useEffect(async () => {\r\n    if (removeFilter === true) {\r\n      console.log(\"USE EFFECT REMOVE\");\r\n\r\n      filter_general();\r\n    }\r\n    setRemoveFilter(false);\r\n\r\n    console.log(removeFilter);\r\n  }, [removeFilter]);\r\n\r\n  const classes = useStyles();\r\n\r\n  function onDeleteConductor() {\r\n    console.log(\"Remover filtro conductor\");\r\n    setConductorLabel(null);\r\n    setConductorId(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteRango() {\r\n    console.log(\"Remover filtro rango de fechas\");\r\n    setRangoFechas(null);\r\n    setRangoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEmpresa() {\r\n    console.log(\"Remover filtro empresa\");\r\n    setFilterEmpresa(null);\r\n    setEmpresaLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEstado() {\r\n    console.log(\"Remover filtro estado\");\r\n    setFilterEstado(null);\r\n    setEstadoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.filter__section}>\r\n        <div className={classes.label__container}>\r\n          <span className={classes.filter__title}>Filtrando por : </span>\r\n          {conductorLabel || rangoLabel || empresaLabel ? (\r\n            \"\"\r\n          ) : (\r\n            <Chip\r\n              label=\"No hay filtros activos\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              onDelete={handleDelete}\r\n              clickable\r\n            />\r\n          )}\r\n          {conductorLabel ? (\r\n            <Chip\r\n              label=\"conductor\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteConductor}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {rangoLabel ? (\r\n            <Chip\r\n              label=\"rango de fechas\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteRango}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {empresaLabel ? (\r\n            <Chip\r\n              label=\"empresa\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEmpresa}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {estadoLabel ? (\r\n            <Chip\r\n              label=\"estado\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEstado}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className={classes.filter__container}>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por conductor :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Conductor\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelect}\r\n              value={conductor_id}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {conductores_list.map((x) => {\r\n                return (\r\n                  <Option value={x.id} key={x.id}>{x.nombres + \" \" + x.apellidos}</Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </div>\r\n\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por rango de fechas :</span>\r\n            <RangePicker\r\n              onChange={rangeOnChange}\r\n              locale={locale}\r\n              value={rango_fechas}\r\n            />\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Empresa :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Empresa\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelectEmpresa}\r\n              value={filter_empresa}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {empresaList.map((x) => {\r\n                return <Option value={x.id} key={x.id}>{x.empresa}</Option>;\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Estado :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Estado\"\r\n              optionFilterProp=\"children\"\r\n              onSelect={onSelectEstado}\r\n              value={filter_estado}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              <Option value={true} key=\"1\">Completado</Option>\r\n              <Option value={false} key=\"2\">Programado</Option>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div className={classes.button__container}>\r\n          <button onClick={filter_general} className={classes.button}>\r\n            <i className=\"bi bi-filter\"></i> Filtrar\r\n          </button>\r\n          <button onClick={clear_filter} className={classes.button}>\r\n            Limpiar Filtros\r\n          </button>\r\n          <button onClick={create_pdf} className={classes.button}>\r\n            <i className=\"bi bi-file-earmark-plus-fill\"></i> Generar PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={false}\r\n      />\r\n\r\n      <ModalReporte open={open} setOpen={setOpen} data={filterData} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_viajes_ant;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Radio, Divider, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport * as dayjs from 'dayjs'\r\n\r\nvar locale_de = require('dayjs/locale/es')\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Correo\",\r\n    dataIndex: \"email\",\r\n    render: (text) => <a>{text}</a>,\r\n    sorter: (a, b) => a.email.localeCompare(b.email),\r\n  },\r\n  {\r\n    title: \"Nombres\",\r\n    dataIndex: \"nombres\",\r\n    key: \"id\",\r\n    responsive: ['sm'],\r\n  },\r\n  {\r\n    title: \"Apellidos\",\r\n    dataIndex: \"apellidos\",\r\n    key: \"id\",\r\n    responsive: ['sm'],\r\n    \r\n  },\r\n  {\r\n    title: \"Rut\",\r\n    dataIndex: \"rut\",\r\n    key: \"rut\",\r\n    responsive: ['xl'],\r\n  },\r\n];\r\n\r\n\r\n\r\n\r\nconst DataTable_select_conductor = (props) => {\r\n  const {setIsSelected, setSelectedUser, selectedUser, selectedItem, setConductor} = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const query = db.collection(\"usuario\");\r\n  const observerUsuario = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach(change => {\r\n        if (change.type === 'modified') {\r\n          setEdit(!edit)\r\n          \r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const get__usuario = () => {\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          setTimeout(function(){ setData(result);; setIsLoaded(false)}, 1000);\r\n          \r\n        },\r\n        // Nota: es importante manejar errores aqu y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  };\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [x, setX] = useState([]);\r\n  const rowSelection = {\r\n    selectedRowKeys : x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectedRowKeys([selectedRows])\r\n      setX(selectedRowKeys)\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0].nombres\r\n      );\r\n      \r\n      //setIsSelected(false)\r\n      setSelectedUser(selectedRows[0])\r\n      if(selectedItem){\r\n        selectedItem.conductor = selectedRows[0].nombres;\r\n        setConductor(selectedRows[0].nombres);\r\n      }\r\n      \r\n\r\n     \r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale('es').format(\"DD MMM. YYYY\")\r\n      \r\n      console.log(formatDate);\r\n\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  useEffect(() => {\r\n    get__usuario();\r\n  }, [size, edit]);\r\n\r\n \r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n  const Usuario = () => {\r\n    return(\r\n      <span>Usuario seleccionado: {selectedUser\r\n        ? <Text strong> {selectedUser.email}</Text>\r\n        : \" Pinche en una fila para seleccionar usuario.\"} <Button onClick={() => setX([])}>X</Button></span>\r\n    )\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: 'max-content' }}\r\n        size=\"small\"\r\n        title={() => <Usuario/>}\r\n\r\n        pagination={{ position: ['bottom', 'left'] , defaultPageSize: 5}}\r\n        bordered ={true}\r\n        className={classes.root}\r\n        loading={isLoaded}\r\n\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_select_conductor;","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from 'antd';\r\nimport * as dayjs from 'dayjs'\r\n\r\nvar locale_de = require('dayjs/locale/es')\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Modelo\",\r\n    dataIndex: \"modelo\",\r\n    render: (text) => <a>{text}</a>,\r\n    sorter: (a, b) => a.modelo.localeCompare(b.modelo),\r\n    defaultSortOrder: 'ascend',\r\n  },\r\n  {\r\n    title: \"Marca\",\r\n    dataIndex: \"marca\",\r\n    key: \"marca\",\r\n    responsive: ['sm'],\r\n  },\r\n  {\r\n    title: \"Patente\",\r\n    dataIndex: \"patente\",\r\n    key: \"patente\",\r\n    responsive: ['sm'],\r\n    \r\n  },\r\n];\r\n\r\n\r\n\r\n\r\nconst DataTable_select_viaje = (props) => {\r\n  const {setIsSelected, setSelectedItem, selectedItem, setSelectedCamion, dataCamionFecha, date} = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState('');\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach(change => {\r\n        if (change.type === 'modified') {\r\n          setEdit(!edit)\r\n          \r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys : x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setX(selectedRowKeys)\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedCamion(selectedRows[0])\r\n      if(selectedItem){\r\n        console.log(\"holas :)\")\r\n        selectedItem.camion = selectedRows[0].modelo + \"/\"+ selectedRows[0].marca +\" / \"+selectedRows[0].patente;\r\n      }\r\n\r\n     \r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale('es').format(\"DD MMM. YYYY\")\r\n      \r\n      console.log(formatDate);\r\n\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camiones = [];\r\n    db.collection('camion')\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        console.log(\"!!!!!!!!!!!!!\");\r\n        let item = {};\r\n        querySnapshot.forEach((doc) => {\r\n\r\n            var c = {\r\n              id : doc.id,\r\n              modelo : doc.data().modelo,\r\n              marca : doc.data().marca,\r\n              patente : doc.data().patente,\r\n              disponible : doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n            }\r\n            camiones.push(c);\r\n          \r\n        });\r\n      })\r\n  setTimeout(function(){ setData(camiones); setIsLoaded(false)}, 1000);\r\n\r\n  }\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"CAMION_FECHA  => \",dataCamionFecha)\r\n    var formatDate = dayjs(date)\r\n      .locale(\"es\")\r\n      .format(\"DD MMMM YYYY\");\r\n    console.log(\"FECHA_SELECCIONADA => \",formatDate)\r\n    if(selectedItem === null){\r\n      setX([]);\r\n    }\r\n    \r\n  }, [selectedItem]);\r\n\r\n  \r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Alert message=\"Importante! Solo se muestran los camiones disponibles.\" type=\"warning\" />\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: 'max-content' }}\r\n        size=\"small\"\r\n\r\n        pagination={{ position: ['bottom', 'left'] }}\r\n        bordered ={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_select_viaje;","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport \"dayjs\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DatedayjsUtils from \"@date-io/dayjs\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\n//import { Select } from \"antd\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport  {Select as Select_Ant} from \"antd\";\r\n\r\nimport DataTable_select_conductor from \"../app/admin/data_tables/DataTable_select_conductor\";\r\nimport DataTable_select_viajer from \"../app/admin/data_tables/DataTable_select_viaje\";\r\n\r\nimport { db, fire } from \"../db/firebase\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { Select} from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from \"antd\";\r\n\r\nlet regiones = require(\"../app/regiones.json\");\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  backButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  container: {\r\n    //backgroundColor: \"skyblue\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  select: {\r\n    //backgroundColor: \"blue\",\r\n    marginRight: 50,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst DatePicker = (props) => {\r\n  const { setDate, selectedItem, setSelectedItem } = props;\r\n  const [selectedDate, setSelectedDate] = React.useState(null);\r\n\r\n  const [selectedViaje, setSelectedViaje] = React.useState(null);\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n    console.log(selectedDate);\r\n    setDate(date);\r\n\r\n    if (selectedItem) {\r\n      console.log(\"!! SELECTED ITEM !!\");\r\n      selectedItem.fecha = fire.firestore.Timestamp.fromDate(\r\n        new Date(date)\r\n      ).toDate();\r\n      console.log(selectedItem);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DatedayjsUtils}>\r\n      <Grid container justify=\"space-around\">\r\n        <KeyboardDatePicker\r\n          margin=\"normal\"\r\n          id=\"date-picker-dialog\"\r\n          label=\"Fecha\"\r\n          format=\"DD/MM/YYYY\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            \"aria-label\": \"change date\",\r\n          }}\r\n        />\r\n        <KeyboardTimePicker\r\n          margin=\"normal\"\r\n          id=\"time-picker\"\r\n          label=\"Hora\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            \"aria-label\": \"change time\",\r\n          }}\r\n        />\r\n      </Grid>\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n};\r\nconst { Option } = Select_Ant;\r\n\r\nconst SelectDestino = (props) => {\r\n  const {\r\n    setRegion,\r\n    setComuna,\r\n    //setRegionDestino,\r\n    //setComunaDestino,\r\n    //setDireccion,\r\n\r\n    empresa,\r\n    //setEmpresa,\r\n  } = props;\r\n\r\n  const [age, setAge] = React.useState(\"\");\r\n  const [nameComuna, setNameComuna] = React.useState(\"\");\r\n  const [comunas, setComunas] = React.useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    setAge(event.target.value);\r\n    setComunas(event.target.value.comunas);\r\n    setRegion(event.target.value.region);\r\n  };\r\n\r\n  const handleChange2 = (event) => {\r\n    setNameComuna(event.target.value);\r\n    setComuna(event.target.value);\r\n  };\r\n\r\n  const handleDireccion = (event) => {\r\n    console.log(event.target.value);\r\n    //setDireccion(event.target.value);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    console.log(\"Listado de empresas => \", empresa)\r\n  }, []);\r\n\r\n  const  onSelect = (val) => {\r\n    console.log(val)\r\n\r\n    setRegion(val);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n\r\n      <FormControl className={classes.formControl}>\r\n        <Select_Ant\r\n          showSearch\r\n          style={{ width: 200 }}\r\n          placeholder=\"Seleccione una empresa\"\r\n          optionFilterProp=\"children\"\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          \r\n          onSelect={onSelect}\r\n        >\r\n          {empresa.map((x) => {\r\n            return <Option value={x.id}>{x.empresa}</Option>;\r\n          })}\r\n\r\n        </Select_Ant>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SelectOrigen = (props) => {\r\n  const {\r\n    setRegion,\r\n    setComuna,\r\n    //setRegionDestino,\r\n    //setComunaDestino,\r\n    //setDireccion,\r\n\r\n    empresa,\r\n    //setEmpresa,\r\n  } = props;\r\n\r\n  const [age, setAge] = React.useState(\"\");\r\n  const [nameComuna, setNameComuna] = React.useState(\"\");\r\n  const [comunas, setComunas] = React.useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    setAge(event.target.value);\r\n    setComunas(event.target.value.comunas);\r\n    setRegion(event.target.value.region);\r\n  };\r\n\r\n  const handleChange2 = (event) => {\r\n    setNameComuna(event.target.value);\r\n    setComuna(event.target.value);\r\n  };\r\n\r\n  const handleDireccion = (event) => {\r\n    console.log(event.target.value);\r\n    //setDireccion(event.target.value);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    console.log(\"Listado de empresas => \", empresa)\r\n  }, []);\r\n\r\n  const  onSelect = (val) => {\r\n    console.log(val)\r\n\r\n    setRegion(val);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">Regin</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={age}\r\n          onChange={handleChange}\r\n        >\r\n          {regiones.map((x) => {\r\n            return (\r\n              <MenuItem value={x} key={x.numero}>\r\n                {x.region}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n      \r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label1\">Comuna</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label1\"\r\n          id=\"demo-simple-select1\"\r\n          value={nameComuna}\r\n          onChange={handleChange2}\r\n        >\r\n          {comunas.map((x) => {\r\n            return (\r\n              <MenuItem value={x} key={x.numero}>\r\n                {x}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nfunction getSteps() {\r\n  return [\r\n    \"Seleccione fecha\",\r\n    \"Seleccione Conductor\",\r\n    \"Seleccione Camin\",\r\n    \"Seleccione Origen\",\r\n    \"Seleccione Destino\",\r\n    \"Confirmar Datos\",\r\n  ];\r\n}\r\n\r\nexport default function HorizontalLabelPositionBelowStepper(props) {\r\n  const {\r\n    setDate,\r\n    setTime,\r\n    setSelectedUser,\r\n    setSelectedCamion,\r\n    setRegion,\r\n    setComuna,\r\n    setRegionDestino,\r\n    setComunaDestino,\r\n    setDireccion,\r\n    setConductor,\r\n    setEmpresa,\r\n\r\n    date,\r\n    selectedUser,\r\n    selectedCamion,\r\n    region,\r\n    comuna,\r\n    regionDestino,\r\n    //comunaDestino,\r\n    //direccion,\r\n    empresa,\r\n\r\n    selectedItem,\r\n    setSelectedItem,\r\n    user__id,\r\n\r\n    dataCamionFecha,\r\n    itemToDelete,\r\n\r\n    setOpenModalViaje\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const steps = getSteps();\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    //setActiveStep(0);\r\n\r\n    /**REGISTRAR VIAJE */\r\n\r\n    if (selectedItem) {\r\n      var cityRef = db.collection(\"usuario\").doc(user__id);\r\n      cityRef\r\n        .update({\r\n          viajes: fire.firestore.FieldValue.arrayRemove(selectedItem),\r\n        })\r\n        .then(() => {\r\n\r\n          if (selectedUser) {\r\n            var cityRef = db\r\n              .collection(\"usuario\")\r\n              .doc(selectedUser.id); /** cambiar */\r\n          } else {\r\n            var cityRef = db.collection(\"usuario\").doc(user__id);\r\n          }\r\n          \r\n          cityRef.update({\r\n            viajes: fire.firestore.FieldValue.arrayUnion(selectedItem),\r\n          });\r\n\r\n          console.log(\"VIAJE Modificado => \", new__viaje);\r\n\r\n          setSelectedUser(null);\r\n\r\n          var men = \"VIAJE EDITADO EXITOSAMENTE.\";\r\n          //setOpenModalCamion(false);\r\n          enqueueSnackbar(men, {\r\n            variant: \"warning\",\r\n            preventDuplicate: true,\r\n          });\r\n        });\r\n\r\n        setOpenModalViaje(false);\r\n    } else {\r\n      console.log(\"REGISTRAR VIAJE !!\");\r\n\r\n      var identifier = selectedUser.rut.slice(-4);\r\n      var formatDate = dayjs()\r\n        .locale(\"es\")\r\n        .format(\"DDMMYYYYhhmmss-\" + identifier);\r\n\r\n      var new__viaje = {\r\n        id: formatDate,\r\n        fecha: fire.firestore.Timestamp.fromDate(new Date(date)),\r\n        camion:\r\n          selectedCamion.modelo +\r\n          \" / \" +\r\n          selectedCamion.marca +\r\n          \" / \" +\r\n          selectedCamion.patente,\r\n        origen: region + \", \" + comuna,\r\n        destino: regionDestino,\r\n        id_camion: selectedCamion.id,\r\n      };\r\n\r\n      var cityRef = db.collection(\"usuario\").doc(selectedUser.id);\r\n\r\n      cityRef\r\n        .update({\r\n          viajes: fire.firestore.FieldValue.arrayUnion(new__viaje),\r\n        })\r\n        .then(() => {\r\n          var camionRef = db.collection(\"camion\").doc(selectedCamion.id);\r\n\r\n          camionRef\r\n            .update({\r\n              disponible: false,\r\n            })\r\n            .then(() => {\r\n              console.log(\"Document successfully updated!\");\r\n            })\r\n            .catch((error) => {\r\n              // The document probably doesn't exist.\r\n              console.error(\"Error updating document: \", error);\r\n            });\r\n        });\r\n\r\n      var fechaDisp = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY\");\r\n\r\n      let disp = {\r\n        id: formatDate,\r\n        fecha: fechaDisp,\r\n      };\r\n\r\n      var camionRef = db.collection(\"camion\").doc(selectedCamion.id);\r\n\r\n      camionRef.update({\r\n        disp: fire.firestore.FieldValue.arrayUnion(disp),\r\n      });\r\n\r\n      console.log(\"VIAJE GENERADO => \", new__viaje);\r\n\r\n      /** limpiar campos */\r\n      setSelectedUser(null);\r\n\r\n      var men = \"Viaje agregado exitosamente.\";\r\n      //setOpenModalCamion(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n      });\r\n\r\n      setOpenModalViaje(false);\r\n    }\r\n  };\r\n\r\n  function getStepContent(stepIndex) {\r\n    switch (stepIndex) {\r\n      case 0:\r\n        return (\r\n          <DatePicker\r\n            setDate={setDate}\r\n            setTime={setTime}\r\n            selectedItem={selectedItem}\r\n            setSelectedItem={setSelectedItem}\r\n          />\r\n        );\r\n      case 1:\r\n        return (\r\n          <DataTable_select_conductor\r\n            setSelectedUser={setSelectedUser}\r\n            selectedItem={selectedItem}\r\n            setConductor={setConductor}\r\n          />\r\n        );\r\n      case 2:\r\n        return (\r\n          <DataTable_select_viajer\r\n            setSelectedCamion={setSelectedCamion}\r\n            dataCamionFecha={dataCamionFecha}\r\n            date={date}\r\n            selectedItem={selectedItem}\r\n          />\r\n        );\r\n      case 3:\r\n        return (\r\n          <SelectOrigen\r\n            setRegion={setRegion}\r\n            setComuna={setComuna}\r\n            selectedItem={selectedItem}\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n          />\r\n        );\r\n      case 4:\r\n        return (\r\n          <SelectDestino\r\n            setRegion={setRegionDestino}\r\n            setComuna={setComunaDestino}\r\n            selectedItem={selectedItem}\r\n            setDireccion={setDireccion}\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n          />\r\n        );\r\n      default:\r\n        return \"Unknown stepIndex\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {selectedItem ? (\r\n        <Alert\r\n          message=\"Dirigase al paso que desea editar e ingrese los datos nuevos.\"\r\n          type=\"info\"\r\n        />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Stepper activeStep={activeStep} alternativeLabel>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <div>\r\n        {activeStep === steps.length ? (\r\n          <div>\r\n            <Typography className={classes.instructions}>\r\n              Asegurese de que todos los datos son correctos antes de completar\r\n              el registro.\r\n            </Typography>\r\n            <Button\r\n              disabled={activeStep === 0}\r\n              onClick={handleBack}\r\n              className={classes.backButton}\r\n            >\r\n              Atras\r\n            </Button>\r\n             {\r\n               /**\r\n                * date,\r\n                  selectedUser,\r\n                  selectedCamion,\r\n                  region,\r\n                  comuna,\r\n                  regionDestino,\r\n                  comunaDestino,\r\n                  direccion,\r\n                  empresa,\r\n                */\r\n             }\r\n             {selectedItem ? \r\n              <Button variant=\"contained\" color=\"secondary\" onClick={handleReset}>\r\n                Modificar Viaje\r\n              </Button>\r\n             : \r\n\r\n             <Button variant=\"contained\" color=\"secondary\" onClick={handleReset} \r\n              disabled={ \r\n                Object.entries(date).length === 0 || \r\n                selectedUser === null || \r\n                selectedCamion === null || \r\n                region === \"\" || \r\n                comuna === \"\" || \r\n                regionDestino === \"\" ? true : false }>\r\n\r\n              Registrar Viaje\r\n             </Button>\r\n\r\n             }\r\n\r\n\r\n            <Button variant=\"contained\" color=\"inherit\" onClick={() => console.log(\"==> \", regionDestino)}>\r\n              Comprobar Datos\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Typography className={classes.instructions}>\r\n              {getStepContent(activeStep)}\r\n            </Typography>\r\n            <div>\r\n              <Button\r\n                disabled={activeStep === 0}\r\n                onClick={handleBack}\r\n                className={classes.backButton}\r\n              >\r\n                Atras\r\n              </Button>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\r\n                {activeStep === steps.length - 1 ? \"Confirmar\" : \"Siguiente\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport {db} from \"../../../db/firebase\"\r\nimport StepperViaje from \"../../../components/Stepper\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { Box, TextField } from \"@material-ui/core\";\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\n\r\n\r\nexport default function ModalCamionDos(props) {\r\n    const [date, setDate] = useState({});\r\n    const [time, setTime] = useState(\"\");\r\n\r\n    const [region, setRegion] = useState(\"\");\r\n    const [comuna, setComuna] = useState(\"\");\r\n\r\n    const [regionDestino, setRegionDestino] = useState(\"\");\r\n    const [comunaDestino, setComunaDestino] = useState(\"\");\r\n\r\n    const [empresa, setEmpresa] = useState(null);\r\n    \r\n\r\n    const [selectedUser, setSelectedUser] = useState(null);\r\n    const [selectedCamion, setSelectedCamion] = useState(null);\r\n\r\n  const {\r\n    //title,\r\n    //description,\r\n    //children,\r\n    openModalViaje,\r\n    setOpenModalViaje,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    user__id,\r\n    conductor,\r\n    setConductor,\r\n\r\n    dataCamionFecha,\r\n\r\n    itemToDelete,\r\n    \r\n    direccion,\r\n    setDireccion,\r\n  } = props;\r\n\r\n  useEffect(()=> {\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id : doc.id,\r\n            empresa : doc.data().empresa,\r\n            region : doc.data().region,\r\n            comuna : doc.data().comuna,\r\n            direccion : doc.data().direccion,\r\n          }\r\n\r\n          list__empresas.push(e);\r\n         \r\n        });\r\n        setEmpresa(list__empresas)\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  },[]);\r\n  \r\n  var formatDate = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\");\r\n\r\n  const ItemContent = () => {\r\n    return (\r\n      <Box style={{display : 'flex', width : '100%'}}>\r\n        \r\n          {selectedItem ? \r\n            \r\n            <Box style={{display: 'flex', width : '100%', flexDirection : 'column',}}>\r\n              <DialogContentText style={{fontSize : 14}}>\r\n                  \r\n                  <br/>\r\n                  <TextField id=\"filled-basic\" label=\"FECHA\" variant=\"filled\" value={dayjs(selectedItem.fecha).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\")} contentEditable={false} disabled style={{marginRight : 10, width : \"15%\"}}/>\r\n                  \r\n                  \r\n                  <TextField id=\"filled-basic\" label=\"CONDUCTOR\" variant=\"filled\" value={conductor} contentEditable={false} disabled style={{marginRight : 10, width : \"10%\"}}/>\r\n                  \r\n                  <TextField id=\"filled-basic\" label=\"CAMIN\" variant=\"filled\" value={selectedItem.camion} contentEditable={false} disabled style={{marginRight : 10, width : \"15%\"}}/>\r\n                  \r\n                  \r\n                  <TextField id=\"filled-basic\" label=\"ORIGEN\" variant=\"filled\" value={selectedItem.origen} contentEditable={false} disabled style={{marginRight : 10, width : \"15%\"}}/>\r\n                    \r\n                  \r\n                  <TextField id=\"filled-basic\" label=\"DESTINO\" variant=\"filled\" value={direccion} contentEditable={false} disabled style={{ width : \"40%\"}}/>\r\n                  \r\n              </DialogContentText>\r\n          </Box>\r\n          :\"\"\r\n          }\r\n          {!selectedItem ? \r\n            <Box style={{display: 'flex', width : '50%'}}>\r\n            <DialogContentText style={{fontSize : 14}}>\r\n              <Box style={{display: 'flex', flexDirection: 'column'}}>\r\n                  \r\n                  <span>Fecha:</span>\r\n                  <span>Conductor:</span>\r\n                  <span>Camin:</span>\r\n                  <span>Origen:</span>\r\n                  <span>Destino:</span>\r\n              </Box>\r\n            </DialogContentText>\r\n              <DialogContentText style={{fontSize : 14,  fontWeight : \"bold\"}}>\r\n                  {formatDate}\r\n                  <br/>\r\n                  {selectedUser ? selectedUser.nombres : \"No se ha seleccionado conductor.\"}\r\n                  <br/>\r\n                  {selectedCamion ? selectedCamion.marca +\", \"+selectedCamion.modelo : \"No se ha seleccionado conductor.\"}\r\n                  <br/>\r\n                    {region ? region +\", \": \"No ha seleccionado region. \"} {comuna ? comuna +\", \": \", No ha seleccionado comuna.\"}\r\n                  <br/>\r\n                  {regionDestino ? regionDestino +\", \": \"No ha seleccionado region. \"} {comunaDestino ? comunaDestino +\", \": \", No ha seleccionado comuna.\"}\r\n              </DialogContentText>\r\n          </Box>\r\n          : \"\"}\r\n          \r\n          \r\n          \r\n      </Box>\r\n    )\r\n  }\r\n              \r\n  return (\r\n    <div>\r\n      <Dialog open={openModalViaje} aria-labelledby=\"form-dialog-title\" fullWidth={true}\r\n        maxWidth={\"xl\"}>\r\n        <DialogTitle id=\"form-dialog-title\" className={selectedItem ? \"bg-warning\" : \"bg-primary\"}>\r\n          {selectedItem ? <span className=\"text-dark\">Editar Viaje</span> : <span className=\"text-white\">Agregar Viaje</span>}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <ItemContent/>\r\n          <StepperViaje \r\n            setDate={setDate} \r\n            setTime={setTime} \r\n            setSelectedUser={setSelectedUser} \r\n            setSelectedCamion={setSelectedCamion}\r\n\r\n            setRegion={setRegion}\r\n            setComuna={setComuna}\r\n\r\n            setRegionDestino={setRegionDestino}\r\n            setComunaDestino={setComunaDestino}\r\n            setDireccion={setDireccion}\r\n            setConductor={setConductor}\r\n\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n\r\n            date={date} \r\n            selectedUser={selectedUser} \r\n            selectedCamion={selectedCamion}\r\n            region={region}\r\n            comuna={comuna}\r\n            regionDestino={regionDestino}\r\n            comunaDestino={comunaDestino}\r\n            direccion={direccion}\r\n            selectedItem={selectedItem}\r\n            user__id={user__id}\r\n            dataCamionFecha={dataCamionFecha}\r\n            setSelectedItem={setSelectedItem}\r\n\r\n            itemToDelete={itemToDelete}\r\n\r\n            setOpenModalViaje={setOpenModalViaje}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {setOpenModalViaje(false); setSelectedItem(null)}} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nimport {db} from \"../../../db/firebase\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nfunction SelectUsuario(props) {\r\n  const {conductor, setConductor, user__id, selectedItem, setEmailName, setEmailCorreo} = props;\r\n  const [usuario, setUsuario] = useState([]);\r\n\r\n  function onSelect(val, child) {\r\n    console.log(\"select:\", child.email);\r\n    setConductor(val);\r\n    setEmailName(child.children);\r\n    setEmailCorreo(child.email);\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT USUARIO\");\r\n    let lista =[];\r\n    /*\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    console.log(data);\r\n    setUsuario(data);\r\n    */\r\n    await db.collection(\"usuario\")\r\n      .where(\"email\", \"!=\", \"administrador@trudistic.cl\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach(x => {\r\n          lista.push(x.data());\r\n        })\r\n        const filteredEvents = lista.filter(({ disabled }) => disabled !== \"true\");\r\n        \r\n        setUsuario(filteredEvents);\r\n\r\n      });\r\n\r\n      if(selectedItem){\r\n        setConductor(user__id);\r\n      }\r\n\r\n  }, []);\r\n\r\n  return (\r\n      <Select\r\n        className=\"Input-select\"\r\n        showSearch\r\n        placeholder=\"Seleccione usuario\"\r\n        optionFilterProp=\"children\"\r\n        onSelect={onSelect}\r\n        filterOption={(input, option) =>\r\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n        getPopupContainer={node => node.parentNode}\r\n        value={conductor ? conductor : null}\r\n      >\r\n        {usuario.map((x) => {\r\n          return <Option value={x.id} key={x.email} email={x.email}>{x.nombres + \" \"+ x.apellidos}</Option>;\r\n        })}\r\n      </Select>\r\n  );\r\n}\r\n\r\nexport default SelectUsuario;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nfunction SelectCamion(props) {\r\n  const {selectedItem, camionId, setCamionId} = props;\r\n  const [camion, setCamion] = useState([]);\r\n\r\n  function onSelect(val) {\r\n    console.log(\"select:\", val);\r\n    setCamionId(val);\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT CAMION\");\r\n    const camionRef = db.collection('camion');\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n        console.log('No matching documents.');\r\n        return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach(doc => {\r\n        var c = {\r\n          id : doc.id,\r\n          modelo : doc.data().modelo,\r\n          marca : doc.data().marca,\r\n          patente : doc.data().patente,\r\n          disponible : doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n          estado : doc.data().estado\r\n        }\r\n        camiones.push(c);\r\n    });\r\n    setCamion(camiones);\r\n    if(selectedItem){\r\n      setCamionId(selectedItem.id_camion);\r\n    }\r\n    \r\n  }, []);\r\n\r\n  return (\r\n      <Select\r\n        className=\"Input-select\"\r\n        showSearch\r\n        placeholder=\"Seleccione camion\"\r\n        optionFilterProp=\"children\"\r\n        onSelect={onSelect}\r\n        filterOption={(input, option) =>\r\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n        getPopupContainer={node => node.parentNode}\r\n        value={camionId ? camionId : null}\r\n      >\r\n        {camion.map((x) => {\r\n          return <Option value={x.id} key={x.id} hidden={x.estado === \"true\" ?true:false}>{x.marca +\" \"+x.modelo+\" \"+x.patente}</Option>;\r\n        })}\r\n      </Select>\r\n  );\r\n}\r\n\r\nexport default SelectCamion;","import React, { useEffect, useState } from \"react\";\r\n\r\n//import { db } from \"../../../db/firebase\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\nimport \"./estilos_form_admin_viaje.css\"\r\nlet regiones_data = require(\"../../regiones.json\");\r\n\r\nconst { Option } = Select;\r\n\r\nfunction SelectOrigen(props) {\r\n  const {selectedItem, setOrigen} = props;\r\n\r\n  const [regiones, setRegiones] = useState([]);\r\n  const [comunas, setComunas] = useState([]);\r\n\r\n  const [selectedRegion, setSelectedRegion] = useState('');\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n  const [isSelected, setIsSelected] = useState(false);\r\n\r\n  const [disabled, setDisable] = useState(true);\r\n\r\n  function onSelect(val) {\r\n    console.log(\"select:\", val);\r\n    setSelectedRegion(val);\r\n    setIsSelected(true);\r\n  }\r\n\r\n  function onSelectComuna(val) {\r\n    console.log(\"select:\", val);\r\n    setSelectedComuna(val);\r\n\r\n    let origen = selectedRegion +\", \"+val;\r\n\r\n    console.log(\"origen=> \", origen);\r\n    setOrigen(origen);\r\n  }\r\n\r\n  function submit (){\r\n    console.log(\"region => \", selectedRegion);\r\n    console.log(\"comuna => \", selectedComuna);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(selectedRegion !== ''){\r\n      setComunas(comunas => comunas = []);\r\n        regiones.forEach(x => {\r\n            if(selectedRegion === x.region){\r\n                setSelectedComuna(x.comunas[0]);\r\n                setComunas(x.comunas);\r\n                setDisable(false);\r\n            }\r\n        });\r\n        setIsSelected(false);\r\n    }\r\n    \r\n  }, [isSelected]);\r\n\r\n  useEffect(async () => {\r\n    await setRegiones(regiones_data);\r\n\r\n    if(selectedItem){\r\n      let split = selectedItem.origen.split(',');\r\n\r\n      console.log(split[0] + \" \" + split[1]);\r\n\r\n      setSelectedRegion(split[0]);\r\n      setSelectedComuna(split[1]);\r\n\r\n      let origen = split[0]+\",\"+split[1];\r\n\r\n      setOrigen(origen);\r\n\r\n      regiones.forEach(x => {\r\n        if(selectedRegion === x.region){\r\n            setComunas(x.comunas);\r\n            setDisable(false);\r\n        }\r\n    });\r\n      setDisable(false);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Form-input-select-2\">\r\n      \r\n      <div style={{display : \"flex\",flexDirection : \"column\", width : \"100%\"}}>\r\n        <span className=\"Label\">Regin Origen</span>\r\n        <Select\r\n          className=\"Input-select-2\"\r\n          showSearch\r\n          placeholder=\"Seleccione regin\"\r\n          optionFilterProp=\"children\"\r\n          onSelect={onSelect}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          value={selectedRegion ? selectedRegion : null}\r\n        >\r\n          {regiones.map((x) => {\r\n            return <Option value={x.region} key={x.region}>{x.region}</Option>;\r\n          })}\r\n        </Select>\r\n      </div>\r\n      \r\n      <div style={{display : \"flex\",flexDirection : \"column\", width : \"100%\"}}>\r\n        <span className=\"Label\">Comuna Origen</span>\r\n        <Select\r\n\r\n          className=\"Input-select-2\"\r\n          disabled={disabled}\r\n          showSearch\r\n          placeholder=\"Seleccione comuna\"\r\n          optionFilterProp=\"children\"\r\n          onSelect={onSelectComuna}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          value={selectedComuna ? selectedComuna : null}\r\n        >\r\n          {comunas.map((x) => {\r\n            return <Option value={x} key={x}>{x}</Option>;\r\n          })}\r\n        </Select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectOrigen;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction onSelect(val) {\r\n  console.log(\"select:\", val);\r\n}\r\n\r\nfunction SelectEmpresa(props) {\r\n  const {\r\n    selectedItem,\r\n    destino,\r\n    setDestino,\r\n    setEmailDestino,\r\n    setEmailDireccion,\r\n  } = props;\r\n\r\n  const [empresa, setEmpresa] = useState([]);\r\n\r\n  function onSelect(val, child) {\r\n    console.log(\"select:\", child);\r\n    setDestino(val);\r\n    setEmailDestino(child.children);\r\n    setEmailDireccion(child.direccion);\r\n  }\r\n\r\n  async function getEmpresaName(uid){\r\n      return uid;\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT EMPRESA\");\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        empresa: doc.data().empresa,\r\n        region: doc.data().region,\r\n        comuna: doc.data().comuna,\r\n        direccion: doc.data().direccion,\r\n        estado : doc.data().estado\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setEmpresa(empresas);\r\n\r\n    if (selectedItem) {\r\n      \r\n      setDestino(selectedItem.destino);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Select\r\n      className=\"Input-select\"\r\n      showSearch\r\n      placeholder=\"Seleccione empresa\"\r\n      optionFilterProp=\"children\"\r\n      onSelect={onSelect}\r\n      filterOption={(input, option) =>\r\n        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n      }\r\n      getPopupContainer={(node) => node.parentNode}\r\n      value={destino ? destino : null}\r\n    >\r\n      {empresa.map((x) => {\r\n        if(destino){\r\n          if(x.id === destino){\r\n            setEmailDestino(x.empresa);\r\n            setEmailDireccion(x.direccion);\r\n          }\r\n        }\r\n        \r\n          \r\n          return (\r\n            <Option value={x.id} key={x.id} direccion={x.direccion} hidden={x.estado === \"true\" ?true:false}>{x.empresa}</Option>\r\n          );\r\n        \r\n      })}\r\n    </Select>\r\n  );\r\n}\r\n\r\nexport default SelectEmpresa;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { fire } from \"../../../db/firebase\";\r\n// date picker.\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport DatedayjsUtils from \"@date-io/dayjs\";\r\n\r\nimport SELECT_USUARIO from \"./Select\";\r\nimport SELECT_CAMION from \"./SelectCamion\";\r\nimport SELECT_ORIGEN from \"./SelectOrigen\";\r\nimport SELECT_EMPRESA from \"./SelectEmpresa\";\r\n\r\nimport {db} from \"../../../db/firebase\";\r\n\r\nimport emailjs from 'emailjs-com';\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_form_admin_viaje.css\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nrequire(\"dayjs/locale/es\");\r\nvar customParseFormat = require(\"dayjs/plugin/customParseFormat\");\r\ndayjs.extend(customParseFormat);\r\n\r\nconst DatePicker = (props) => {\r\n  const { /*setDate, selectedItem, setSelectedItem*/ selectedItem, setFechaHora } = props;\r\n\r\n  const [date, setDate] = useState(new Date());\r\n  const [time, setTime] = useState(new Date());\r\n  //const [selectedViaje, setSelectedViaje] = React.useState(null);\r\n\r\n  const handleDateChange = (date) => {\r\n    var formatDate = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY HH:m A\");\r\n\r\n\r\n    setDate(date);\r\n    console.log(\"date => \", formatDate);\r\n    console.log(\"firestamp => \",fire.firestore.Timestamp.fromDate(new Date(date)).toDate());\r\n    setFechaHora(fire.firestore.Timestamp.fromDate(new Date(date)).toDate());\r\n    //setDate(date);\r\n    /*\r\n      if (selectedItem) {\r\n        console.log(\"!! SELECTED ITEM !!\");\r\n        selectedItem.fecha = fire.firestore.Timestamp.fromDate(\r\n          new Date(date)\r\n        ).toDate();\r\n        console.log(selectedItem);\r\n      }\r\n      */\r\n  };\r\n  useEffect(()=> {\r\n    console.log(\"DATEPICKER RENDER\");\r\n    if(selectedItem){\r\n        setDate(selectedItem.fecha);\r\n        setFechaHora(selectedItem.fecha);\r\n    }\r\n    \r\n  },[]);\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DatedayjsUtils} locale=\"es\">\r\n      <KeyboardDatePicker\r\n        variant=\"inline\"\r\n        margin=\"normal\"\r\n        id=\"date-picker-dialog\"\r\n        label=\"Fecha\"\r\n        format={\"DD, MMMM-YYYY\"}\r\n        value={date}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n          \"aria-label\": \"change date\",\r\n        }}\r\n      />\r\n      <KeyboardTimePicker\r\n        margin=\"normal\"\r\n        id=\"time-picker\"\r\n        label=\"Hora\"\r\n        value={date}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n          \"aria-label\": \"change time\",\r\n        }}\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n};\r\n\r\nfunction Form_admin_viaje(props) {\r\n  const { selectedItem, user__id, closeSlideMenu, setOpenModalViaje, } = props;\r\n\r\n  const [fecha_hora, setFechaHora] = useState('');\r\n  const [conductor, setConductor] = useState('');\r\n  const [camionId, setCamionId] = useState('');\r\n  const [origen, setOrigen] = useState('');\r\n  const [destino, setDestino] = useState('');\r\n\r\n  const [email_name, setEmailName] = useState('');\r\n  const [email_destino, setEmailDestino] = useState('');\r\n  const [email_direccion, setEmailDireccion] = useState('');\r\n  const [email_correo, setEmailCorreo] = useState('');\r\n\r\n  const [error, setError] = useState(false);\r\n  const [notificar, setNotificar] = useState(true);\r\n\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  function isChecked(e){\r\n    console.log(e.target.checked);\r\n    setNotificar(e.target.checked);\r\n  }\r\n  function submit(e){\r\n    e.preventDefault();\r\n    console.log(\"fecha y hora => \",fecha_hora);\r\n    console.log(\"conductor => \",conductor);\r\n    console.log(\"camion => \", camionId);\r\n    console.log(\"origen => \",origen);\r\n    console.log(\"destino => \", destino);\r\n    console.log(selectedItem)\r\n\r\n    var identifier = conductor.slice(-4);\r\n    var formatDate = dayjs().locale(\"es\").format(\"DDMMYYYYhhmmss-\" + identifier);\r\n\r\n    let viaje = {\r\n      id : formatDate,\r\n      fecha : fecha_hora,\r\n      camion : camionId, // selectedCamion.modelo + \" / \" + selectedCamion.marca + \" / \" + selectedCamion.patente,\r\n      origen : origen,\r\n      destino : destino,\r\n      id_camion : camionId,\r\n    }\r\n\r\n    if (selectedItem) {\r\n      var cityRef = db.collection(\"usuario\").doc(user__id);\r\n      /** Remuevo el viaje a actualizar */\r\n      cityRef.update({viajes: fire.firestore.FieldValue.arrayRemove(selectedItem)}).then(() => {\r\n\r\n        /** Selecciono al usuario para modificar sus viajes */\r\n        var cityRef = db.collection(\"usuario\").doc(conductor);\r\n          \r\n        /** Agrego el viaje modificado */\r\n        cityRef.update({viajes: fire.firestore.FieldValue.arrayUnion(viaje)});\r\n\r\n        //setSelectedUser(null);\r\n\r\n        var men = \"Viaje editado exitosamente.\";\r\n        enqueueSnackbar(men, {\r\n          variant: \"warning\",\r\n          preventDuplicate: true,\r\n          autoHideDuration: 3000,\r\n        });\r\n      });\r\n\r\n      if(notificar === true){\r\n        emailjs.sendForm('service_3t2jqug', 'template_60oxr8w', e.target, 'user_CzJpNEaTEgmDCaNX3wWLO')\r\n        .then((result) => {\r\n          console.log(result.text);\r\n        }, (error) => {\r\n          console.log(error.text);\r\n        });\r\n      }\r\n\r\n      closeSlideMenu();\r\n      setOpenModalViaje(false);\r\n      //setOpenModalViaje(false);\r\n    } else {\r\n      console.log(\"REGISTRAR VIAJE !!\");\r\n\r\n      var new__viaje = {\r\n        id: formatDate,\r\n        fecha: fecha_hora,\r\n        camion: camionId,\r\n        origen: origen,\r\n        destino: destino,\r\n        id_camion: camionId,\r\n      };\r\n\r\n      if(new__viaje.fecha !== '' && new__viaje.camion !== '' && new__viaje.origen !== '' && new__viaje.destino !== '' && new__viaje.id_camion !== ''){\r\n        var cityRef = db.collection(\"usuario\").doc(conductor);\r\n\r\n        cityRef.update({viajes: fire.firestore.FieldValue.arrayUnion(new__viaje)}).then(() => {});\r\n  \r\n        console.log(\"VIAJE GENERADO => \", new__viaje);\r\n  \r\n        var men = \"Viaje agregado exitosamente.\";\r\n  \r\n        enqueueSnackbar(men, {\r\n          variant: \"success\",\r\n          preventDuplicate: true,\r\n          autoHideDuration: 3000,\r\n        });\r\n  \r\n        //setOpenModalViaje(false);\r\n        if(notificar === true){\r\n          emailjs.sendForm('service_3t2jqug', 'template_60oxr8w', e.target, 'user_CzJpNEaTEgmDCaNX3wWLO')\r\n          .then((result) => {\r\n            console.log(result.text);\r\n          }, (error) => {\r\n            console.log(error.text);\r\n          });\r\n        }\r\n        setOpenModalViaje(false);\r\n        closeSlideMenu();\r\n      }else{\r\n        setError(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  function tests(e){\r\n    e.preventDefault();\r\n\r\n    var fecha = dayjs(fecha_hora).locale(\"es\").format(\"DD MMMM YYYY HH:mm A\");\r\n\r\n    emailjs.sendForm('service_3t2jqug', 'template_60oxr8w', e.target, 'user_CzJpNEaTEgmDCaNX3wWLO')\r\n      .then((result) => {\r\n        console.log(result.text);\r\n      }, (error) => {\r\n        console.log(error.text);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"Root\">\r\n        <div className=\"Form-description\">\r\n              {error ? \r\n                <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n                  <strong>Error</strong> Todos los campos deben ser llenados.\r\n                </div> \r\n              : \r\n                null\r\n              }\r\n        </div>\r\n\r\n        <div className=\"Form-content\">\r\n              \r\n            <div className=\"Form-input\">\r\n              <DatePicker selectedItem={selectedItem} setFechaHora={setFechaHora}/>\r\n            </div>\r\n            <div className=\"Form-input-select\">\r\n              <span className=\"Label\">Usuario</span>\r\n              <SELECT_USUARIO conductor={conductor} setConductor={setConductor} user__id={user__id} selectedItem={selectedItem} setEmailName={setEmailName} setEmailCorreo={setEmailCorreo} user__id={user__id}/>\r\n              \r\n            </div>\r\n\r\n            <div className=\"Form-input-select\">\r\n              <span className=\"Label\">Camin</span>\r\n              <SELECT_CAMION selectedItem={selectedItem} camionId={camionId} setCamionId={setCamionId}/>\r\n            </div>\r\n\r\n            <div style={{flexDirection : \"column\"}}>\r\n              <SELECT_ORIGEN selectedItem={selectedItem} setOrigen={setOrigen}/>\r\n            </div>\r\n\r\n            <div className=\"Form-input-select\">\r\n              <span className=\"Label\">Empresa Destino</span>\r\n              <SELECT_EMPRESA selectedItem={selectedItem} destino={destino} setDestino={setDestino} setEmailDestino={setEmailDestino} setEmailDireccion={setEmailDireccion}/>\r\n            </div>\r\n            <div className=\"Form-checkbox\">\r\n              <input type=\"checkbox\" classNames=\"form-check-input\" id=\"exampleCheck1\" onChange={(e) => isChecked(e)} checked={notificar}/>\r\n              <label className=\"form-check-label\" for=\"exampleCheck1\">Notificar por correo</label>\r\n            </div>\r\n            <div className=\"Form-input-select\">\r\n              <form onSubmit={submit}> \r\n                <input type=\"hidden\" value={email_correo} name=\"email\" required></input>\r\n                <input type=\"hidden\" value={selectedItem ? \"Viaje Modificado o Reprogramado\" : \"Nuevo Viaje Programado\"}  name=\"subject\" required></input>\r\n                <input type=\"hidden\" value={\"Estimado, \"+email_name} name=\"name\" required></input>\r\n                <input type=\"hidden\" \r\n                  value = {\r\n                    selectedItem ? \r\n                    selectedItem.fecha !== fecha_hora ? \"Su viaje del da \" + dayjs(selectedItem.fecha).locale(\"es\").format(\"DD MMMM YYYY HH:mm A\") + \" ha sido cambiado a la siguiente fecha => \"+dayjs(fecha_hora).locale(\"es\").format(\"DD MMMM YYYY HH:mm A\") \r\n                    :  \"Su viaje para el da \"+ dayjs(selectedItem.fecha).locale(\"es\").format(\"DD MMMM YYYY HH:mm A\") + \" ha sido modificado\" \r\n                    : \"Se le ha programado un nuevo viaje para el da \"+ dayjs(fecha_hora).locale(\"es\").format(\"DD MMMM YYYY HH:mm A\")\r\n                  } name=\"fecha\" required></input>\r\n                <input type=\"hidden\" value={\"Empresa: \"+email_destino} name=\"empresa\" required></input>\r\n                <input type=\"hidden\" value={\"Direccin: \"+email_direccion} name=\"direccion\" required></input>\r\n                <input type=\"hidden\" value=\"Para mas detalles visite trudistics.cl\" name=\"mensaje\" required></input>\r\n                <button type=\"submit\" className={selectedItem ? \"btn btn-warning\" : \"btn btn-primary\"} required>{selectedItem ? \"Modificar Viaje\" : \"Agregar Viaje\"}</button>\r\n                \r\n              </form>\r\n            </div>\r\n\r\n            \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form_admin_viaje;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Button } from \"@material-ui/core\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\nimport StepperViaje from \"../../../components/Stepper\";\r\n\r\n// form\r\nimport FORM_VIAJES from \"./Form_admin_viaje\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nexport default function ModalCamionDos(props) {\r\n  const [date, setDate] = useState({});\r\n  const [time, setTime] = useState(\"\");\r\n\r\n  const [region, setRegion] = useState(\"\");\r\n  const [comuna, setComuna] = useState(\"\");\r\n\r\n  const [regionDestino, setRegionDestino] = useState(\"\");\r\n  const [comunaDestino, setComunaDestino] = useState(\"\");\r\n\r\n  const [empresa, setEmpresa] = useState(null);\r\n\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedCamion, setSelectedCamion] = useState(null);\r\n\r\n  const {\r\n    //title,\r\n    //description,\r\n    //children,\r\n    openModalViaje,\r\n    setOpenModalViaje,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    user__id,\r\n    conductor,\r\n    setConductor,\r\n\r\n    dataCamionFecha,\r\n\r\n    itemToDelete,\r\n\r\n    direccion,\r\n    setDireccion,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n        setEmpresa(list__empresas);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  }, []);\r\n\r\n  var formatDate = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\");\r\n\r\n  const ItemContent = () => {\r\n    return <Box style={{ display: \"flex\", width: \"100%\" }}></Box>;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalViaje}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle\r\n          id=\"form-dialog-title\"\r\n          className={selectedItem ? \"bg-warning\" : \"bg-primary\"}\r\n        >\r\n          {selectedItem ? (\r\n            <span className=\"text-dark\">Editar Viaje</span>\r\n          ) : (\r\n            <span className=\"text-white\">Agregar Viaje</span>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <ItemContent />\r\n          {/*\r\n          <StepperViaje \r\n            setDate={setDate} \r\n            setTime={setTime} \r\n            setSelectedUser={setSelectedUser} \r\n            setSelectedCamion={setSelectedCamion}\r\n\r\n            setRegion={setRegion}\r\n            setComuna={setComuna}\r\n\r\n            setRegionDestino={setRegionDestino}\r\n            setComunaDestino={setComunaDestino}\r\n            setDireccion={setDireccion}\r\n            setConductor={setConductor}\r\n\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n\r\n            date={date} \r\n            selectedUser={selectedUser} \r\n            selectedCamion={selectedCamion}\r\n            region={region}\r\n            comuna={comuna}\r\n            regionDestino={regionDestino}\r\n            comunaDestino={comunaDestino}\r\n            direccion={direccion}\r\n            selectedItem={selectedItem}\r\n            user__id={user__id}\r\n            dataCamionFecha={dataCamionFecha}\r\n            setSelectedItem={setSelectedItem}\r\n\r\n            itemToDelete={itemToDelete}\r\n\r\n            setOpenModalViaje={setOpenModalViaje}\r\n          />\r\n          */}\r\n          <FORM_VIAJES selectedItem={selectedItem} user__id={user__id} closeSlideMenu={closeSlideMenu} setOpenModalViaje={setOpenModalViaje} user__id={user__id}/>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              closeSlideMenu();\r\n              setOpenModalViaje(false);\r\n              setTimeout(() => {\r\n                setSelectedItem(null);\r\n              }, 500);\r\n            }}\r\n            color=\"secondary\"\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_VIAJE_ANT from \"../data_tables/DataTable_viajes_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\nimport ModalViaje from \"./ModalViaje\";\r\nimport ModalViaje_copy from \"./ModalViaje_copy\";\r\n\r\nimport { db, fire } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_admin_viaje.css\";\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nconst Admin_viajes = () => {\r\n\r\n  /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n  const [user__id, setUser__id] = useState(\"\");\r\n\r\n  const [camion__id, setCamion__id] = useState(\"\");\r\n  const [fecha_camion, setFechaCamion] = useState(\"\");\r\n  const [itemToDelete, setItemToDelete] = useState(null);\r\n\r\n  const [direccion, setDireccion] = useState(\"Direccin no asignada.\");\r\n\r\n  /**  */\r\n  const [openModalViaje, setOpenModalViaje] = useState(null);\r\n\r\n  const [dataCamionFecha, setDataCamionFecha] = useState(null);\r\n\r\n  const [mensaje_accion, setMensajeAccion] = useState(null);\r\n\r\n  const [conductor, setConductor] = useState(\"\");\r\n  const [email_destino, setEmailDestino] = useState(\"\");\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__viaje = () => {\r\n    console.log(\" => \",user__id);\r\n    console.log(\"=> \",fecha_camion);\r\n  \r\n    var cityRef = db.collection(\"usuario\").doc(user__id);\r\n    \r\n    cityRef.update({\r\n      viajes: fire.firestore.FieldValue.arrayRemove(selectedItem)\r\n    });\r\n\r\n    var camionRef = db.collection(\"camion\").doc(camion__id);\r\n    console.log(selectedItem.id)\r\n    console.log(selectedItem.fecha_camion)\r\n    var disp = {\r\n      id : selectedItem.id,\r\n      fecha : fecha_camion,\r\n    }\r\n\r\n    camionRef.update({\r\n      disp : fire.firestore.FieldValue.arrayRemove(disp)\r\n    })\r\n\r\n    var men = \"VIAJE ID: => \"+selectedItem.id+\" ELIMINADO.\";\r\n      enqueueSnackbar(men, {\r\n        variant: \"error\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Crear Viaje\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalViaje(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Viaje\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalViaje(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Viaje\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      \r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n      \r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>VIAJES</span></div>\r\n      <div className=\"table\">\r\n\r\n          <TABLA_VIAJE_ANT\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            setUser__id = {setUser__id}\r\n            user__id = {user__id}\r\n            setCamion__id = {setCamion__id}\r\n            setDataCamionFecha = {setDataCamionFecha}\r\n            setFechaCamion={setFechaCamion}\r\n            setItemToDelete={setItemToDelete}\r\n            mensaje_accion={mensaje_accion}\r\n\r\n            setConductor={setConductor}\r\n            setDireccion={setDireccion}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n            setEmailDestino={setEmailDestino}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalViaje_copy\r\n          title={\"Viaje\"}\r\n          description={\"Descripcin de la accion a realizar\"}\r\n          openModalViaje={openModalViaje}\r\n          setOpenModalViaje={setOpenModalViaje}\r\n          setSelectedItem={setSelectedItem}\r\n          selectedItem={selectedItem}\r\n          user__id={user__id}\r\n          dataCamionFecha={dataCamionFecha}\r\n          itemToDelete={itemToDelete}\r\n          conductor={conductor}\r\n          setConductor={setConductor}\r\n\r\n          direccion={direccion}\r\n          setDireccion={setDireccion}\r\n          closeSlideMenu={closeSlideMenu}\r\n          user__id={user__id}\r\n\r\n          \r\n          \r\n        >\r\n        </ModalViaje_copy>\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"Quieres borrar este viaje?\"}\r\n          description={\"Esta accin borrar permanentemente los datos de este viaje.\"}\r\n          action={delete__viaje}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          men={selectedItem ? selectedItem.direccion : null}\r\n          email_destino={email_destino}\r\n          closeSlideMenu={closeSlideMenu}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_viajes;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {\r\n      \r\n    },\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n      \r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \" : {\r\n      background: DATATABLE_BG_COLOR,\r\n      color : DATATABLE_TEXT_COLOR,\r\n      \r\n   },\r\n   boxShadow : '4px 4px 10px 10px rgba(0,0,0,0.1)',\r\n   backgroundColor: \"#fff\",\r\n  },\r\n\r\n  row: {},\r\n}));\r\n\r\nconst DataTable_empresa = (props) => {\r\n\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    mensaje_accion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu\r\n  } = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  \r\n\r\n  const columns = [\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"empresa\",\r\n      key : \"empresa\",\r\n      render: (text, empresa) => <strong  onClick={() => ver_empresa_map(empresa)}>{text}</strong>,\r\n      sorter: (a, b) => a.empresa.localeCompare(b.empresa),\r\n    },\r\n    {\r\n      title: \"Direccion\",\r\n      dataIndex: \"direccion\",\r\n      key: \"direccion\",\r\n    },\r\n    {\r\n      title: \"Telefono\",\r\n      dataIndex: \"telefono\",\r\n      key: \"telefono\",\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      dataIndex: \"estado\",\r\n      key: \"estado\",\r\n      render: (estado) =>\r\n      estado === \"true\" ? (<strong style={{ color: \"red\" }}>Inactivo</strong>) : (<strong className=\"text-primary\">Activo</strong>),\r\n    },\r\n    {\r\n      title: \"Accin\",\r\n      dataIndex: \"accion\",\r\n      key: \"accion\",\r\n      render: (text, empresa) => <button className=\"btn btn-primary\" onClick={() => ver_empresa_map(empresa)}>Ver en el Mapa</button>,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(empresa){\r\n    console.log(\"Ver empresa\", empresa);\r\n    // abrir modal\r\n    //entregar lat y lng\r\n\r\n    await setEmpresaCor({lat : empresa.latitud, lng :empresa.longitud });\r\n\r\n    console.log(empresa_cor);\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n  \r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const query = db.collection(\"empresa\");\r\n  const observerEmpresa = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(selectedRows[0].direccion);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__empresa = async () => {\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        direccion: doc.data().direccion,\r\n        empresa: doc.data().empresa,\r\n        telefono : doc.data().telefono,\r\n        latitud : doc.data().latitud ? doc.data().latitud : \"\",\r\n        longitud : doc.data().longitud ?doc.data().longitud : \"\" ,\r\n        estado : doc.data().estado,\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setTimeout(function () {\r\n      const filteredEvents = empresas.sort((a, b) => a.estado.localeCompare(b.estado) || a.empresa.localeCompare(b.empresa)) \r\n      setData(filteredEvents);\r\n      setIsLoaded(false);\r\n    }, 1000);\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    get__empresa();\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"middle\"\r\n        pagination={{ position: [\"bottomCenter\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={classes.row}\r\n        loading={isLoaded}\r\n        onHeaderRow={(record, index) => {\r\n          return {\r\n            onClick: (e) => {\r\n              let tr = e.target.parentNode;\r\n              console.log(\"event\", tr);\r\n            }\r\n\r\n          };\r\n        }}\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_empresa;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function ModalCamionDos(props) {\r\n  const {\r\n    title,\r\n    description,\r\n    children,\r\n    openModalEmpresa,\r\n    setOpenModalEmpresa,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalEmpresa}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth={true}\r\n        maxWidth={\"xs\"}\r\n      >\r\n        <DialogTitle\r\n          id=\"form-dialog-title\"\r\n          className={selectedItem ? \"bg-warning\" : \"bg-primary\"}\r\n        >\r\n          {selectedItem ? (\r\n            <span className=\"text-dark\">Editar Empresa</span>\r\n          ) : (\r\n            <span className=\"text-white\">Agregar Empresa</span>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{description}</DialogContentText>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setOpenModalEmpresa(false);\r\n              closeSlideMenu();\r\n              setTimeout(() => {\r\n                setSelectedItem(null);\r\n              }, 500);\r\n            }}\r\n            color=\"secondary\"\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport React, { useState } from 'react'\r\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow} from \"react-google-maps\";\r\nimport usePlacesAutocomplete, {getGeocode, getLatLng,} from \"use-places-autocomplete\";\r\nimport { Loader } from \"@googlemaps/js-api-loader\"\r\n//import useOnclickOutside from \"react-cool-onclickoutside\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nfunction Map(props) {\r\n    const {markerSearch, setMarkerSearch, setEmpresaMarker, empresaMarker} = props;\r\n    const [marker, setMarker] = useState({lat: -23.5325518, lng :-70.399952});\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    return (\r\n            <GoogleMap \r\n                defaultZoom={18} \r\n                defaultCenter={{lat: markerSearch.lat, lng : markerSearch.lng}}\r\n                onClick={(event) => {\r\n                    setMarkerSearch({\r\n                        lat: event.latLng.lat(),\r\n                        lng : event.latLng.lng(),\r\n                    });\r\n                    console.log(event);\r\n                }}\r\n                \r\n                center={{lat: markerSearch.lat, lng : markerSearch.lng}} \r\n            >\r\n                <Marker \r\n                    position={{lat: markerSearch.lat, lng : markerSearch.lng}} \r\n                    onClick={() => {\r\n                        setSelected(markerSearch);\r\n                    }}\r\n                    onPositionChanged={() => {\r\n                        console.log(\"POSITION CHANGED !!\");\r\n                        setEmpresaMarker(markerSearch);\r\n                    }}\r\n\r\n                />\r\n\r\n                {selected ? \r\n                <InfoWindow \r\n                    position={{lat: markerSearch.lat, lng : markerSearch.lng}}\r\n                    onCloseClick={() => {\r\n                        setSelected(null);\r\n                    }} \r\n                >\r\n                    <div>\r\n                        <h5>ej: Groot Limitada</h5>\r\n                    </div>\r\n                </InfoWindow> : null}\r\n            </GoogleMap>\r\n    )\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function GMap(props){\r\n    const {setEmpresaMarker, empresaMarker , setDireccion} = props;\r\n    const [markerSearch, setMarkerSearch] = useState({lat: -23.5325518, lng :-70.399952});\r\n    return (\r\n        <div style={{width : \"90vw\" , height : \"100vh\"}}>\r\n            <div className=\"Search-wrapper\">\r\n                <Search setMarkerSearch={setMarkerSearch} setEmpresaMarker={setEmpresaMarker} setDireccion={setDireccion}/>\r\n            </div>\r\n            \r\n            <WrappedMap \r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places`}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div style={{ height: `400px` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                markerSearch={markerSearch}\r\n                setMarkerSearch={setMarkerSearch}\r\n                empresaMarker={empresaMarker}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Search(props){\r\n    const {setMarkerSearch, setEmpresaMarker, setDireccion} = props;\r\n    const {ready, value, suggestions: {status, data}, setValue, clearSuggestions} = usePlacesAutocomplete({\r\n        requestOptions: {\r\n            location: {lat: () =>  -23.5325518, lng :() => -70.399952},\r\n            radius: 200 * 1000,\r\n        }\r\n    });\r\n    \r\n      const handleInput = (e) => {\r\n        // Update the keyword of the input element\r\n        setValue(e.target.value);\r\n        console.log(e.target.value);\r\n      };\r\n    \r\n      const handleSelect = ({ description }) => () => {\r\n        // When user selects a place, we can replace the keyword without request data from API\r\n        // by setting the second parameter to \"false\"\r\n        setValue(description, false);\r\n        console.log(description);\r\n        setDireccion(description);\r\n        clearSuggestions();\r\n    \r\n        // Get latitude and longitude via utility functions\r\n        getGeocode({ address: description })\r\n          .then((results) => getLatLng(results[0]))\r\n          .then(({ lat, lng }) => {\r\n                setEmpresaMarker({ lat, lng });\r\n                setMarkerSearch({ lat, lng });\r\n                console.log(\" Coordinates: \", { lat, lng });\r\n            })\r\n          .catch((error) => {\r\n            console.log(\" Error: \", error);\r\n          });\r\n      };\r\n\r\n      const renderSuggestions = () =>\r\n        data.map((suggestion) => {\r\n            const {\r\n                place_id,\r\n                structured_formatting: { main_text, secondary_text },\r\n            } = suggestion;\r\n\r\n            return (\r\n                <li key={place_id} onClick={handleSelect(suggestion)} className=\"List-item\">\r\n                    <strong className=\"List-text\">{main_text}</strong> <small className=\"List-text\">{secondary_text}</small>\r\n                </li>\r\n            );\r\n        });\r\n\r\n    return (\r\n        <div className=\"Input-wrapper\">\r\n            <input\r\n                value={value}\r\n                onChange={handleInput}\r\n                disabled={!ready}\r\n                placeholder=\"Escriba una direccin\"\r\n                className=\"Input-search\"\r\n            />\r\n            {/* We can use the \"status\" to decide whether we should display the dropdown or not */}\r\n            {status === \"OK\" && <ul>{renderSuggestions()}</ul>}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport Map from \"./Map\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nexport default function ModalMap(props) {\r\n\r\n  const {openModalMap, setOpenModalMap, setEmpresaMarker, empresaMarker, setDireccion } = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalMap}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth\r\n        maxWidth={'xl'}\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\" className=\"Modal-header\">\r\n          <span className=\"Modal-title\">Ubicacin</span>\r\n        </DialogTitle>\r\n        <DialogContent className=\"Map-wrapper\">\r\n          <DialogContentText>\r\n            Descripcin de las acciones\r\n          </DialogContentText>\r\n\r\n          <Map setEmpresaMarker={setEmpresaMarker} empresaMarker={empresaMarker} setDireccion={setDireccion}/>\r\n\r\n        </DialogContent>\r\n        <DialogActions className=\"Modal-actions\">\r\n          <Button onClick={() => setOpenModalMap(false)} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, {  useEffect, useState } from \"react\";\r\nimport { TextField} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\n\r\nimport ModalMap from \"../google-maps/Modal-map\";\r\n\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nlet regiones = require(\"../../app/regiones.json\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#c7bfa4\",\r\n\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    width : \"100%\",\r\n  },\r\n\r\n  inputs: {\r\n    marginBottom: 15,\r\n  },\r\n\r\n  input_estado : {\r\n    fontSize : 16,\r\n    width : \"100%\",\r\n    height : 30,\r\n    marginBottom: 15,\r\n  },\r\n}));\r\n\r\nconst FormEmpresa = (props) => {\r\n  const { selectedItem, setSelectedItem, setOpenModalEmpresa, closeSlideMenu } = props;\r\n\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const [ comunas , setComunas ] = useState([\"Comunas...\"]);\r\n\r\n  const [nombreRegion, setNombreRegion] = useState('');\r\n  const [nombreComuna, setNombreComuna] = useState('');\r\n  \r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const [empresaMarker, setEmpresaMarker] = useState(null);\r\n\r\n  const [selectedRegion, setSelectedRegion] = useState('');\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n\r\n  const [direccion, setDireccion] = useState('');\r\n\r\n  const classes = useStyles();\r\n\r\n  const register__empresa = async (new_empresa) => {\r\n    console.log(empresaMarker);\r\n    console.log(new_empresa);\r\n    const res = await db.collection(\"empresa\").add({\r\n      direccion: direccion,\r\n      empresa: new_empresa.empresa,\r\n      telefono : new_empresa.telefono,\r\n      latitud : empresaMarker ? empresaMarker.lat : \"\",\r\n      longitud : empresaMarker ? empresaMarker.lng : \"\",\r\n      estado : new_empresa.estado,\r\n    });\r\n\r\n    console.log(\"Added document with ID: \", res.id);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const edit__empresa = async (data) => {\r\n    const camionRef = db.collection(\"empresa\").doc(selectedItem.id);\r\n\r\n    // Set the 'capital' field of the city\r\n    const res = await camionRef.update({\r\n      direccion: direccion,\r\n      empresa: data.empresa,\r\n      telefono : data.telefono,\r\n      latitud : empresaMarker ? empresaMarker.lat : selectedItem.latitud,\r\n      longitud : empresaMarker ? empresaMarker.lng : selectedItem.longitud,\r\n      estado : data.estado,\r\n    });\r\n\r\n    closeSlideMenu();\r\n  };\r\n\r\n  function onChange(value) {\r\n    regiones.map(x => {\r\n        if(x.numero === value){\r\n            console.log(\"region => \"+x.region)\r\n            setNombreRegion(x.region);\r\n            setComunas(x.comunas);\r\n        }\r\n    })\r\n    //setComunas(key.key);\r\n  }\r\n\r\n  function onChangeComuna(value) {\r\n    console.log(`comuna  ${value}`);\r\n    setNombreComuna(value);\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(empresaMarker);\r\n    \r\n    if (selectedItem) {\r\n      var men = \"Empresa ID: \" + selectedItem.id + \" editado exitosamente.\";\r\n      edit__empresa(data);\r\n      setOpenModalEmpresa(false);\r\n      setSelectedItem(null);\r\n\r\n      enqueueSnackbar(men, {\r\n        variant: \"info\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    } else {\r\n      register__empresa(data);\r\n      var men = \"Empresa NOMBRE: \" + data.empresa + \" creado exitosamente.\";\r\n      setOpenModalEmpresa(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    }\r\n    \r\n  };\r\n\r\n  const handleMap = () => {\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  useEffect(async () => {\r\n\r\n    if(selectedItem){\r\n      await setDireccion(selectedItem.direccion);\r\n      setSelectedRegion(selectedItem.region);\r\n      setSelectedComuna(selectedItem.comuna);\r\n\r\n      regiones.forEach(x => {\r\n        if(selectedRegion === x.region){\r\n            setComunas(x.comunas);\r\n        }\r\n    });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form onSubmit={handleSubmit(onSubmit)} className={classes.root}>\r\n        <TextField\r\n          id=\"direccion\"\r\n          name=\"direccion\"\r\n          label=\"Direccin\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          value={direccion}\r\n          disabled\r\n          onClick = {handleMap }\r\n          fullWidth\r\n        />\r\n        <TextField\r\n          id=\"empresa\"\r\n          name=\"empresa\"\r\n          label=\"Empresa\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.empresa : \"\"}\r\n          fullWidth\r\n        />\r\n        <TextField\r\n          id=\"telefono\"\r\n          name=\"telefono\"\r\n          label=\"Telefono\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.telefono : \"\"}\r\n          fullWidth\r\n        />\r\n        <select\r\n          name=\"estado\"\r\n          ref={register({ required: true })}\r\n          defaultValue={selectedItem ? selectedItem.estado : null}\r\n          className={classes.input_estado}\r\n        >\r\n          <option value=\"false\">Activo</option>\r\n          <option value=\"true\">Inactivo</option>\r\n        </select>\r\n\r\n        <button type=\"submit\" className={selectedItem ? \"btn btn-outline-warning\" : \"btn btn-outline-primary\"}>\r\n          <span>{selectedItem ? \"Editar Empresa\" : \"Registrar Empresa\"}</span>\r\n        </button>\r\n      </form>\r\n      <ModalMap openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} setEmpresaMarker={setEmpresaMarker} empresaMarker={empresaMarker} setDireccion={setDireccion}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormEmpresa;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_EMPRESA from \"../data_tables/DataTable_empresa\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\nimport ModalEmpresa from \"../../../components/modals/ModalEmpresa\";\r\nimport FormEmpresa from \"../../../components/forms/FormEmpresa\";\r\n\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_admin_empresa.css\";\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nconst Admin_empresas = () => {\r\n   /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n  const [openModalEmpresa, setOpenModalEmpresa] = useState(null);\r\n  const [mensaje_accion, setMensajeAccion] = useState([]);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__empresa = async () => {\r\n    const res = await db.collection(\"empresa\").doc(selectedItem.id).delete();\r\n    var men = \"Empresa ID: \" + selectedItem.id + \" ha sido eliminado.\";\r\n    enqueueSnackbar(men, {\r\n      variant: \"error\",\r\n      autoHideDuration: 3000,\r\n    });\r\n    setMensajeAccion({mensaje : men, type : \"error\"})\r\n\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Agregar Empresa\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalEmpresa(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Empresa\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalEmpresa(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Empresa\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        \r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>EMPRESAS</span></div>\r\n        <div className=\"table\">\r\n          {/** Tabla camiones */}\r\n          <TABLA_EMPRESA\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            mensaje_accion = {mensaje_accion}\r\n            \r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalEmpresa\r\n          title={\"Empresa\"}\r\n          description={\"Descripcin de la accion a realizar\"}\r\n          selectedItem={selectedItem}\r\n          openModalEmpresa={openModalEmpresa}\r\n          setOpenModalEmpresa={setOpenModalEmpresa}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        >\r\n          <FormEmpresa\r\n            selectedItem={selectedItem}\r\n            setOpenModalEmpresa={setOpenModalEmpresa}\r\n            setSelectedItem={setSelectedItem}\r\n            closeSlideMenu={closeSlideMenu}\r\n          />\r\n        </ModalEmpresa>\r\n\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"Quieres borrar esta empresa?\"}\r\n          description={\"Esta accin borrar permanentemente los datos de esta empresa.\"}\r\n          men={selectedItem ? selectedItem.empresa : null}\r\n          action={delete__empresa}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        ></ConfirmAlert>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_empresas;","import React from \"react\";\n\nimport { ProvideAuth } from \"./db/use-auth\";\nimport { usuarioActual } from \"./db/auth\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\n\n\n/* Import de paginas*/\nimport INDEX from \"./app/index\";\nimport CONDUCTOR_HOME from \"./app/conductor/Conductor_home\";\nimport CONDUCTOR_VIAJES from \"./app/conductor/Conductor_viajes\";\n\nimport ADMIN_HOME from \"./app/admin/VISTA_ADMIN_HOME/Vista_admin_home\";\nimport ADMIN_CONDUCTORES from \"./app/admin/VISTA_ADMIN_USUARIO/Vista_admin_usuarios\";\nimport ADMIN_CAMIONES from \"./app/admin/VISTA_ADMIN_CAMION/Vista_admin_camiones\";\nimport ADMIN_VIAJES from \"./app/admin/VISTA_ADMIN_VIAJE/Vista_admin_viajes\";\nimport ADMIN_EMPRESAS from \"./app/admin/VISTA_ADMIN_EMPRESA/Vista_admin_empresas\";\n\nfunction App() {\n  usuarioActual();\n\n  return (\n    <div className=\"App\">\n      <ProvideAuth>\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={(props) => <INDEX {...props} />} />\n\n            {/**ROUTE PARA CONDUCTOR */}\n            <PrivateRouteConductor path=\"/conductor/home\">\n              <CONDUCTOR_HOME />\n            </PrivateRouteConductor>\n\n            <PrivateRouteConductor path=\"/conductor/viajes\">\n              <CONDUCTOR_VIAJES />\n            </PrivateRouteConductor>\n\n            {/**ROUTE PARA ADMIN */}\n\n            <PrivateRoute path=\"/admin/home\">\n              <ADMIN_HOME />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/conductores\">\n              <ADMIN_CONDUCTORES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/camiones\">\n              <ADMIN_CAMIONES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/viajes\">\n              <ADMIN_VIAJES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/empresa\">\n              <ADMIN_EMPRESAS />\n            </PrivateRoute>\n\n          </Switch>\n        </Router>\n      </ProvideAuth>\n    </div>\n  );\n\n  function PrivateRoute({ children, ...rest }) {\n    let auth = localStorage.getItem(\"user\");\n    let isAdmin = localStorage.getItem(\"isAdmin\");\n\n    console.log(\"ADMIN??? \" + isAdmin);\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n          auth ? (\n            isAdmin === \"true\" ? (\n              children\n            ) : (\n              <Redirect\n                to={{\n                  pathname: \"/conductor/home\",\n                  state: { code: \"100\", from: location },\n                }}\n              />\n            )\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: { code: \"100\", from: location },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n\n  function PrivateRouteConductor({ children, ...rest }) {\n    let auth = localStorage.getItem(\"user\");\n    let isAdmin = localStorage.getItem(\"isAdmin\");\n\n    console.log(\"ADMIN??? \" + isAdmin);\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n          auth ? (\n            isAdmin === \"true\" ? (\n              <Redirect\n                to={{\n                  pathname: \"/admin/home\",\n                  state: { code: \"100\", from: location },\n                }}\n              />\n            ) : (\n              children\n            )\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: { code: \"100\", from: location },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { SnackbarProvider } from \"notistack\";\nimport Grow from '@material-ui/core/Grow';\n\n/** ANT DESIGN IMPORT */\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n    <SnackbarProvider\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"center\",\n      }}\n      TransitionComponent={Grow}\n    >\n      <App />\n    </SnackbarProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}