/*! For license information please see main.abe1a530.chunk.js.LICENSE.txt */
(this.webpackJsonptrudistics=this.webpackJsonptrudistics||[]).push([[0],{1141:function(e,t,a){},1142:function(e,t,a){},1147:function(e,t,a){},1148:function(e,t,a){},1184:function(e,t,a){},1185:function(e,t,a){},1186:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(30),r=a.n(o),i=(a(620),a(183)),s=a(37),l=a(7),d=a(384),u=(a(621),a(1188),a(1187),d.a.initializeApp({apiKey:"AIzaSyCybTK1kaKZtP99G0K8o0IMWgL-vBylbuQ",authDomain:"trudistics.firebaseapp.com",projectId:"trudistics",storageBucket:"trudistics.appspot.com",messagingSenderId:"228483098144",appId:"1:228483098144:web:a4d59c637b6bc26ce9fe45"})),j=d.a,b=u.firestore(),m=u.storage(),f=u.auth(),h=a(60),O=a(2),p=Object(n.createContext)();function x(e){var t=e.children,a=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(h.g)(),r=function(e,t){return f.signInWithEmailAndPassword(e,t).then((function(e){return f.currentUser.getIdTokenResult().then((function(t){t.claims.admin?(console.log("SOY ADMIN"),localStorage.setItem("user",e.user),localStorage.setItem("isAdmin",!0),o.push("/admin/home")):(console.log("NO SOY ADMIN"),localStorage.setItem("user",e.user),localStorage.setItem("isAdmin",!1),o.push("/conductor/home"))})).catch((function(e){console.log(e)})),localStorage.setItem("user",e.user),c(e.user),e.user}))},i=function(e,t){return f.createUserWithEmailAndPassword(e,t).then((function(e){return c(e.user),e.user}))},s=function(){return f.signOut().then((function(){console.log("!!! Sesi\xf3n Cerrada"),o.push("/")}))},d=function(e){return f.sendPasswordResetEmail(e).then((function(){return!0}))},u=function(e,t){return f.confirmPasswordReset(e,t).then((function(){return!0}))};return Object(n.useEffect)((function(){var e=f.onAuthStateChanged((function(e){c(e||!1)}));return function(){return e()}}),[]),{user:a,signin:r,signup:i,signout:s,sendPasswordResetEmail:d,confirmPasswordReset:u}}();return Object(O.jsx)(p.Provider,{value:a,children:t})}var g=function(){f.signOut().then((function(){console.log("!!! Sesi\xf3n Cerrada"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("password")})).catch((function(e){console.log(e)}))},v=a(33),S=a(16),C=a.n(S),y=a(26),N=a(24),w=a(162),_=a(1260),k=a(1239),E=a(1191),M=a(594),I=a(121),D=a(1267),R=a(1262);function A(e){return Object(O.jsx)(R.a,Object(s.a)({elevation:6,variant:"filled"},e))}function T(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(0),i=Object(l.a)(r,2),s=i[0],d=i[1],u=Object(n.useState)(""),j=Object(l.a)(u,2),b=j[0],m=j[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),p=h[0],x=h[1],g=function(){o(!0)},v=function(e,t){"clickaway"!==t&&o(!1)},S=e.child.location.state;return Object(n.useEffect)((function(){if(console.log("Flash Message montado !!"),S){if(S.code!==s){switch(console.log(S.code),S.code){case"100":m(""),m("Error "+S.code+": Acceso no autorizado."),x("error");break;default:m("Error 1000: Error desconocido. ->"+S.code)}d(S.code),console.log("codigo seteado paso 1 !! -> CODE = "+s),g()}window.history.replaceState({},document.title)}if(e.codeError){switch(e.codeError){case"auth/invalid-email":m("Formato de correo invalido.");break;case"auth/user-not-found":m("No hay ning\xfan registro de usuario correspondiente a este correo.");break;case"auth/wrong-password":m("La contrase\xf1a no es v\xe1lida.");break;case"auth/too-many-requests":m(" El acceso a esta cuenta se ha desactivado temporalmente debido a los numerosos intentos fallidos de inicio de sesi\xf3n. Contacte con administrador");break;default:m("Error desconocido.")}x("warning"),g()}}),[e.codeError]),Object(O.jsx)(D.a,{open:c,autoHideDuration:6e3,onClose:v,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(O.jsx)(A,{onClose:v,severity:p,children:b})})}var L=a(562),P=a.n(L),F=a(561),Y=a.n(F),V=a(1240),U=a(1241),z=Object(I.a)((function(e){return{root:{height:"100vh",width:"100vw",backgroundColor:"#fafafa",fontFamily:"Montserrat, sans-serif"},container:{display:"flex",height:"100%",width:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"},cnt__login:{height:"50%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},cnt__logo:Object(N.a)({height:"100%",width:485},e.breakpoints.down("sm"),{display:"none"}),logo:{height:"100%",width:"100%"},cnt_form:{backgroundColor:"#ffffff",height:"80%",border:"1px #dbdbdb solid",borderRadius:5,width:500,padding:50,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},title:Object(N.a)({fontSize:32,marginBottom:30,fontFamily:"Dela Gothic One, cursive"},e.breakpoints.down("sm"),{}),error:{fontSize:14,marginbottom:5,color:"red"},form__text:{width:"100%",paddingBottom:15},form__button:{marginTop:20,marginBottom:20}}})),q=function(e){var t,a=z(),c=Object(n.useState)(""),o=Object(l.a)(c,2),r=o[0],i=o[1],d=Object(n.useState)(!0),u=Object(l.a)(d,2),j=u[0],m=u[1],p=Object(n.useState)(!1),x=Object(l.a)(p,2),g=x[0],v=x[1],S=Object(n.useState)(""),I=Object(l.a)(S,2),D=I[0],R=I[1],A=Object(h.g)(),L=Object(w.a)(),F=L.register,q=L.handleSubmit,B=L.errors,H=Object(n.useState)({amount:"",password:"",weight:"",weightRange:"",showPassword:!1}),G=Object(l.a)(H,2),W=G[0],J=G[1];function K(){return(K=Object(y.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,console.log("Recover password para => ",r),e.next=4,b.collection("usuario").where("email","==",r).get().then((function(e){e.forEach((function(e){return t=!0}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 4:!1===t?m(!1):(m(!0),v(!0),a=r,f.sendPasswordResetEmail(a).then((function(){})).catch((function(e){})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q;return Object(O.jsxs)("div",{className:a.root,children:[Object(O.jsxs)("div",{className:a.container,children:[Object(O.jsxs)(_.a,{className:a.cnt__login,children:[Object(O.jsx)(_.a,{className:a.cnt__logo,children:Object(O.jsx)("img",{src:"/logo_login_2.png",className:a.logo})}),Object(O.jsxs)("div",{className:a.cnt_form,children:[Object(O.jsx)("span",{className:a.title,children:"TRUDISTICS"}),Object(O.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:q((function(e){var t,a;console.log("onSubmit"),console.log(e.txtCorreo),console.log(e.txtPassword),(t=e.txtCorreo,a=e.txtPassword,f.signInWithEmailAndPassword(t,a)).then((function(t){localStorage.removeItem("isAdmin"),localStorage.removeItem("user"),f.currentUser.getIdTokenResult().then((function(a){a.claims.admin?(console.log("SOY ADMIN"),localStorage.setItem("user",t.user.uid),localStorage.setItem("isAdmin",!0),localStorage.setItem("password",e.txtPassword),A.push("/admin/home")):(console.log("NO SOY ADMIN",t),localStorage.setItem("user",t.user.uid),localStorage.setItem("isAdmin",!1),localStorage.setItem("password",e.txtPassword),A.push("/conductor/viajes"))})).catch((function(e){console.log(e)})),console.log("!! Inicio de sesi\xf3n exitoso -> "+t.user.email)})).catch((function(e){R(e.code),console.log("!! error code -> "+e.code),console.log("!! error code -> "+e.message)}))})),className:a.form,children:[Object(O.jsxs)("div",{className:a.form__text,children:[Object(O.jsx)(k.a,{name:"txtCorreo",label:"Correo",inputRef:F({required:!0}),startAdornment:Object(O.jsx)(E.a,{position:"start",children:Object(O.jsx)(Y.a,{})}),fullWidth:!0}),B.txtCorreo&&Object(O.jsx)("span",{className:a.error,children:"Correo requerido"})]}),Object(O.jsxs)("div",{className:a.form__text,children:[Object(O.jsx)(k.a,(t={type:"password",name:"txtPassword",label:"Contrase\xf1a",fullWidth:!0,inputRef:F({required:!0})},Object(N.a)(t,"type",W.showPassword?"text":"password"),Object(N.a)(t,"value",W.password),Object(N.a)(t,"onChange",(Q="password",function(e){J(Object(s.a)(Object(s.a)({},W),{},Object(N.a)({},Q,e.target.value)))})),Object(N.a)(t,"endAdornment",Object(O.jsx)(E.a,{position:"end",children:Object(O.jsx)(M.a,{"aria-label":"toggle password visibility",onClick:function(){J(Object(s.a)(Object(s.a)({},W),{},{showPassword:!W.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:W.showPassword?Object(O.jsx)(V.a,{}):Object(O.jsx)(U.a,{})})})),Object(N.a)(t,"startAdornment",Object(O.jsx)(E.a,{position:"start",children:Object(O.jsx)(P.a,{})})),t)),B.txtPassword&&Object(O.jsx)("span",{className:a.error,children:"Contrase\xf1a requerida"})]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:15},children:[Object(O.jsx)("button",{type:"primary",htmlType:"submit",className:"btn btn-primary",children:"Iniciar Sesi\xf3n"}),Object(O.jsx)("button",{className:"btn btn-warning",type:"button",style:{marginTop:10},"data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Recuperar Contrase\xf1a"})]})]})]})]}),Object(O.jsx)("div",{children:"\xa9 2021 - Trudistics"})]}),Object(O.jsx)(T,{child:e,codeError:D}),Object(O.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{class:"modal-dialog",children:Object(O.jsxs)("div",{class:"modal-content",children:[Object(O.jsxs)("div",{class:"modal-header",children:[Object(O.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Recuperaci\xf3n de contrase\xf1a"}),Object(O.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(O.jsx)("div",{class:"modal-body",children:Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("input",{type:"email",placeholder:"Ingrese email...",onChange:function(e){return function(e){i(e.target.value)}(e)}}),j?null:Object(O.jsx)("strong",{className:"text-danger",style:{marginLeft:5},children:"Email no se encuentra en nuestros registros."}),g?Object(O.jsx)("strong",{className:"text-success",style:{marginLeft:5},children:"Su contrase\xf1a ha sido enviada a su correo."}):null]})}),Object(O.jsxs)("div",{class:"modal-footer",children:[Object(O.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"}),Object(O.jsx)("button",{type:"button",class:"btn btn-primary",onClick:function(){return function(){return K.apply(this,arguments)}()},children:"Enviar"})]})]})})})]})},B=a(567),H=a.n(B),G=a(563),W=a.n(G),J=a(387),K=a.n(J),Q=a(564),X=a.n(Q),Z=a(565),$=a.n(Z),ee=a(566),te=a.n(ee),ae="#679436",ne="#EBF2FA",ce="#064789",oe="#EBF2FA",re="#679436",ie=Object(I.a)((function(e){var t;return{root:{background:"#064789",height:"100%",width:"100%",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"4px 4px 10px 10px rgba(0,0,0,0.1)",position:"sticky",top:0},cnt_avatar:Object(N.a)({width:"25%",display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:10},e.breakpoints.down("sm"),{}),cnt_avatar_dos:{width:"50px",height:"50px"},cnt_links:Object(N.a)({width:"50%",display:"flex",alignItems:"center"},e.breakpoints.down("sm"),{display:"none"}),top:Object(N.a)({display:"flex",justifyContent:"center",alignItems:"center",width:"25%"},e.breakpoints.down("sm"),{width:"55%",justifyContent:"center",alignItems:"center"}),__icon_mobile:Object(N.a)({width:"25%",justifyContent:"flex-start",paddingLeft:10},e.breakpoints.down("sm"),{display:"flex",width:"25%",height:"100%",padding:5}),icons:{color:"#ccc",textDecoration:"none","&:hover":{color:"#fff"}},icon_mobile:Object(N.a)({display:"none"},e.breakpoints.down("sm"),{display:"flex",width:"50%",justifyContent:"center"}),menu_mobile:Object(N.a)({},e.breakpoints.up("md"),{display:"none"}),displayName:Object(N.a)({width:"auto",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:100},e.breakpoints.down("sm"),{marginRight:0}),links:Object(N.a)({width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("sm"),{display:"none"}),nav__links:{display:"flex",flexDirection:"column",alignItems:"center",color:"#ccc",fontSize:"15px",fontFamily:"Montserrat, sans-serif",fontWeight:"bold",textDecoration:"none",position:"absoluted",marginRight:24,transition:"color 300ms ease-in-out","&:hover":{color:"#ffff",borderBottom:"5px solid #fff",paddingBottom:"10px"}},avatar:{width:"100%",height:"100%",borderRadius:50},username:(t={color:"#fff",fontSize:"15px",fontFamily:"Montserrat, sans-serif",marginLeft:10},Object(N.a)(t,e.breakpoints.down("sm"),{display:"none"}),Object(N.a)(t,e.breakpoints.down("md"),{fontSize:13}),t),icon:{fontSize:32},logo:Object(N.a)({height:"40px",width:"40px",marginRight:10},e.breakpoints.down("md"),{display:"none"}),title:Object(N.a)({fontSize:18,color:"#fff",fontFamily:"Dela Gothic One, cursive"},e.breakpoints.down("sm"),{}),__active_nav:{color:"#fff"},navigation_mobile:{backgroundColor:"yellow",zIndex:10}}})),se=function(e){var t=e.openSlideMenu,a=e.openNavigationMobileMenu,c=Object(n.useState)(!1),o=Object(l.a)(c,2),r=(o[0],o[1],Object(h.g)(),Object(n.useState)(null)),i=Object(l.a)(r,2),s=i[0],d=i[1],u=Object(n.useState)(null),j=Object(l.a)(u,2),m=(j[0],j[1],Object(n.useState)(!1)),f=Object(l.a)(m,2);f[0],f[1];Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user"),console.log("usuario => ",t),a=b.collection("usuario").doc(t),e.next=5,a.get().then((function(e){e.exists&&(d(e.data()),b.collection("usuario").doc(e.id).onSnapshot((function(e){console.log("Current data: ",e.data()),d(e.data())})))})).catch((function(e){console.log("Error getting document:",e)}));case 5:case"end":return e.stop()}}),e)}))),[]);var p=[{text:"INICIO",linkTo:"/admin/home",icon:Object(O.jsx)(W.a,{})},{text:"USUARIOS",linkTo:"/admin/conductores",icon:Object(O.jsx)(X.a,{})},{text:"CAMIONES",linkTo:"/admin/camiones",icon:Object(O.jsx)(K.a,{})},{text:"VIAJES",linkTo:"/admin/viajes",icon:Object(O.jsx)($.a,{})},{text:"EMPRESAS",linkTo:"/admin/empresa",icon:Object(O.jsx)(te.a,{})}],x=[{text:"MIS VIAJES",linkTo:"/conductor/viajes",icon:Object(O.jsx)(K.a,{})}],g=ie(),S=localStorage.getItem("isAdmin");return Object(O.jsxs)("div",{className:g.root,children:[Object(O.jsx)(_.a,{className:g.__icon_mobile,children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"#",className:g.icons,onClick:t,children:Object(O.jsx)("i",{class:"bi bi-list",style:{fontSize:42}})})})}),"true"==S?Object(O.jsx)(_.a,{className:g.icon_mobile,children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"#",className:g.icons,onClick:a,children:Object(O.jsx)("i",{className:"bi bi-caret-down-fill",style:{fontSize:40}})})})}):"",function(e){return"true"===e?Object(O.jsxs)(_.a,{className:g.cnt_links,children:[Object(O.jsx)(_.a,{className:g.links,children:p.map((function(e){return Object(O.jsxs)(v.c,{to:e.linkTo,className:g.nav__links,activeClassName:g.__active_nav,children:[e.icon,e.text]},e.text)}))}),Object(O.jsx)(_.a,{className:g.menu_mobile,children:Object(O.jsx)(H.a,{})})]}):"false"===e?Object(O.jsx)(_.a,{className:g.cnt_links,children:Object(O.jsx)(_.a,{className:g.links,children:x.map((function(e){return Object(O.jsxs)(v.c,{to:e.linkTo,className:g.nav__links,activeClassName:g.__active_nav,children:[e.icon,e.text]})}))})}):void 0}(S),Object(O.jsx)(_.a,{className:g.cnt_avatar,children:Object(O.jsxs)(_.a,{className:g.displayName,elevation:3,children:[Object(O.jsx)("div",{className:g.cnt_avatar_dos,children:Object(O.jsx)("img",{alt:"user_avatar",src:s?""===s.photoURL?"/default_avatar.png":s.photoURL:"/default_avatar.png",className:g.avatar})}),Object(O.jsx)("span",{className:g.username,children:s?s.nombres.toUpperCase():""})]})})]})},le=a(14),de=Object(I.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",backgroundColor:"#f1f5f9",width:"100vw",height:"100vh"},__header:Object(N.a)({height:"10vh",width:"100vw"},e.breakpoints.down("sm"),{}),__content:Object(N.a)({width:"100%",height:"90vh",display:"flex",flexDirection:"column"},e.breakpoints.down("sm"),{})}})),ue=function(e){var t=de(),a=Object(n.useState)(null),c=Object(l.a)(a,2),o=(c[0],c[1]),r=Object(n.useState)(null),i=Object(l.a)(r,2),s=i[0],d=i[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("user");b.collection("usuario").doc(e).get().then((function(e){e.exists?(o(e.data()),d(e.data().viajes),e.data().viajes.forEach((function(e){1==le(e.fecha.toDate()).isBefore(le())?console.log("Viajes Anteriores => ",le(e.fecha.toDate()).locale("es").format("DD MMMM YYYY hh:mm A")):1==le(e.fecha.toDate()).isSame(le(),"date")?console.log("Posee un viaje hoy => ",le(e.fecha.toDate()).locale("es").format("DD MMMM YYYY hh:mm A")):1==le(e.fecha.toDate()).isAfter(le())&&console.log("Proximos viajes => ",le(e.fecha.toDate()).locale("es").format("DD MMMM YYYY hh:mm A"))}))):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[]),Object(O.jsxs)("div",{className:t.root,children:[Object(O.jsx)("div",{className:t.__header,children:Object(O.jsx)(se,{})}),Object(O.jsxs)("div",{className:t.__content,children:[Object(O.jsx)("h1",{children:"Conductor_home"}),Object(O.jsx)("h1",{children:le().locale("es").format("DD MMMM YYYY hh:mm A")}),Object(O.jsxs)("h1",{children:["Viajes Totales : ",s?s.length:"cargando..."]}),Object(O.jsxs)("h1",{children:["Viajes Terminados : ",s?s.length:"cargando..."]}),Object(O.jsxs)("h1",{children:["Viajes Programados : ",s?s.length:"cargando..."]}),Object(O.jsx)(_.a,{children:Object(O.jsx)(v.b,{to:"/",children:"Volver al inicio"})})]})]})},je=a(1242),be=Object(I.a)((function(e){return{root:{backgroundColor:"#427AA1",width:"100%",height:"100%"},footer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},top:Object(N.a)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:0},e.breakpoints.down("sm"),{flexDirection:"column"}),container_icon:Object(N.a)({},e.breakpoints.down("sm"),{display:"flex"}),icons:{color:"#ccc",textDecoration:"none","&:hover":{color:"#fff"}},center:{},logo:Object(N.a)({height:"40px",width:"40px"},e.breakpoints.down("md"),{display:"none"}),title:Object(N.a)({fontSize:20,color:"#fff",fontFamily:"Dela Gothic One, cursive"},e.breakpoints.down("sm"),{fontSize:18}),__icon_mobile:Object(N.a)({backgroundColor:"green",display:"none",justifyContent:"center"},e.breakpoints.down("sm"),{display:"flex",width:"20%"})}})),me=function(e){var t=e.closeSlideMenu,a=be();return Object(O.jsxs)("div",{className:a.root,children:[Object(O.jsxs)("div",{className:a.top,children:[Object(O.jsx)("span",{className:a.container_icon,children:Object(O.jsx)("a",{href:"#",className:a.icons,onClick:t,children:Object(O.jsx)("i",{class:"bi bi-x",style:{fontSize:42,marginLeft:5,marginRight:5}})})}),Object(O.jsx)("img",{src:"/logo_3.png",className:a.logo}),Object(O.jsx)(_.a,{style:{width:"90%",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(O.jsx)("span",{className:a.title,children:"INKA SPA"})})]}),Object(O.jsx)(_.a,{className:a.center,children:e.itemList}),Object(O.jsxs)(_.a,{className:a.footer,children:[Object(O.jsx)(je.a,{}),Object(O.jsx)(_.a,{}),Object(O.jsx)(_.a,{}),Object(O.jsx)(_.a,{})]})]})},fe=a(1243),he=a(1192),Oe=a(1244),pe=a(1245),xe=Object(I.a)((function(e){return{root:{width:"100%",height:"100%"},listItem:{height:"100%",width:"100%",overflow:"hidden",paddingTop:50},listItemIcon:{color:"#fff"},listItemText:{color:"#fff",fontSize:15,fontFamily:"Montserrat, sans-serif"},topItemList:{height:"60%"},bottomItemList:{height:"40%"},item:{"&:hover":{backgroundColor:"#C1BFD9"}}}})),ge=function(e){var t=xe();return Object(O.jsxs)(_.a,{className:t.listItem,children:[Object(O.jsx)(_.a,{children:Object(O.jsx)(fe.a,{className:t.topItemList,children:e.admin_items.map((function(e,a){return Object(O.jsxs)(he.a,{button:!0,onClick:e.onClick,disabled:e.isDisabled,className:t.item,children:[Object(O.jsx)(Oe.a,{className:t.listItemIcon,children:e.icon}),Object(O.jsx)(pe.a,{children:Object(O.jsx)("span",{className:t.listItemText,children:e.text})})]},e.text)}))})}),Object(O.jsx)(je.a,{}),Object(O.jsx)(_.a,{children:Object(O.jsx)(fe.a,{className:t.bottomItemList,children:e.admin_settings.map((function(e,a){return Object(O.jsxs)(he.a,{button:!0,onClick:e.onClick,className:t.item,children:[Object(O.jsx)(Oe.a,{className:t.listItemIcon,children:e.icon}),Object(O.jsx)(pe.a,{children:Object(O.jsx)("span",{className:t.listItemText,children:e.text})})]},e.text)}))})})]})},ve=(a(168),a(1263)),Se=(a(628),function(e){var t=e.visible,a=e.setVisible,c=e.usuario,o=e.closeSlideMenu,r=Object(n.useState)(""),i=Object(l.a)(r,2),s=i[0],d=i[1],u=Object(n.useState)(""),j=Object(l.a)(u,2),p=j[0],x=j[1],v=Object(n.useState)(!0),S=Object(l.a)(v,2),N=S[0],w=S[1],_=Object(n.useState)(!1),k=Object(l.a)(_,2),E=k[0],M=k[1],I=Object(n.useState)(!1),D=Object(l.a)(I,2),R=D[0],A=D[1],T=Object(n.useState)(""),L=Object(l.a)(T,2),P=(L[0],L[1]),F=Object(h.g)(),Y=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.target.value);case 2:console.log("change pass => ",p);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=Object(n.useRef)(),U=Object(n.useState)(""),z=Object(l.a)(U,2),q=z[0],B=z[1],H=Object(n.useState)(!1),G=Object(l.a)(H,2),W=G[0],J=G[1],K=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("ON CHANGE FOTO"),!(t=V.current.files[0])){e.next=7;break}return(a=new FileReader).onloadend=function(){B(a.result)},e.next=7,a.readAsDataURL(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){console.log(c)}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(ve.a,{title:"MI PERFIL",placement:"left",closable:!1,onClose:function(){a(!1),o(),d(""),x("")},visible:t,width:300,children:[Object(O.jsx)("p",{className:"Title",children:"Mis Datos"}),Object(O.jsxs)("div",{className:"d-grid gap-3",children:[Object(O.jsx)("div",{className:"border Wrapper-image-perfil",children:Object(O.jsx)("img",{src:q||(c?c.photoURL:""),className:"Image-perfil"})}),W?Object(O.jsx)("strong",{className:"text-success",children:"Foto actualizada"}):null,Object(O.jsx)("input",{name:"photoUrl",id:"id_photoUrl",type:"file",ref:V,onChange:function(e){K()}}),Object(O.jsx)("button",{onClick:function(){return function(){console.log("Cambiar foto");var e=b.collection("usuario").doc(c.id),t=m.ref(),a="avatars/"+c.email+".profilePhoto",n=t.child(a);n.put(V.current.files[0],{contentType:"image/jpeg"}).then((function(t){n.getDownloadURL().then((function(t){return console.log(t),e.update({photoURL:t}).then((function(){console.log("Document successfully updated!"),J(!0),setTimeout((function(){J(!1)}),1500)})).catch((function(e){console.error("Error updating document: ",e)}))})),console.log("Uploaded a blob or file!")}))}()},children:"Cambiar Foto de Perfil"}),Object(O.jsx)("div",{className:"p-2 bg-light border",children:c?c.rut:""}),Object(O.jsx)("div",{className:"p-2 bg-light border",children:c?c.nombres+" "+c.apellidos:""}),Object(O.jsx)("div",{className:"p-2 bg-light border",children:c?c.email:""}),Object(O.jsx)("div",{className:"p-2 bg-light border",children:c?c.telefono:""}),Object(O.jsx)("span",{className:"Title",children:"Ajustes"}),E?Object(O.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[Object(O.jsx)("strong",{children:"Error: "})," Contrase\xf1as no coinciden."]}):"",R?Object(O.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(O.jsx)("strong",{children:"Exito: "})," Redirigiendo...."]}):"",Object(O.jsx)("span",{id:"passwordHelpInline",class:"form-text",children:"Contrase\xf1a actual:"}),Object(O.jsxs)("div",{className:"input-group mb-1 mx-auto",children:[Object(O.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:Object(O.jsx)("i",{class:"bi bi-lock-fill"})}),Object(O.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a actual","aria-label":"Contrase\xf1a1","aria-describedby":"basic-addon1",onChange:function(e){return Y(e)},minLength:"6",autocomplete:"new-password"})]}),Object(O.jsx)("span",{id:"passwordHelpInline",className:"form-text",children:"Nueva contrase\xf1a: (debe ser mayor a 7 caracteres y con una mayuscula al menos)"}),Object(O.jsxs)("div",{className:"input-group mb-1 mx-auto",children:[Object(O.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:Object(O.jsx)("i",{class:"bi bi-lock-fill"})}),Object(O.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a nueva","aria-label":"Contrase\xf1a2","aria-describedby":"basic-addon2",onKeyUp:function(e){return function(e){var t=e.target.value;d(t),console.log("change new pass => ",t),console.log(t.length),t.length>7&&/[A-Z]/.test(t)&&/[a-z]/.test(t)?w(!1):w(!0)}(e)},minLength:"6",autocomplete:"new-password"})]}),Object(O.jsx)("button",{className:"btn btn-danger mt-3",onClick:function(){console.log("CAMBIAR BUTTON => ",p);var e=localStorage.getItem("password");if(console.log("pass acutal --\x3e ",e),e===p){console.log("CONTRASE\xd1AS COINCIDEN");var t=f.currentUser,a=s;t.updatePassword(a).then((function(){A(!0),setTimeout((function(){A(!1),g(),F.push("/")}),5e3)})).catch((function(e){console.log("error => ",e),P("Para realizar esta acci\xf3n inicie sesi\xf3n de nuevo."),M(!0),setTimeout((function(){M(!1)}),5e3)}))}else console.log("CONTRASE\xd1AS NO COINCIDEN"),P("Contrase\xf1a acutal no coincide con nuestros registros."),M(!0),setTimeout((function(){M(!1)}),5e3)},disabled:N,children:"Cambiar Contrase\xf1a"})]})]},"left")})}),Ce=a(1257),ye=a(1258),Ne=a(388),we=a.n(Ne),_e=(a(629),{true:Object(O.jsx)(we.a,{color:"green",children:"Completado"}),false:Object(O.jsx)(we.a,{color:"orange",children:"Programado"})}),ke=function(e){var t=e.status;return _e[t]},Ee=a(244),Me=a(246),Ie=a(1193),De=a(1196),Re=a(1195),Ae=a(1247),Te=a(1246),Le=a(112),Pe=a(241);a(559),a(269);var Fe=Object(Le.withScriptjs)(Object(Le.withGoogleMap)((function(e){var t=e.empresaMarker,a=Object(n.useState)({lat:-23.5325518,lng:-70.399952}),c=Object(l.a)(a,2),o=(c[0],c[1],Object(n.useState)(null)),r=Object(l.a)(o,2),i=r[0],s=r[1];return Object(O.jsxs)(Le.GoogleMap,{defaultZoom:18,defaultCenter:{lat:t.lat,lng:t.lng},center:{lat:t.lat,lng:t.lng},children:[Object(O.jsx)(Le.Marker,{position:{lat:t.lat,lng:t.lng},onClick:function(){s(t)}}),i?Object(O.jsx)(Le.InfoWindow,{position:{lat:t.lat,lng:t.lng},onCloseClick:function(){s(null)},children:Object(O.jsx)("div",{children:Object(O.jsx)("h5",{children:"ej: Groot Limitada"})})}):null]})})));function Ye(e){var t=e.empresaMarker;return Object(O.jsx)("div",{style:{width:"90vw",height:"100vh"},children:Object(O.jsx)(Fe,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places",loadingElement:Object(O.jsx)("div",{style:{height:"100%"}}),containerElement:Object(O.jsx)("div",{style:{height:"400px"}}),mapElement:Object(O.jsx)("div",{style:{height:"100%"}}),empresaMarker:t})})}function Ve(e){var t=e.empresa_cor,a=e.openModalMap,n=e.setOpenModalMap;return Object(O.jsx)("div",{children:Object(O.jsxs)(Ie.a,{open:a,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xl",children:[Object(O.jsx)(Te.a,{id:"form-dialog-title",className:"Modal-header",children:Object(O.jsx)("span",{className:"Modal-title",children:"Ubicaci\xf3n"})}),Object(O.jsxs)(Re.a,{className:"Map-wrapper",children:[Object(O.jsx)(Ae.a,{children:"Descripci\xf3n de las acciones"}),Object(O.jsx)(Ye,{empresaMarker:t})]}),Object(O.jsx)(De.a,{className:"Modal-actions",children:Object(O.jsx)(Me.a,{onClick:function(){return n(!1)},color:"secondary",children:"Cerrar"})})]})})}var Ue=a(1268),ze=a(1249),qe=a(1197),Be=a(114),He=a(577),Ge=a.n(He),We=a(1248),Je=a(43),Ke=Object(I.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},viewer:{height:"100%"}}})),Qe=Je.StyleSheet.create({page:{flexDirection:"column",backgroundColor:"#fff"},header:{backgroundColor:"#fff",display:"flex",flexDirection:"row",borderTopWidth:1,borderLeftWidth:1,borderRightWidth:1,borderBottom:1,marginHorizontal:10,padding:15},row:{marginHorizontal:10,borderBottomWidth:1,display:"flex",flexDirection:"row"},cell:{width:"20%",height:"100%",display:"flex",justifyContent:"center",padding:3,borderRight:"1px #ccc solid",borderLeft:"1px #ccc solid"},cell_2:{width:"10%",height:"100%",display:"flex",justifyContent:"center",padding:3},head_cell:{width:"20%",height:"100%",display:"flex",justifyContent:"center",padding:3},text:{fontSize:8},head_text:{fontSize:10,fontWeight:"900"}}),Xe=c.a.forwardRef((function(e,t){return Object(O.jsx)(We.a,Object(s.a)({direction:"up",ref:t},e))}));function Ze(e){var t=Ke(),a=e.open,n=e.setOpen,c=e.data,o=function(){n(!1)},r=function(){return Object(O.jsx)(Je.Document,{children:Object(O.jsxs)(Je.Page,{size:"A4",style:Qe.page,children:[Object(O.jsx)(Je.View,{style:Qe.section,children:Object(O.jsx)(Je.Text,{children:"Seccion"})}),Object(O.jsxs)(Je.View,{style:Qe.header,children:[Object(O.jsx)(Je.View,{style:Qe.head_cell,children:Object(O.jsx)(Je.Text,{style:Qe.head_text,children:"Fecha"})}),Object(O.jsx)(Je.View,{style:Qe.head_cell,children:Object(O.jsx)(Je.Text,{style:Qe.head_text,children:"Nombre"})}),Object(O.jsx)(Je.View,{style:Qe.head_cell,children:Object(O.jsx)(Je.Text,{style:Qe.head_text,children:"Camion"})}),Object(O.jsx)(Je.View,{style:Qe.head_cell,children:Object(O.jsx)(Je.Text,{style:Qe.head_text,children:"Empresa"})}),Object(O.jsx)(Je.View,{style:Qe.head_cell,children:Object(O.jsx)(Je.Text,{style:Qe.head_text,children:"Direcci\xf3n"})})]}),c.map((function(e){return Object(O.jsxs)(Je.View,{style:Qe.row,children:[Object(O.jsx)(Je.View,{style:Qe.cell,children:Object(O.jsx)(Je.Text,{style:Qe.text,children:e.fecha})}),Object(O.jsx)(Je.View,{style:Qe.cell,children:Object(O.jsx)(Je.Text,{style:Qe.text,children:e.conductor})}),Object(O.jsx)(Je.View,{style:Qe.cell,children:Object(O.jsx)(Je.Text,{style:Qe.text,children:e.camion})}),Object(O.jsx)(Je.View,{style:Qe.cell,children:Object(O.jsx)(Je.Text,{style:Qe.text,children:e.direccion})}),Object(O.jsx)(Je.View,{style:Qe.cell,children:Object(O.jsx)(Je.Text,{style:Qe.text,children:e.destino})}),Object(O.jsx)(Je.View,{style:Qe.cell_2,children:Object(O.jsx)(Je.Text,{style:Qe.text,children:e.estado?"Completado":"Programado"})})]},e.fecha)}))]})})};return Object(O.jsx)("div",{children:Object(O.jsxs)(Ie.a,{fullScreen:!0,open:a,onClose:o,TransitionComponent:Xe,children:[Object(O.jsx)(ze.a,{className:t.appBar,children:Object(O.jsxs)(qe.a,{children:[Object(O.jsx)(M.a,{edge:"start",color:"inherit",onClick:o,"aria-label":"close",children:Object(O.jsx)(Ge.a,{})}),Object(O.jsx)(Be.a,{variant:"h6",className:t.title,children:"Reporte"}),Object(O.jsx)(Me.a,{autoFocus:!0,color:"inherit",onClick:o,children:"Guardar"})]})}),Object(O.jsx)(Je.PDFViewer,{className:t.viewer,children:Object(O.jsx)(r,{data:c})})]})})}var $e=a(301),et=(a(125),Ee.a.Option),tt=ye.a.RangePicker,at=Object(I.a)((function(e){return{root:{width:"100%","& table":{},"& thead > tr > th":{background:"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)",color:"black",fontSize:"16",fontFamily:"Dela Gothic One, cursive"},"& thead > tr":{borderWidth:"2px",borderColor:"black",borderStyle:"solid"},"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th ":{background:ce,color:oe},boxShadow:"4px 4px 10px 10px rgba(0,0,0,0.1)",backgroundColor:"#fff"},filter__section:{display:"flex",flexDirection:"column",height:"20%",backgroundColor:"#1D1D34",borderRadius:"16px 16px 0 0",padding:5},label__container:{},filter__container:Object(N.a)({display:"flex",marginTop:10,justifyContent:"center",padding:10},e.breakpoints.down("sm"),{flexDirection:"column"}),button__container:Object(N.a)({display:"flex",marginTop:10,marginBottom:10,justifyContent:"center"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"}),button:Object(N.a)({width:"20%",marginRight:10},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center",width:"80%",marginRight:0}),filter:Object(N.a)({display:"flex",flexDirection:"column",marginRight:20},e.breakpoints.down("sm"),{marginBottom:"10px",marginRight:0}),filter__title:Object(N.a)({color:"#fff",fontSize:16,marginRight:5,fontWeight:"600"},e.breakpoints.down("sm"),{display:"none"})}})),nt=function(e){e.setIsSelected,e.setSelectedItem;var t=e.selectedItem,a=e.setViajes,c=Object(n.useState)(!1),o=Object(l.a)(c,2),r=o[0],i=o[1],s=at(),d=Object(n.useState)(null),u=Object(l.a)(d,2),j=u[0],m=u[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],x=h[1],g=Object(n.useState)([]),v=Object(l.a)(g,2),S=(v[0],v[1]),N=Object(n.useState)(""),w=Object(l.a)(N,2),_=w[0],k=(w[1],Object(n.useState)(!0)),E=Object(l.a)(k,2),M=E[0],I=E[1],D=Object(n.useState)([]),R=Object(l.a)(D,2),A=R[0],T=R[1],L=Object(n.useState)([]),P=Object(l.a)(L,2),F=P[0],Y=P[1],V=Object(n.useState)({}),U=Object(l.a)(V,2),z=U[0],q=U[1],B=Object(n.useState)(!1),H=Object(l.a)(B,2),G=H[0],W=H[1],J=Object(n.useState)(null),K=Object(l.a)(J,2),Q=K[0],X=K[1],Z=Object(n.useState)(null),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(null),ne=Object(l.a)(ae,2),ce=ne[0],oe=ne[1],re=Object(n.useState)(null),ie=Object(l.a)(re,2),se=ie[0],de=ie[1],ue=Object(n.useState)([]),je=Object(l.a)(ue,2),be=je[0],me=je[1],fe=Object(n.useState)([]),he=Object(l.a)(fe,2),Oe=(he[0],he[1]),pe=Object(n.useState)(!1),xe=Object(l.a)(pe,2),ge=(xe[0],xe[1],Object(n.useState)("")),ve=Object(l.a)(ge,2),Se=(ve[0],ve[1],Object(n.useState)(!1)),ye=Object(l.a)(Se,2),Ne=ye[0],we=ye[1],_e=Object(n.useState)(!1),Me=Object(l.a)(_e,2),Ie=Me[0],De=Me[1],Re=Object(n.useState)(!1),Ae=Object(l.a)(Re,2),Te=Ae[0],Le=Ae[1],Pe=Object(n.useState)(!1),Fe=Object(l.a)(Pe,2),Ye=Fe[0],ze=Fe[1],qe=Object(n.useState)(!1),Be=Object(l.a)(qe,2),He=Be[0],Ge=Be[1],We=Object(n.useState)(null),Je=Object(l.a)(We,2),Ke=(Je[0],Je[1]),Qe=Object(n.useState)([]),Xe=Object(l.a)(Qe,2),nt=(Xe[0],Xe[1]),ct=[{title:"Fecha",dataIndex:"fecha",key:"fecha",render:function(e){return Object(O.jsx)("a",{children:e})},sorter:function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?1:-1},defaultSortOrder:"descend"},{title:"Region/Comuna",dataIndex:"destino",key:"marca"},{title:"Empresa",dataIndex:"direccion",key:"marca",render:function(e,t){return Object(O.jsx)("a",{className:"text-primary",onClick:function(){return function(e,t){return ot.apply(this,arguments)}(t.empresa_latitud,t.empresa_longitud)},children:Object(O.jsx)("strong",{children:e})})}},{title:"Camion",dataIndex:"camion",key:"patente"},{title:"Estado",key:"disponible",render:function(e,t){return Object(O.jsx)(ke,{status:t.estado})}}];function ot(){return(ot=Object(y.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q({lat:t,lng:a});case 2:W(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b.collection("camion").onSnapshot((function(e){m(e.size),e.docChanges().forEach((function(e){"modified"===e.type&&x(!p)}))}),(function(e){console.log("Encountered error: ".concat(e))}));var rt=function(){var e=Object(y.a)(C.a.mark((function e(){var t,n,c,o,r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n={},{},c=[],o=[],r=localStorage.getItem("user"),i=b.collection("usuario").doc(r),[],e.next=10,i.get().then((function(e){e.exists?e.data().viajes.forEach(function(){var a=Object(y.a)(C.a.mark((function a(r){var i,s,l,d,u,j,m;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return{},i=le(r.fecha.toDate()).locale("es").format("DD MMMM YYYY HH:MM A"),s=le(r.fecha.toDate()).locale("es").format("DD MMMM YYYY"),l=!!le(r.fecha.toDate()).isBefore(le()),d=b.collection("camion").doc(r.id_camion),u="",a.next=8,d.get().then((function(e){e.exists?u=e.data().modelo+" "+e.data().patente:console.log("No such document!")}));case 8:b.collection("empresa").doc(r.destino).get().then((function(a){if(a.exists){t={};var d=a.data().direccion,b=a.data().empresa;j=a.data().latitud,m=a.data().longitud,t={id:r.id,fechaSorter:r.fecha.toDate(),fecha:i,conductor:e.data().nombres,camion:u,origen:r.origen,destino:d,empresa_id:a.id,estado:l,id_user:e.id,id_camion:r.id_camion,fecha_camion:s,direccion:b,empresa_latitud:j,empresa_longitud:m},n={id_camion:r.id_camion,fecha:s},c.push(t),o.push(n)}else console.log("No such document!")}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 10:setTimeout((function(){T(c),Y(c),I(!1),a(c)}),1e3);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function it(){if(console.log("APLICANDO FILTRO ..."),Y(A),null!==Q&&null===ee&&null===ce&&null===se){console.log("FILTRO POR CONDCUTOR");var e=A.filter((function(e){return e.id_user===Q})).sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(e),we(!0)}if(null!==ee&&null===Q&&null===ce&&null===se){console.log("FILTRO POR RANGO DE FECHAS");var t=A.filter((function(e){var t=e.fechaSorter;return le(t).isBetween(ee[0],ee[1],"date","[]")}));De(!0);var a=t.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(a)}if(null!==ce&null===ee&&null===Q&&null===se){console.log("FILTRO EMPRESA");var n=A.filter((function(e){return e.empresa_id===ce})).sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Le(!0),Y(n)}if(null!==se&null===ee&&null===Q&&null===ce){console.log("FILTRO ESTADO");var c=A.filter((function(e){return e.estado===se})).sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ze(!0),Y(c)}if(null!==Q&&null!==se&&null===ee&&null===ce){console.log("FILTRO CONDUCTOR Y ESTADO");var o=A.filter((function(e){var t=e.estado,a=e.id_user;return t===se&&a===Q}));we(!0),ze(!0);var r=o.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(r)}if(null!==ee&&null!==Q&&null===ce&&null===se){console.log("FILTRO POR CONDCUTOR Y RANGO DE FECHAS");var i=A.filter((function(e){var t=e.id_user,a=e.fechaSorter;return t===Q&&le(a).isBetween(ee[0],ee[1],"date","[]")}));De(!0),we(!0);var s=i.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(s)}if(null===Q&&null!==ce&&null===ee&&null!==se){console.log("FILTRO ESTADO Y EMPRESA");var l=A.filter((function(e){var t=e.empresa_id,a=e.estado;return t===ce&&a===se}));Le(!0),ze(!0);var d=l.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(d)}if(null!==Q&&null!==ce&&null===ee&&null===se){console.log("FILTRO CONDUCTOR Y EMPRESA");var u=A.filter((function(e){var t=e.empresa_id,a=e.id_user;return t===ce&&a===Q}));Le(!0),we(!0);var j=u.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(j)}if(null!==ee&&null!==ce&&null===Q&&null===se){console.log("RANGO DE FECHAS Y FILTRO EMPRESA");var b=A.filter((function(e){var t=e.empresa_id,a=e.fechaSorter;return t===ce&&le(a).isBetween(ee[0],ee[1],"date","[]")}));De(!0),Le(!0);var m=b.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(m)}if(null!==ee&&null!==se&&null===ce&&null===Q){console.log("RANGO DE FECHAS Y ESTADO");var f=A.filter((function(e){var t=e.fechaSorter;return e.estado===se&&le(t).isBetween(ee[0],ee[1],"date","[]")}));De(!0),ze(!0);var h=f.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(h)}if(null!==ee&&null===Q&&null!==ce&&null!==se){console.log("RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO");var O=A.filter((function(e){var t=e.empresa_id,a=e.fechaSorter,n=e.estado;return t===ce&&n===se&&le(a).isBetween(ee[0],ee[1],"date","[]")}));De(!0),Le(!0),ze(!0);var p=O.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(p)}if(null!==ee&&null!==Q&&null!==ce&&null===se){console.log("CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA "),console.log(le("30 Abril 2021 21:04 PM").isBetween(ee[0],ee[1],"date","[]"));var x=A.filter((function(e){var t=e.empresa_id,a=e.fechaSorter;return e.id_user===Q&&t===ce&&le(a).isBetween(ee[0],ee[1],"date","[]")}));De(!0),Le(!0),we(!0);var g=x.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(g)}if(null!==ee&&null!==Q&&null===ce&&null!==se){console.log("CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO ");var v=A.filter((function(e){var t=e.estado,a=e.fechaSorter;return e.id_user===Q&&t===se&&le(a).isBetween(ee[0],ee[1],"date","[]")}));De(!0),ze(!0),we(!0);var S=v.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(S)}if(null===ee&&null!==Q&&null!==ce&&null!==se){console.log("CONDUCTOR Y , EMPRESA Y FILTRO ESTADO ");var C=A.filter((function(e){var t=e.empresa_id,a=e.estado;return e.id_user===Q&&a===se&&t===ce}));Le(!0),ze(!0),we(!0);var y=C.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(y)}if(null!==ee&&null!==Q&&null!==ce&&null!==se){console.log("FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR");var N=A.filter((function(e){var t=e.empresa_id,a=e.fechaSorter,n=e.estado,c=e.id_user;return t===ce&&n===se&&c===Q&&n===se&&le(a).isBetween(ee[0],ee[1],"date","[]")}));De(!0),Le(!0),we(!0),ze(!0);var w=N.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));Y(w)}}return Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt();case 2:t=[],b.collection("empresa").get().then((function(e){var a;e.forEach((function(e){a={id:e.id,empresa:e.data().empresa,region:e.data().region,comuna:e.data().comuna,direccion:e.data().direccion},t.push(a)})),me(t)})).catch((function(e){console.log("Error getting documents: ",e)})),a=[],b.collection("usuario").get().then((function(e){e.forEach((function(e){({id:e.id,nombres:e.data().nombres,apellidos:e.data().apellidos,disabled:e.data().disabled}),a.push(a)})),Oe(a)})).catch((function(e){console.log("Error getting documents: ",e)}));case 6:case"end":return e.stop()}}),e)}))),[j,p]),Object(n.useEffect)((function(){console.log("!! UseEffect selectedItem === null ?"),null===t&&S([])}),[t]),Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===He&&(console.log("USE EFFECT REMOVE"),it()),Ge(!1),console.log(He);case 3:case"end":return e.stop()}}),e)}))),[He]),Object(O.jsxs)("div",{className:s.root,children:[Object(O.jsx)(Ze,{open:r,setOpen:i,data:F}),Object(O.jsxs)("div",{className:s.filter__section,children:[Object(O.jsxs)("div",{className:s.label__container,children:[Object(O.jsx)("span",{className:s.filter__title,children:"Filtrando por : "}),Ne||Ie||Ye||Te?"":Object(O.jsx)(Ue.a,{label:"No hay filtros activos",color:"primary",size:"medium",onDelete:function(){console.log("Quitar filtro"),nt(A)},clickable:!0}),Ie?Object(O.jsx)(Ue.a,{label:"rango de fechas",color:"secondary",size:"medium",onDelete:function(){te(null),De(null),Ge(!0)},clickable:!0}):"",Te?Object(O.jsx)(Ue.a,{label:"empresa",color:"secondary",size:"medium",onDelete:function(){oe(null),Le(null),Ge(!0)},clickable:!0}):"",Ye?Object(O.jsx)(Ue.a,{label:"estado",color:"secondary",size:"medium",onDelete:function(){de(null),ze(null),Ge(!0)}}):""]}),Object(O.jsxs)("div",{className:s.filter__container,children:[Object(O.jsxs)("div",{className:s.filter,children:[Object(O.jsx)("span",{className:s.filter__title,children:"Por rango de fechas :"}),Object(O.jsx)(tt,{onChange:function(e,t){te(e)},locale:$e.a,value:ee})]}),Object(O.jsxs)("div",{className:s.filter,children:[Object(O.jsx)("span",{className:s.filter__title,children:"Por Empresa :"}),Object(O.jsx)(Ee.a,{showSearch:!0,placeholder:"Seleccione Empresa",optionFilterProp:"children",onChange:function(e){console.log("selected ".concat(e))},onSearch:function(e){console.log("search:",e)},onSelect:function(e){oe(e)},value:ce,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:be.map((function(e){return Object(O.jsx)(et,{value:e.id,children:e.empresa},e.id)}))})]}),Object(O.jsxs)("div",{className:s.filter,children:[Object(O.jsx)("span",{className:s.filter__title,children:"Por Estado :"}),Object(O.jsxs)(Ee.a,{id:"state",showSearch:!0,placeholder:"Seleccione Estado",optionFilterProp:"children",onSelect:function(e){de(e)},value:se,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(O.jsx)(et,{value:!0,children:"Completado"},"1"),Object(O.jsx)(et,{value:!1,children:"Programado"},"2")]})]})]}),Object(O.jsxs)("div",{className:s.button__container,children:[Object(O.jsxs)("button",{onClick:it,className:s.button,children:[Object(O.jsx)("i",{className:"bi bi-filter"})," Filtrar"]}),Object(O.jsx)("button",{onClick:function(){X(null),te(null),Ke(null),oe(null),de(null),we(!1),De(!1),Le(!1),ze(!1),Y(A)},className:s.button,children:"Limpiar Filtros"}),Object(O.jsxs)("button",{onClick:function(){i(!0)},className:s.button,children:[Object(O.jsx)("i",{className:"bi bi-file-earmark-plus-fill"})," Generar PDF"]})]})]}),Object(O.jsx)(Ve,{openModalMap:G,setOpenModalMap:W,empresa_cor:z}),Object(O.jsx)(Ce.a,{rowKey:"id",columns:ct,dataSource:F,scroll:{x:"max-content"},size:"small",pagination:{position:["bottom","left"]},bordered:!0,className:s.root,rowClassName:_,loading:M})]})},ct=a(583),ot=a.n(ct),rt=a(394),it=a.n(rt),st=a(584),lt=a.n(st),dt=a(107),ut=a.n(dt),jt=a(582),bt=a.n(jt),mt=(a(1141),function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(null),i=Object(l.a)(r,2),s=i[0],d=i[1],u=Object(n.useState)(null),j=Object(l.a)(u,2),m=(j[0],j[1]),f=Object(n.useState)(null),p=Object(l.a)(f,2),x=p[0],v=p[1],S=Object(n.useState)(null),N=Object(l.a)(S,2),w=N[0],_=N[1],k=Object(n.useState)(""),E=Object(l.a)(k,2),M=E[0],I=E[1],D=Object(n.useState)(""),R=Object(l.a)(D,2),A=R[0],T=R[1],L=Object(h.g)();Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("user"),b.collection("usuario").doc(t).get().then(function(){var e=Object(y.a)(C.a.mark((function e(t){var a,n,c,o,r,i,s,l,u,j;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.exists){e.next=28;break}if(d(t.data()),m(t.data().viajes),0,a=t.data().viajes.filter((function(e){return le(e.fecha.toDate()).isBefore(le())})),n=t.data().viajes.filter((function(e){return le(e.fecha.toDate()).isAfter(le())})),c=a.sort((function(e,t){return t.fecha-e.fecha})),o=n.sort((function(e,t){return e.fecha-t.fecha})),r=c.find((function(e){return le(e.fecha.toDate()).isBefore(le(),"date")})),i=o.find((function(e){return le(e.fecha.toDate()).isAfter(le())})),s=t.data().viajes.find((function(e){return le(e.fecha.toDate()).isSame(le(),"date")})),!r){e.next=15;break}return l=b.collection("empresa").doc(r.destino),e.next=15,l.get().then((function(e){e.exists?(r.destino=e.data().empresa,r.direccion=e.data().direccion):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 15:if(!s){e.next=19;break}return u=b.collection("empresa").doc(s.destino),e.next=19,u.get().then((function(e){e.exists?(s.destino=e.data().empresa,s.direccion=e.data().direccion):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 19:if(!i){e.next=23;break}return j=b.collection("empresa").doc(i.destino),e.next=23,j.get().then((function(e){e.exists?(i.destino=e.data().empresa,i.direccion=e.data().direccion):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 23:_(r),I(i),T(s),e.next=29;break;case 28:console.log("No such document!");case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Error getting document:",e)}));case 3:case"end":return e.stop()}}),e)}))),[]);var P=[{key:2,text:"Mi Perfil",icon:Object(O.jsx)(bt.a,{}),onClick:function(){o(!0)}},{key:3,text:"Cerrar Sesi\xf3n",icon:Object(O.jsx)(ut.a,{}),onClick:function(){g(),L.push("/")}}],F=function(){Y.current.style.width="0",V.current.style.marginLeft="0",U.current.style.marginLeft="0"},Y=Object(n.useRef)(null),V=Object(n.useRef)(null),U=Object(n.useRef)(null),z=Object(n.useRef)(null);return Object(O.jsxs)("div",{className:"root",children:[Object(O.jsx)("div",{className:"header",ref:U,children:Object(O.jsx)(se,{openSlideMenu:function(){Y.current.style.width="240px"},openNavigationMobileMenu:function(){z.current.style.height="250px"}})}),Object(O.jsx)("div",{className:"menu_lateral",ref:Y,children:Object(O.jsx)(me,{closeSlideMenu:F,itemList:Object(O.jsx)(ge,{admin_items:P,admin_settings:[],selectedUser:x})})}),Object(O.jsxs)("div",{className:"content",ref:V,children:[Object(O.jsxs)("div",{className:"card-container",children:[Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsxs)("div",{style:{padding:10},children:[Object(O.jsx)("span",{className:"card-title",children:"Ultimo viaje: "}),Object(O.jsx)("span",{className:"card-fecha",children:w?le(w.fecha.toDate()).locale("es").format("DD MMMM YYYY hh:mm A"):"No posee viajes realizados"}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"card-title",children:"con destino a :"}),Object(O.jsx)("span",{className:"card-fecha",children:w?w.destino:"No posee viajes realizados"}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"card-fecha",children:w?w.direccion:""}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{className:"icon-container",children:Object(O.jsx)(ot.a,{className:"icon"})})]}),A?Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsxs)("div",{style:{padding:10},children:[Object(O.jsx)("span",{className:"card-title",children:"Su viaje de hoy es: "}),Object(O.jsx)("span",{className:"card-fecha",children:A?le(A.fecha.toDate()).locale("es").format("DD MMMM YYYY hh:mm A"):""}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"card-title",children:"con destino a :"}),Object(O.jsx)("span",{className:"card-fecha",children:A?A.destino:"No posee viajes programados"}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"card-fecha",children:A?A.direccion:"No posee viajes programados"}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{className:"icon-container",children:Object(O.jsx)(it.a,{className:"icon"})})]}):Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(O.jsx)("span",{className:"card-fecha",children:"No tiene viajes programados para el d\xeda de hoy."})}),Object(O.jsx)("div",{className:"icon-container",children:Object(O.jsx)(it.a,{className:"icon"})})]}),Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsxs)("div",{style:{padding:10},children:[Object(O.jsx)("span",{className:"card-title",children:"Proximo viaje "}),Object(O.jsx)("span",{className:"card-fecha",children:M?le(M.fecha.toDate()).locale("es").format("DD MMMM YYYY hh:mm A"):""}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"card-title",children:"con destino a :"}),Object(O.jsxs)("span",{className:"card-fecha",children:[M?M.destino:""," "]}),Object(O.jsx)("br",{}),Object(O.jsxs)("span",{className:"card-fecha",children:[M?M.direccion:""," "]}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{className:"icon-container",children:Object(O.jsx)(lt.a,{className:"icon"})})]})]}),Object(O.jsx)("div",{className:"table",children:Object(O.jsx)(nt,{setSelectedItem:v,setViajes:m})}),Object(O.jsx)(Se,{visible:c,setVisible:o,usuario:s,closeSlideMenu:F})]})]})}),ft=function(e){var t=e.visible,a=e.setVisible,c=e.closeSlideMenu,o=Object(n.useState)(!0),r=Object(l.a)(o,2),i=r[0],s=r[1],d=Object(n.useState)(""),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),x=p[0],v=p[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),w=N[0],_=N[1],k=Object(n.useState)(!1),E=Object(l.a)(k,2),M=E[0],I=E[1],D=Object(n.useState)(""),R=Object(l.a)(D,2),A=(R[0],R[1]),T=Object(h.g)(),L=function(){var e=Object(y.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,console.log(a),e.next=4,v(a);case 4:a.length>7&&/[A-Z]/.test(a)&&/[a-z]/.test(a)?s(!1):s(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(ve.a,{title:"Administrador",placement:"left",closable:!1,onClose:function(){a(!1),c()},visible:t,children:[w?Object(O.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[Object(O.jsx)("strong",{children:"Error: "})," Contrase\xf1as no coinciden."]}):"",M?Object(O.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(O.jsx)("strong",{children:"Exito: "})," Redirigiendo...."]}):"",Object(O.jsx)("p",{children:"Contrase\xf1a actual:"}),Object(O.jsxs)("div",{class:"input-group mb-3 mx-auto",children:[Object(O.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"@"}),Object(O.jsx)("input",{type:"password",class:"form-control",placeholder:"Contrase\xf1a actual","aria-label":"Contrase\xf1a","aria-describedby":"basic-addon1",onKeyUp:function(e){return b(e.target.value)},autocomplete:"new-password"})]}),Object(O.jsx)("p",{children:"Contrase\xf1a nueva:"}),Object(O.jsxs)("div",{class:"input-group mb-3 mx-auto",children:[Object(O.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"@"}),Object(O.jsx)("input",{type:"password",class:"form-control",placeholder:"Contrase\xf1a nueva","aria-label":"Contrase\xf1a","aria-describedby":"basic-addon1",onKeyUp:function(e){return L(e)},minLength:"6",autocomplete:"new-password"})]}),Object(O.jsx)("p",{children:i?"La contrase\xf1a debe ser mayor de 8 caracteres.":"Contrase\xf1a Valida :)"}),Object(O.jsx)("button",{class:"btn btn-danger mt-3",onClick:function(){var e=localStorage.getItem("password");console.log("actual pass => ",j),console.log("new pass => ",x);var t=f.currentUser,a=x;if(console.log(t),e===j){console.log("CONTRASE\xd1AS COINCIDEN");t=f.currentUser,a=x;t.updatePassword(a).then((function(){I(!0),setTimeout((function(){I(!1),g(),T.push("/")}),5e3)})).catch((function(e){console.log("error => ",e),A("Para realizar esta acci\xf3n inicie sesi\xf3n de nuevo."),_(!0),setTimeout((function(){_(!1)}),5e3)}))}else console.log("CONTRASE\xd1AS NO COINCIDEN"),A("Contrase\xf1a acutal no coincide con nuestros registros."),_(!0),setTimeout((function(){_(!1)}),5e3)},disabled:i,children:"Cambiar Contrase\xf1a"})]},"left")})},ht=a(118),Ot=a.n(ht),pt=(a(1142),a(1143));le.extend(pt);var xt=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(null),i=Object(l.a)(r,2),s=(i[0],i[1]),d=Object(h.g)(),u=[{text:"Ajustes",icon:Object(O.jsx)(Ot.a,{}),onClick:function(){o(!0)}},{text:"Cerrar Sesi\xf3n",icon:Object(O.jsx)(ut.a,{}),onClick:function(){g(),d.push("/")}}],j=Object(n.useState)([]),m=Object(l.a)(j,2),f=m[0],p=m[1],x=Object(n.useState)([]),S=Object(l.a)(x,2),N=S[0],w=S[1],_=Object(n.useState)([]),k=Object(l.a)(_,2),E=k[0],M=k[1],I=Object(n.useState)([]),D=Object(l.a)(I,2),R=D[0],A=D[1],T=Object(n.useState)(!1),L=Object(l.a)(T,2),P=L[0],F=L[1],Y=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.collection("camion"),e.next=3,t.get();case 3:if(!(a=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:n=[],a.forEach((function(e){var t={id:e.id,modelo:e.data().modelo,marca:e.data().marca,patente:e.data().patente,disponible:e.data().disponible?"Disponible":"En uso"};n.push(t)})),setTimeout((function(){p(n),F(!0)}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],[],e.next=4,b.collection("usuario").get().then((function(e){var a={};e.forEach((function(e){e.data().viajes.forEach((function(n){var c=le(n.fecha.toDate()).locale("es").format("DD MMMM YYYY HH:MM A"),o=le(n.fecha.toDate()).locale("es").format("DD MMMM YYYY");a={id:n.id,fechaSorter:n.fecha.toDate(),fecha:c,conductor:e.data().nombres,camion:n.camion,origen:n.origen,destino:n.destino,estado:n.estado?"True":"false",id_user:e.id,id_camion:n.id_camion,fecha_camion:o},{id_camion:n.id_camion,fecha:o},t.push(a)}))})),w(t)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.collection("empresa"),e.next=3,t.get();case 3:if(!(a=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:n=[],a.forEach((function(e){var t={id:e.id,modelo:e.data().modelo,marca:e.data().marca,patente:e.data().patente,disponible:e.data().disponible?"Disponible":"En uso"};n.push(t)})),setTimeout((function(){A(n),F(!0)}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Y(),V(),fetch("http://localhost:4000/api/admin/",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){M(e),F(!0)}),1e3)}),(function(e){})),U()}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("user");console.log("usuario => ",e),b.collection("usuario").doc(e).get().then((function(e){e.exists&&s(e.data())})).catch((function(e){console.log("Error getting document:",e)}))}),[]);var z=function(){q.current.style.width="0",B.current.style.marginLeft="0",H.current.style.marginLeft="0"},q=Object(n.useRef)(null),B=Object(n.useRef)(null),H=Object(n.useRef)(null),G=Object(n.useRef)(null);return Object(O.jsxs)("div",{className:"root",children:[Object(O.jsx)("div",{className:"header",ref:H,children:Object(O.jsx)(se,{openSlideMenu:function(){q.current.style.width="240px"},openNavigationMobileMenu:function(){G.current.style.height="250px"}})}),Object(O.jsxs)("div",{className:"navigation_mobile",ref:G,children:[Object(O.jsx)("div",{style:{backgroundColor:"#1E1F1F",width:"100%",display:"flex",justifyContent:"center",opacity:"1"},children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"#",className:"nav_link",onClick:function(){G.current.style.height="0"},children:Object(O.jsx)("i",{class:"bi bi-x",style:{fontSize:42,marginLeft:5,marginRight:5}})})})}),Object(O.jsx)(v.c,{to:"/admin/home",className:"nav_link",children:Object(O.jsx)("span",{children:"INICIO"})}),Object(O.jsx)(v.c,{to:"/admin/conductores",className:"nav_link",children:Object(O.jsx)("span",{children:"USUARIOS"})}),Object(O.jsx)(v.c,{to:"/admin/camiones",className:"nav_link",children:Object(O.jsx)("span",{children:"CAMIONES"})}),Object(O.jsx)(v.c,{to:"/admin/viajes",className:"nav_link",children:Object(O.jsx)("span",{children:"VIAJES"})}),Object(O.jsx)(v.c,{to:"/admin/empresa",className:"nav_link",children:Object(O.jsx)("span",{children:"EMPRESAS"})})]}),Object(O.jsx)("div",{className:"menu_lateral",ref:q,children:Object(O.jsx)(me,{closeSlideMenu:z,itemList:Object(O.jsx)(ge,{admin_items:[{text:"Trudistics",isDisabled:!0}],admin_settings:u})})}),Object(O.jsxs)("div",{className:"content",ref:B,children:[Object(O.jsxs)("div",{className:"card_container",children:[Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsxs)("div",{className:"card_info",children:[P?Object(O.jsx)("span",{className:"card_title",children:E.length}):"cargando...",Object(O.jsx)("span",{className:"card_text",children:"usuarios registrados"})]}),Object(O.jsx)("div",{className:"icon_container",children:Object(O.jsx)("i",{class:"bi bi-person icon"})})]}),Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsxs)("div",{className:"card_info",children:[P?Object(O.jsx)("span",{className:"card_title",children:N.length}):"cargando...",Object(O.jsx)("span",{className:"card_text",children:"viajes registrados"})]}),Object(O.jsx)("div",{className:"icon_container",children:Object(O.jsx)("i",{class:"bi bi-calendar icon"})})]})]}),Object(O.jsxs)("div",{className:"card_container",children:[Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsxs)("div",{className:"card_info",children:[P?Object(O.jsx)("span",{className:"card_title",children:f.length}):"cargando...",Object(O.jsx)("span",{className:"card_text",children:"camiones registrados"})]}),Object(O.jsx)("div",{className:"icon_container",children:Object(O.jsx)("i",{class:"bi bi-truck icon"})})]}),Object(O.jsxs)("div",{className:"card",style:{backgroundColor:re},children:[Object(O.jsxs)("div",{className:"card_info",children:[P?Object(O.jsx)("span",{className:"card_title",children:R.length}):"cargando...",Object(O.jsx)("span",{className:"card_text",children:"empresas registradas"})]}),Object(O.jsx)("div",{className:"icon_container",children:Object(O.jsx)("i",{class:"bi bi-building icon"})})]})]}),Object(O.jsx)(ft,{visible:c,setVisible:o,closeSlideMenu:z})]})]})},gt=a(57),vt=a(1265),St=c.a.forwardRef((function(e,t){return Object(O.jsx)(We.a,Object(s.a)({direction:"up",ref:t},e))}));function Ct(e){e.children;var t=e.openAlert,a=e.setOpenAlert,c=e.selectedUser,o=e.setSelectedUser,r=e.closeSlideMenu,i=Object(gt.b)(),s=i.enqueueSnackbar,d=(i.closeSnackbar,Object(n.useState)(!0)),u=Object(l.a)(d,2),j=u[0],b=u[1],m=function(){var e=Object(y.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://trudistics-admin-server.vercel.app/api/admin/delete",a={id:t},fetch("https://trudistics-admin-server.vercel.app/api/admin/delete",{method:"DELETE",body:JSON.stringify(a),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){var t="Usuario "+c.email+"ha sido eliminado.";s(t,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(Ie.a,{open:t,TransitionComponent:St,onClose:function(){return o(null)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(O.jsx)(Te.a,{id:"alert-dialog-slide-title",children:"\xbfQuieres borrar esta cuenta?"}),Object(O.jsxs)(Re.a,{children:[Object(O.jsx)(vt.a,{message:"Esta acci\xf3n no se puede revertir",description:Object(O.jsxs)(Ae.a,{id:"alert-dialog-slide-description",color:"secondary",children:["Cuenta de usuario:",c?" "+c.email:" No hay un usuario seleccionado"]}),type:"error"}),Object(O.jsxs)(Ae.a,{children:[Object(O.jsx)("span",{children:"Para confirmar que deseas borrar esta colecci\xf3n, escribe su Correo"}),Object(O.jsx)("input",{type:"text",placeholder:"Ingrese correo",onChange:function(e){return function(e){console.log(e.target.value),e.target.value===c.email?b(!1):b(!0)}(e)}})]})]}),Object(O.jsxs)(De.a,{children:[Object(O.jsx)(Me.a,{color:"primary",onClick:function(){a(!1),o(null),r()},children:"Cancelar"}),Object(O.jsx)(Me.a,{onClick:function(){c&&m(c.id),a(!1),o(null),r()},color:"secondary",variant:"contained",disabled:j,children:"Eliminar"})]})]})}var yt=c.a.forwardRef((function(e,t){return Object(O.jsx)(We.a,Object(s.a)({direction:"up",ref:t},e))}));function Nt(e){var t=c.a.useState(!0),a=Object(l.a)(t,1)[0],n=c.a.useState("lg"),o=Object(l.a)(n,1)[0],r=e.children,i=e.openModalConductor,s=e.setOpenModalConductor,d=e.selectedUser,u=e.selectedItem,j=e.closeSlideMenu;return Object(O.jsx)("div",{children:Object(O.jsxs)(Ie.a,{open:i,TransitionComponent:yt,fullWidth:a,maxWidth:o,"aria-labelledby":"max-width-dialog-title",children:[Object(O.jsx)(Te.a,{id:"max-width-dialog-title",className:u?"bg-warning":"bg-primary",children:d?"Modificar Cuenta":"Crear Cuenta"}),Object(O.jsx)(Re.a,{children:r}),Object(O.jsx)(De.a,{children:Object(O.jsx)(Me.a,{onClick:function(){s(!1),j()},color:"primary",children:"Cerrar"})})]})})}var wt=a(1194),_t=a(1250),kt=a(1269),Et=a(598),Mt=a(585),It=a.n(Mt),Dt=Object(I.a)((function(e){return{root:{display:"flex",alignItems:"center"},icon:Object(N.a)({color:"#db3e00",fontSize:24,marginRight:5,marginLeft:3},e.breakpoints.down("sm"),{fontSize:18,marginLeft:0}),text:Object(N.a)({fontSize:15},e.breakpoints.down("sm"),{fontSize:12})}})),Rt=function(e){var t=Dt(),a=e.children;return Object(O.jsxs)("div",{className:t.root,children:[Object(O.jsx)(It.a,{className:t.icon}),Object(O.jsx)(Be.a,{align:"center",color:"error",variant:"body2",className:t.text,children:a})]})},At=a(181),Tt=a.n(At),Lt=Object(I.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},container_wrap:{width:"65vw",padding:10,display:"flex"},container:{width:"60vw",padding:10},input__email:{marginBottom:10},container__nombres:Object(N.a)({marginBottom:10,display:"flex",justifyContent:"space-between",columnGap:20},e.breakpoints.down("sm"),{flexDirection:"column"}),container__rut_telefono_domicilio:Object(N.a)({marginBottom:10,display:"flex",justifyContent:"space-between",columnGap:20},e.breakpoints.down("sm"),{flexDirection:"column"}),container__inputFile:Object(N.a)({marginTop:15,marginBottom:10,display:"flex",columnGap:20},e.breakpoints.down("sm"),{flexDirection:"column"}),container__avatar:Object(N.a)({width:"15vw",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},e.breakpoints.down("sm"),{display:"none"}),avatar:Object(N.a)({width:"100%",height:200},e.breakpoints.down("sm"),{display:"none"}),input__nombres:Object(N.a)({width:"100%"},e.breakpoints.down("sm"),{width:"100%"}),input__rut_telefono:Object(N.a)({width:"100%"},e.breakpoints.down("sm"),{width:"100%"}),input__domicilio:Object(N.a)({width:"100%"},e.breakpoints.down("sm"),{width:"100%"}),input__file:Object(N.a)({width:"50%"},e.breakpoints.down("sm"),{width:"100%"}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},estado_input:Object(N.a)({height:30,width:"50%"},e.breakpoints.down("sm"),{width:"100%",marginTop:10})}})),Pt=function(e){var t=Object(w.a)(),a=t.register,c=t.handleSubmit,o=t.errors,r=Object(gt.b)().enqueueSnackbar,i=e.selectedUser,s=e.setOpenModalConductor,d=e.closeSlideMenu,u=Object(n.useState)(!1),j=Object(l.a)(u,2),b=j[0],f=j[1],h=Lt(),p=Object(n.useState)(""),x=Object(l.a)(p,2),g=x[0],v=x[1],S=Object(n.useRef)(),N=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("ON CHANGE FOTO"),!(t=S.current.files[0])){e.next=7;break}return(a=new FileReader).onloadend=function(){v(a.result)},e.next=7,a.readAsDataURL(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("!!! API -> EDITARUSUARIO !!!"),"http://localhost:4000/api/admin/edit/",fetch("http://localhost:4000/api/admin/edit/",{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){d(),s(!1),console.log("Success:",e);r("Usuario editado exitosamente.",{variant:"info",preventDuplicate:!0,autoHideDuration:3e3})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("!!! API -> REGISTRAR USUARIO !!!"),"http://localhost:4000/api/admin/",fetch("http://localhost:4000/api/admin/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){return e.json()})).catch((function(e){r(e,{variant:"success",autoHideDuration:3e3})})).then((function(e){d(),s(!1),console.log("res => ",e);var t="Usuario "+e.email+" creado exitosamente.",a="";if(e.code){switch(e.code){case"auth/email-already-exists":t="Correo ya se encuentra registrado",a="warning"}r(t,{variant:a,preventDuplicate:!0,autoHideDuration:3e3})}else{t="Usuario "+e.email+" creado exitosamente.";r(t,{variant:"success",autoHideDuration:3e3})}}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(n.useState)(""),I=Object(l.a)(M,2),D=I[0],R=I[1];return Object(O.jsxs)("div",{className:h.root,children:[Object(O.jsx)(wt.a,{open:b,className:h.backdrop,children:Object(O.jsx)(_t.a,{color:"secondary"})}),Object(O.jsx)("form",{className:h.root,noValidate:!0,autoComplete:"off",onSubmit:c((function(e,t){if(f(!0),i){console.log("!!! MODIFICAR USUARIO !!! ",e);var a={contentType:"image/jpeg"},n=m.ref(),c="avatars/"+e.email+".profilePhoto";(o=n.child(c)).put(S.current.files[0],a).then((function(t){o.getDownloadURL().then((function(t){var a={id:i.id,email:e.email,nombres:e.nombres,apellidos:e.apellidos,rut:e.rut,telefono:e.telefono,photoUrl:g?t:i.photoURL,estado:e.estado};k(a)})),console.log("Uploaded a blob or file!")}))}else{console.log("!!! REGISTRAR USUARIO NUEVO !!! ",e);var o;a={contentType:"image/jpeg"},n=m.ref(),c="avatars/"+e.email+".profilePhoto";(o=n.child(c)).put(S.current.files[0],a).then((function(t){o.getDownloadURL().then((function(t){v(t),console.log(e.email);var a=e.email.split("@");console.log(a[0]);var n=a[0]+e.rut.slice(-5);console.log("password ====> ",n),R(n);var c={email:e.email,nombres:e.nombres,apellidos:e.apellidos,rut:e.rut,telefono:e.telefono,photoUrl:t,password:n,estado:e.estado};E(c)})),console.log("Uploaded a blob or file!")}))}})),children:Object(O.jsxs)(_.a,{className:h.container_wrap,children:[Object(O.jsx)(_.a,{children:Object(O.jsx)(_.a,{className:h.container__avatar,children:i?Object(O.jsx)(_.a,{className:h.avatar,children:Object(O.jsx)(kt.a,{alt:"user_avatar",src:g||(i?i.photoURL:""),variant:"square",className:h.avatar})}):null})}),Object(O.jsxs)(_.a,{className:h.container,children:[Object(O.jsxs)(_.a,{className:h.input__email,children:[Object(O.jsx)(Et.a,{name:"email",id:"id_email",label:"Email",fullWidth:!0,inputRef:a({required:!0,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/}),defaultValue:i?i.email:""}),o.email&&"required"===o.email.type&&Object(O.jsx)(Rt,{children:"'Email' es Requerido."}),o.email&&"pattern"===o.email.type&&Object(O.jsx)(Rt,{children:"Formato de correo invalido."})]}),Object(O.jsxs)(_.a,{className:h.container__nombres,children:[Object(O.jsxs)(_.a,{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(O.jsx)(Et.a,{name:"nombres",id:"id_nombres",label:"Nombres",className:h.input__nombres,inputRef:a({required:!0}),defaultValue:i?i.nombres:""}),o.nombres&&"required"===o.nombres.type&&Object(O.jsx)(Rt,{children:"'Nombre' es requerido."})]}),Object(O.jsxs)(_.a,{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(O.jsx)(Et.a,{name:"apellidos",id:"id_apellidos",label:"Apellidos",className:h.input__nombres,inputRef:a({required:!0}),defaultValue:i?i.apellidos:""}),o.apellidos&&"required"===o.apellidos.type&&Object(O.jsx)(Rt,{children:"'Apellido' es requerido."})]})]}),Object(O.jsxs)(_.a,{className:h.container__rut_telefono_domicilio,children:[Object(O.jsxs)(_.a,{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(O.jsx)(Et.a,{name:"rut",id:"id_rut",label:"Rut",className:h.input__rut_telefono,inputRef:a({required:!0}),defaultValue:i?i.rut:""}),o.rut&&"required"===o.rut.type&&Object(O.jsx)(Rt,{children:"'Rut' es requerido."})]}),Object(O.jsxs)(_.a,{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(O.jsx)(Et.a,{name:"telefono",id:"id_telefono",label:"Telefono",className:h.input__rut_telefono,inputRef:a({required:!0}),defaultValue:i?i.telefono:""}),o.telefono&&"required"===o.telefono.type&&Object(O.jsx)(Rt,{children:"'Telefono' es requerido."})]})]}),Object(O.jsxs)(_.a,{className:h.container__inputFile,children:[i?Object(O.jsx)("input",{name:"photoUrl",id:"id_photoUrl",type:"file",className:h.input__file,ref:S,onChange:function(e){N()}}):null,Object(O.jsxs)("select",{name:"estado",ref:a({required:!0}),defaultValue:i?i.estado:null,className:h.estado_input,children:[Object(O.jsx)("option",{value:"false",children:"Activo"}),Object(O.jsx)("option",{value:"true",children:"Inactivo"})]})]}),Object(O.jsxs)(_.a,{className:h.container__inputFile,children:[Object(O.jsx)("input",{type:"hidden",value:D,name:"password"}),Object(O.jsx)(Me.a,{variant:"contained",color:"primary",onClick:function(){},type:"submit",children:i?"Modificar Usuario":"Registrar Usuario"})]})]})]})})]})},Ft=a(1259),Yt=(a(125),Object(I.a)((function(e){return{root:{width:"100%","& table":{},"& thead > tr > th":{backgroundColor:ce,color:"black",fontSize:"16",fontFamily:"Dela Gothic One, cursive"},"& thead > tr":{borderWidth:"2px",borderColor:"black",borderStyle:"solid"},"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th ":{background:ce,color:oe},boxShadow:"4px 4px 10px 10px rgba(0,0,0,0.1)",backgroundColor:"#ff",borderRadius:"16px 16px 0 0"},filter__container:Object(N.a)({display:"flex",marginTop:10,justifyContent:"center",padding:10},e.breakpoints.down("sm"),{flexDirection:"column"}),filter:Object(N.a)({display:"flex",flexDirection:"column",marginRight:20},e.breakpoints.down("sm"),{marginBottom:"10px",marginRight:0}),button__container:Object(N.a)({display:"flex",marginTop:10,marginBottom:10,justifyContent:"center"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"}),button:Object(N.a)({width:"20%",marginRight:10},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center",width:"80%",marginRight:0}),buscador:Object(N.a)({width:"40%",padding:5},e.breakpoints.down("sm"),{width:"100%"})}}))),Vt=[{title:"Correo",dataIndex:"email",render:function(e){return Object(O.jsx)("strong",{className:"",children:e})},sorter:function(e,t){return e.email.localeCompare(t.email)}},{title:"Nombres",dataIndex:"nombres",key:"id"},{title:"Apellidos",dataIndex:"apellidos",key:"id"},{title:"Estado",dataIndex:"estado",key:"estado",render:function(e){return"true"===e?Object(O.jsx)("strong",{className:"text-danger",children:"Inactivo"}):Object(O.jsx)("strong",{className:"text-success",children:"Activo"})}}],Ut=function(e){e.setIsSelected;var t=e.setSelectedUser,a=(e.selectedUser,e.setSelectedItem),c=e.selectRows,o=e.setSelectRows,r=e.openSlideMenu,i=(e.functionBuscar,Ee.a.Option,Object(n.useState)(null)),d=Object(l.a)(i,2),u=(d[0],d[1]),j=Object(n.useState)(!0),m=Object(l.a)(j,2),f=m[0],h=m[1],p=Object(n.useState)(null),x=Object(l.a)(p,2),g=x[0],v=x[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),w=N[0],_=N[1],k=Object(n.useState)([]),E=Object(l.a)(k,2),M=E[0],I=E[1],D=Object(n.useState)([]),R=Object(l.a)(D,2),A=R[0],T=R[1],L=Object(n.useState)(null),P=Object(l.a)(L,2),F=(P[0],P[1],Object(n.useState)(null)),Y=Object(l.a)(F,2),V=(Y[0],Y[1],Object(n.useState)("")),U=Object(l.a)(V,2),z=U[0],q=U[1],B=(b.collection("usuario").onSnapshot((function(e){v(e.size),e.docChanges().forEach((function(e){"modified"===e.type&&_(!w)}))}),(function(e){console.log("Encountered error: ".concat(e))})),Object(n.useState)([])),H=Object(l.a)(B,2),G=(H[0],H[1]),W={selectedRowKeys:c,onChange:function(e,n){G([n]),o(e),r(),console.log("selectedRowKeys: ".concat(e),"selectedRows: ",n[0]),t(n[0]),a(n[0]);var c=le("Wed, 31 Mar 2021 02:12:39 GMT").locale("es").format("DD MMM. YYYY");console.log(c)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}};Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("<----RENDER TABLA USUARIOS----\x3e"),e.next=3,void fetch("https://trudistics-admin-server.vercel.app/api/admin",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e),setTimeout((function(){var t=e.sort((function(e,t){return e.estado.localeCompare(t.estado)}));I(e),T(t),h(!1)}),1e3)}),(function(e){u(e)}));case 3:case"end":return e.stop()}}),e)}))),[g,w]);Ft.a.Text,Ft.a.Link;var J=Yt();return Object(O.jsx)("div",{className:J.root,children:Object(O.jsx)(Ce.a,{rowKey:"id",rowSelection:Object(s.a)({type:"radio"},W),columns:Vt,dataSource:A,scroll:{x:"max-content"},size:"small",pagination:{position:["bottom","left"]},bordered:!0,className:J.root,loading:f,title:function(){return Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"text",placeholder:"Busqueda por Nombre o Correo...",onChange:function(e){return function(e){console.log("on change nombre => ",e.target.value),q(e.target.value);var t=M.filter((function(t){var a=t.nombres,n=t.email;return t.rut,a.toLowerCase().includes(e.target.value.toLowerCase())||n.toLowerCase().includes(e.target.value.toLowerCase())}));T(t)}(e)},value:z,className:J.buscador})})}})})},zt=a(138),qt=a.n(zt),Bt=a(159),Ht=a.n(Bt),Gt=a(160),Wt=a.n(Gt),Jt=(a(1147),function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],s=r[1],d=Object(n.useState)(null),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(!0),f=Object(l.a)(m,2),p=(f[0],f[1]),x=Object(n.useState)(null),S=Object(l.a)(x,2),C=S[0],y=S[1],N=Object(n.useState)(null),w=Object(l.a)(N,2),_=w[0],k=w[1],E=Object(n.useState)([]),M=Object(l.a)(E,2),I=M[0],D=M[1],R=Object(h.g)(),A=[{key:2,text:"Crear Cuenta",icon:Object(O.jsx)(qt.a,{}),onClick:function(){b(null),k(!0),y(null)}},{key:3,text:"Modificar Cuenta",icon:Object(O.jsx)(Ht.a,{}),onClick:function(){return k(!0)},isDisabled:!j},{key:4,text:"Eliminar Cuenta",icon:Object(O.jsx)(Wt.a,{}),onClick:function(){return s(!0)},isDisabled:!j}],T=[{key:2,text:"Ajustes",icon:Object(O.jsx)(Ot.a,{}),onClick:function(){c(!0)}},{key:3,text:"Cerrar Sesi\xf3n",icon:Object(O.jsx)(ut.a,{}),onClick:function(){g(),R.push("/")}}],L=function(){F.current.style.width="240px"},P=function(){F.current.style.width="0",Y.current.style.marginLeft="0",V.current.style.marginLeft="0",D([])},F=Object(n.useRef)(null),Y=Object(n.useRef)(null),V=Object(n.useRef)(null),U=Object(n.useRef)(null);return Object(O.jsxs)("div",{className:"root",children:[Object(O.jsx)("div",{className:"header",ref:V,children:Object(O.jsx)(se,{openSlideMenu:L,openNavigationMobileMenu:function(){U.current.style.height="250px"}})}),Object(O.jsxs)("div",{className:"navigation_mobile",ref:U,children:[Object(O.jsx)("div",{style:{backgroundColor:"#1E1F1F",width:"100%",display:"flex",justifyContent:"center",opacity:"1"},children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"#",className:"nav_link",onClick:function(){U.current.style.height="0"},children:Object(O.jsx)("i",{class:"bi bi-x",style:{fontSize:42,marginLeft:5,marginRight:5}})})})}),Object(O.jsx)(v.c,{to:"/admin/home",className:"nav_link",children:Object(O.jsx)("span",{children:"INICIO"})}),Object(O.jsx)(v.c,{to:"/admin/conductores",className:"nav_link",children:Object(O.jsx)("span",{children:"USUARIOS"})}),Object(O.jsx)(v.c,{to:"/admin/camiones",className:"nav_link",children:Object(O.jsx)("span",{children:"CAMIONES"})}),Object(O.jsx)(v.c,{to:"/admin/viajes",className:"nav_link",children:Object(O.jsx)("span",{children:"VIAJES"})}),Object(O.jsx)(v.c,{to:"/admin/empresa",className:"nav_link",children:Object(O.jsx)("span",{children:"EMPRESAS"})})]}),Object(O.jsx)("div",{className:"menu_lateral",ref:F,children:Object(O.jsx)(me,{closeSlideMenu:P,itemList:Object(O.jsx)(ge,{admin_items:A,admin_settings:T,selectedUser:j})})}),Object(O.jsxs)("div",{className:"content",ref:Y,children:[Object(O.jsxs)("div",{className:"info",style:{backgroundColor:ae},children:[" ",Object(O.jsx)("span",{style:{color:ne},children:"USUARIOS"})]}),Object(O.jsx)("div",{className:"table",children:Object(O.jsx)(Ut,{setSelectedUser:b,setIsSelected:p,selectedUser:j,setSelectedItem:y,selectRows:I,setSelectRows:D,openSlideMenu:L})})]}),Object(O.jsx)(ft,{visible:a,setVisible:c,closeSlideMenu:P}),Object(O.jsx)(Ct,{openAlert:i,setOpenAlert:s,selectedUser:j,setSelectedUser:b,closeSlideMenu:P}),Object(O.jsx)(Nt,{openModalConductor:_,setOpenModalConductor:k,selectedUser:j,selectedItem:C,closeSlideMenu:P,children:Object(O.jsx)(Pt,{selectedUser:j,setOpenModalConductor:k,closeSlideMenu:P})})]})}),Kt=(a(125),Object(I.a)((function(e){return{root:{width:"100%","& table":{},"& thead > tr > th":{background:"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)",color:"black",fontSize:"16",fontFamily:"Dela Gothic One, cursive"},"& thead > tr":{borderWidth:"2px",borderColor:"black",borderStyle:"solid"},"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th ":{background:ce,color:oe},boxShadow:"4px 4px 10px 10px rgba(0,0,0,0.1)",backgroundColor:"#ff",borderRadius:"16px 16px 0 0"}}}))),Qt=[{title:"Modelo",dataIndex:"modelo",render:function(e){return Object(O.jsx)("strong",{className:"",children:e})},sorter:function(e,t){return e.modelo.localeCompare(t.modelo)}},{title:"Marca",dataIndex:"marca",key:"marca"},{title:"Patente",dataIndex:"patente",key:"patente"},{title:"Estado",dataIndex:"estado",key:"estado",render:function(e){return"true"===e?Object(O.jsx)("strong",{style:{color:"red"},children:"Inactivo"}):Object(O.jsx)("strong",{className:"text-primary",children:"Activo"})}}],Xt=function(e){e.setIsSelected;var t=e.setSelectedItem,a=e.selectedItem,c=(e.mensaje_accion,e.selectRows),o=e.setSelectRows,r=e.openSlideMenu,i=Object(n.useState)(null),d=Object(l.a)(i,2),u=(d[0],d[1],Object(n.useState)(!0)),j=Object(l.a)(u,2),m=j[0],f=j[1],h=Object(n.useState)(null),p=Object(l.a)(h,2),x=p[0],g=p[1],v=Object(n.useState)(!1),S=Object(l.a)(v,2),N=S[0],w=S[1],_=Object(n.useState)([]),k=Object(l.a)(_,2),E=k[0],M=k[1],I=Object(n.useState)(""),D=Object(l.a)(I,2),R=D[0],A=(D[1],Object(n.useState)(!1)),T=Object(l.a)(A,2),L=(T[0],T[1],b.collection("camion").onSnapshot((function(e){g(e.size),e.docChanges().forEach((function(e){"modified"===e.type&&w(!N)}))}),(function(e){console.log("Encountered error: ".concat(e))})),Object(n.useState)([])),P=Object(l.a)(L,2),F=(P[0],P[1]),Y={selectedRowKeys:c,onChange:function(e,a){o(e),r(),console.log("selectedRowKeys: ".concat(e),"selectedRows: ",a[0]),t(a[0]);var n=le("Wed, 31 Mar 2021 02:12:39 GMT").locale("es").format("DD MMM. YYYY");console.log(n)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},V=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.collection("camion"),e.next=3,t.get();case 3:if(!(a=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:n=[],a.forEach((function(e){var t={id:e.id,modelo:e.data().modelo,marca:e.data().marca,patente:e.data().patente,disponible:e.data().disponible?"Disponible":"En uso",estado:e.data().estado};n.push(t)})),setTimeout((function(){var e=n.sort((function(e,t){return e.estado.localeCompare(t.estado)||e.modelo.localeCompare(t.modelo)}));M(e),f(!1)}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){V()}),[x,N]),Object(n.useEffect)((function(){console.log("!! UseEffect selectedItem === null ?"),null===a&&F([])}),[a]);Ft.a.Text,Ft.a.Link;var U=Kt();return Object(O.jsx)("div",{className:U.root,children:Object(O.jsx)(Ce.a,{rowKey:"id",rowSelection:Object(s.a)({type:"radio"},Y),columns:Qt,dataSource:E,scroll:{x:"max-content"},size:"small",pagination:{position:["bottom","left"]},bordered:!0,className:U.root,rowClassName:R,loading:m})})},Zt=c.a.forwardRef((function(e,t){return Object(O.jsx)(We.a,Object(s.a)({direction:"up",ref:t},e))}));function $t(e){var t=e.title,a=e.description,c=e.action,o=(e.children,e.openAlert),r=e.setOpenAlert,i=e.selectedItem,s=e.setSelectedItem,d=e.men,u=e.email_destino,j=e.closeSlideMenu,b=Object(gt.b)(),m=(b.enqueueSnackbar,b.closeSnackbar,Object(n.useState)(!0)),f=Object(l.a)(m,2),h=f[0],p=f[1];return Object(O.jsxs)(Ie.a,{open:o,TransitionComponent:Zt,onClose:function(){return s(null)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(O.jsx)(Te.a,{id:"alert-dialog-slide-title",children:t}),Object(O.jsxs)(Re.a,{style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)(vt.a,{message:Object(O.jsxs)("div",{children:[Object(O.jsx)("strong",{children:d})," (Esta acci\xf3n no se puede revertir.)"]}),description:Object(O.jsx)(Ae.a,{id:"alert-dialog-slide-description",color:"secondary",children:a}),type:"error"}),Object(O.jsx)(Ae.a,{children:Object(O.jsx)("span",{children:'Para confirmar que deseas borrar esta colecci\xf3n, escribe su "------"'})}),Object(O.jsx)("input",{type:"text",placeholder:"Ingrese correo",className:"form-control",onChange:function(e){return function(e){console.log(e.target.value),e.target.value===d?p(!1):p(!0)}(e)},style:{justifySelf:"center"}})]}),Object(O.jsxs)(De.a,{children:[Object(O.jsx)(Me.a,{color:"primary",onClick:function(){s(null),r(!1),j()},children:"Cancelar"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Tt.a.sendForm("service_3t2jqug","template_60oxr8w",e.target,"user_CzJpNEaTEgmDCaNX3wWLO").then((function(e){console.log(e.text),s(null)}),(function(e){console.log(e.text)}))},children:[Object(O.jsx)("input",{type:"hidden",value:"Viaje Cancelado",name:"subject",required:!0}),Object(O.jsx)("input",{type:"hidden",value:"Su viaje del d\xeda "+le(i?i.fecha:"").locale("es").format("DD MMMM YYYY HH:mm A")+" ha sido cancelado.",name:"fecha"}),Object(O.jsx)("input",{type:"hidden",value:u,name:"email",required:!0}),Object(O.jsx)(Me.a,{type:"submit",onClick:function(){c(),r(!1),j()},color:"secondary",variant:"contained",disabled:h,children:"Eliminar"})]})]})]})}function ea(e){e.title;var t=e.description,a=e.children,n=e.openModalCamion,c=e.setOpenModalCamion,o=e.setSelectedItem,r=e.selectedItem,i=e.closeSlideMenu;return Object(O.jsx)("div",{children:Object(O.jsxs)(Ie.a,{open:n,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(Te.a,{id:"form-dialog-title",className:r?"bg-warning":"bg-primary",children:r?Object(O.jsx)("span",{className:"text-dark",children:"Editar Cami\xf3n"}):Object(O.jsx)("span",{className:"text-white",children:"Agregar Cami\xf3n"})}),Object(O.jsxs)(Re.a,{children:[Object(O.jsx)(Ae.a,{children:t}),a]}),Object(O.jsx)(De.a,{children:Object(O.jsx)(Me.a,{onClick:function(){c(!1),o(null),i()},color:"secondary",children:"Cerrar"})})]})})}var ta=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},inputs:{marginBottom:15},input_estado:{fontSize:16,width:"100%",height:30,marginBottom:15}}})),aa=function(e){var t=Object(w.a)(),a=t.register,n=t.handleSubmit,c=(t.errors,Object(gt.b)().enqueueSnackbar),o=e.selectedItem,r=e.setSelectedItem,i=e.setOpenModalCamion,s=e.closeSlideMenu,l=ta(),d=function(){var e=Object(y.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("camion").add({modelo:t.modelo,marca:t.marca,patente:t.patente,estado:t.estado});case 2:a=e.sent,console.log("Added document with ID: ",a.id),s();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(y.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.collection("camion").doc(o.id),e.next=3,a.update({modelo:t.modelo,marca:t.marca,patente:t.patente,estado:t.estado});case 3:e.sent,s();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:l.root,children:Object(O.jsxs)("form",{onSubmit:n((function(e){if(console.log(e),o){var t="Camion PATENTE: "+o.patente+" editado exitosamente.";u(e),i(!1),r(null),c(t,{variant:"info",preventDuplicate:!0,autoHideDuration:3e3})}else{d(e);t="Camion PATENTE: "+e.patente+" creado exitosamente.";i(!1),c(t,{variant:"success",preventDuplicate:!0,autoHideDuration:3e3})}})),className:l.root,children:[Object(O.jsx)(Et.a,{id:"standard-basic",name:"modelo",label:"Modelo",inputRef:a({required:!0}),className:l.inputs,defaultValue:o?o.modelo:""}),Object(O.jsx)(Et.a,{id:"standard-basic",name:"marca",label:"Marca",inputRef:a({required:!0}),className:l.inputs,defaultValue:o?o.marca:""}),Object(O.jsx)(Et.a,{id:"standard-basic",name:"patente",label:"Patente",inputRef:a({required:!0}),className:l.inputs,defaultValue:o?o.patente:""}),Object(O.jsxs)("select",{name:"estado",ref:a({required:!0}),defaultValue:o?o.estado:null,className:l.input_estado,children:[Object(O.jsx)("option",{value:"false",className:l.option_text,children:"Activo"}),Object(O.jsx)("option",{value:"true",className:l.option_text,children:"Inactivo"})]}),Object(O.jsx)("button",{type:"submit",className:o?"btn btn-outline-warning":"btn btn-outline-primary",children:o?"Editar Cami\xf3n":"Registrar Cami\xf3n"})]})})},na=(a(1148),function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],s=r[1],d=Object(n.useState)(null),u=Object(l.a)(d,2),j=u[0],m=u[1],f=Object(n.useState)(!0),p=Object(l.a)(f,2),x=(p[0],p[1]),S=Object(n.useState)(null),N=Object(l.a)(S,2),w=N[0],_=N[1],k=Object(n.useState)([]),E=Object(l.a)(k,2),M=E[0],I=E[1],D=Object(n.useState)([]),R=Object(l.a)(D,2),A=R[0],T=R[1],L=Object(h.g)(),P=Object(gt.b)(),F=P.enqueueSnackbar,Y=(P.closeSnackbar,function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("camion").doc(j.id).delete();case 2:e.sent,t="Camion PATENTE: "+j.patente+" ha sido eliminado.",F(t,{variant:"error",autoHideDuration:3e3}),I({mensaje:t,type:"error"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),V=[{key:2,text:"Agregar Camion",icon:Object(O.jsx)(qt.a,{}),onClick:function(){m(null),_(!0)}},{key:3,text:"Modificar Camion",icon:Object(O.jsx)(Ht.a,{}),onClick:function(){return _(!0)},isDisabled:!j},{key:4,text:"Eliminar Camion",icon:Object(O.jsx)(Wt.a,{}),onClick:function(){return s(!0)},isDisabled:!j}],U=[{key:2,text:"Ajustes",icon:Object(O.jsx)(Ot.a,{}),onClick:function(){c(!0)}},{key:3,text:"Cerrar Sesi\xf3n",icon:Object(O.jsx)(ut.a,{}),onClick:function(){g(),L.push("/")}}],z=function(){B.current.style.width="240px"},q=function(){B.current.style.width="0",H.current.style.marginLeft="0",G.current.style.marginLeft="0",T([])},B=Object(n.useRef)(null),H=Object(n.useRef)(null),G=Object(n.useRef)(null),W=Object(n.useRef)(null);return Object(O.jsxs)("div",{className:"root",children:[Object(O.jsx)("div",{className:"header",ref:G,children:Object(O.jsx)(se,{openSlideMenu:z,openNavigationMobileMenu:function(){W.current.style.height="250px"}})}),Object(O.jsxs)("div",{className:"navigation_mobile",ref:W,children:[Object(O.jsx)("div",{style:{backgroundColor:"#1E1F1F",width:"100%",display:"flex",justifyContent:"center",opacity:"1"},children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"#",className:"nav_link",onClick:function(){W.current.style.height="0"},children:Object(O.jsx)("i",{class:"bi bi-x",style:{fontSize:42,marginLeft:5,marginRight:5}})})})}),Object(O.jsx)(v.c,{to:"/admin/home",className:"nav_link",children:Object(O.jsx)("span",{children:"INICIO"})}),Object(O.jsx)(v.c,{to:"/admin/conductores",className:"nav_link",children:Object(O.jsx)("span",{children:"USUARIOS"})}),Object(O.jsx)(v.c,{to:"/admin/camiones",className:"nav_link",children:Object(O.jsx)("span",{children:"CAMIONES"})}),Object(O.jsx)(v.c,{to:"/admin/viajes",className:"nav_link",children:Object(O.jsx)("span",{children:"VIAJES"})}),Object(O.jsx)(v.c,{to:"/admin/empresa",className:"nav_link",children:Object(O.jsx)("span",{children:"EMPRESAS"})})]}),Object(O.jsx)("div",{className:"menu_lateral",ref:B,children:Object(O.jsx)(me,{closeSlideMenu:q,itemList:Object(O.jsx)(ge,{admin_items:V,admin_settings:U,selectedUser:j})})}),Object(O.jsxs)("div",{className:"content",ref:H,children:[Object(O.jsxs)("div",{className:"info",style:{backgroundColor:ae},children:[" ",Object(O.jsx)("span",{style:{color:ne},children:"CAMIONES"})]}),Object(O.jsx)("div",{className:"table",children:Object(O.jsx)(Xt,{setSelectedItem:m,setIsSelected:x,selectedItem:j,mensaje_accion:M,selectRows:A,setSelectRows:T,openSlideMenu:z})}),Object(O.jsx)(ft,{visible:a,setVisible:c,closeSlideMenu:q}),Object(O.jsx)(ea,{title:"Camion",description:"Descripci\xf3n de la accion a realizar",openModalCamion:w,setOpenModalCamion:_,setSelectedItem:m,selectedItem:j,closeSlideMenu:q,children:Object(O.jsx)(aa,{selectedItem:j,setOpenModalCamion:_,setSelectedItem:m,closeSlideMenu:q})}),Object(O.jsx)($t,{openAlert:i,setOpenAlert:s,title:"\xbfQuieres borrar este cami\xf3n?",description:"Esta acci\xf3n borrar\xe1 permanentemente los datos del camion.",action:Y,men:j?j.patente:null,selectedItem:j,setSelectedItem:m,closeSlideMenu:q})]})]})}),ca=(a(134),a(59),a(551),a(298),a(552),a(299),a(553),a(1182),a(125),a(1183));le.extend(ca);var oa=Object(I.a)((function(e){return{root:{width:"100%","& table":{},"& thead > tr > th":{background:"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)",color:"black",fontSize:"16",fontFamily:"Dela Gothic One, cursive"},"& thead > tr":{borderWidth:"2px",borderColor:"black",borderStyle:"solid"},"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th ":{background:ce,color:oe},boxShadow:"4px 4px 10px 10px rgba(0,0,0,0.1)",backgroundColor:"#ff",borderRadius:"16px 16px 0 0"},filter__section:{display:"flex",flexDirection:"column",height:"20%",backgroundColor:"#1D1D34",borderRadius:"16px 16px 0 0",padding:5},label__container:{},filter__container:Object(N.a)({display:"flex",marginTop:10,justifyContent:"center",padding:10},e.breakpoints.down("sm"),{flexDirection:"column"}),button__container:Object(N.a)({display:"flex",marginTop:10,marginBottom:10,justifyContent:"center"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"}),button:Object(N.a)({width:"20%",marginRight:10},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center",width:"80%",marginRight:0}),filter:Object(N.a)({display:"flex",flexDirection:"column",marginRight:20},e.breakpoints.down("sm"),{marginBottom:"10px",marginRight:0}),filter__title:Object(N.a)({color:"#fff",fontSize:16,marginRight:5,fontWeight:"600"},e.breakpoints.down("sm"),{display:"none"})}})),ra=function(e){e.setIsSelected;var t=e.setSelectedItem,a=e.selectedItem,o=(e.user__id,e.setUser__id),r=e.setCamion__id,i=e.setDataCamionFecha,d=e.setFechaCamion,u=e.setItemToDelete,j=e.setConductor,m=e.setDireccion,f=e.selectRows,h=e.setSelectRows,p=e.openSlideMenu,x=e.setEmailDestino,g=ye.a.RangePicker,v=Ee.a.Option,S=c.a.useState(!1),N=Object(l.a)(S,2),w=N[0],_=N[1],k=Object(n.useState)(null),E=Object(l.a)(k,2),M=(E[0],E[1],Object(n.useState)(!0)),I=Object(l.a)(M,2),D=(I[0],I[1],Object(n.useState)(null)),R=Object(l.a)(D,2),A=R[0],T=R[1],L=Object(n.useState)(!1),P=Object(l.a)(L,2),F=P[0],Y=P[1],V=Object(n.useState)([]),U=Object(l.a)(V,2),z=U[0],q=U[1],B=Object(n.useState)(""),H=Object(l.a)(B,2),G=H[0],W=(H[1],Object(n.useState)(!0)),J=Object(l.a)(W,2),K=(J[0],J[1],Object(n.useState)(!1)),Q=Object(l.a)(K,2),X=Q[0],Z=Q[1],$=Object(n.useState)([]),ee=Object(l.a)($,2),te=(ee[0],ee[1]),ae=Object(n.useState)(""),ne=Object(l.a)(ae,2),ce=(ne[0],ne[1],Object(n.useState)([])),oe=Object(l.a)(ce,2),re=oe[0],ie=oe[1],se=Object(n.useState)([]),de=Object(l.a)(se,2),ue=(de[0],de[1]),je=Object(n.useState)(null),be=Object(l.a)(je,2),me=be[0],fe=be[1],he=Object(n.useState)(null),Oe=Object(l.a)(he,2),pe=Oe[0],xe=Oe[1],ge=Object(n.useState)(null),ve=Object(l.a)(ge,2),Se=(ve[0],ve[1]),Ne=Object(n.useState)(null),we=Object(l.a)(Ne,2),_e=we[0],Me=we[1],Ie=Object(n.useState)(null),De=Object(l.a)(Ie,2),Re=De[0],Ae=De[1],Te=Object(n.useState)([]),Le=Object(l.a)(Te,2),Pe=Le[0],Fe=Le[1],Ye=Object(n.useState)([]),ze=Object(l.a)(Ye,2),qe=ze[0],Be=ze[1],He=Object(n.useState)(!1),Ge=Object(l.a)(He,2),We=(Ge[0],Ge[1],Object(n.useState)("")),Je=Object(l.a)(We,2),Ke=Je[0],Qe=(Je[1],Object(n.useState)(!1)),Xe=Object(l.a)(Qe,2),et=Xe[0],tt=Xe[1],at=Object(n.useState)(!1),nt=Object(l.a)(at,2),ct=nt[0],ot=nt[1],rt=Object(n.useState)(!1),it=Object(l.a)(rt,2),st=it[0],lt=it[1],dt=Object(n.useState)(!1),ut=Object(l.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(n.useState)({}),ft=Object(l.a)(mt,2),ht=ft[0],Ot=ft[1],pt=Object(n.useState)(!1),xt=Object(l.a)(pt,2),gt=xt[0],vt=xt[1],St=[{title:"Fecha",dataIndex:"fecha",render:function(e){return Object(O.jsx)("strong",{children:e})},sorter:function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?1:-1},defaultSortOrder:"descend"},{title:"Conductor",dataIndex:"conductor",key:"conductor"},{title:"Camion",dataIndex:"camion",key:"camion"},{title:"Empresa",dataIndex:"direccion",key:"direccion",render:function(e,t){return Object(O.jsx)("a",{className:"text-primary",onClick:function(){return function(e,t){return Ct.apply(this,arguments)}(t.empresa_latitud,t.empresa_longitud)},children:Object(O.jsx)("strong",{children:e})})}},{title:"Estado",key:"estado",render:function(e,t){return Object(O.jsx)(ke,{status:t.estado})}}];function Ct(){return(Ct=Object(y.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Ver empresa",Ke),e.next=3,Ot({lat:t,lng:a});case 3:console.log(ht),vt(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){if(console.log("APLICANDO FILTRO ..."),ie(z),console.log("filtered data => ",re),null!==me&&null===pe&&null===_e&&null===Re){console.log("FILTRO POR CONDCUTOR");var e=z.filter((function(e){return e.id_user===me})).sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(e),tt(!0)}if(null!==pe&&null===me&&null===_e&&null===Re){console.log("FILTRO POR RANGO DE FECHAS");var t=z.filter((function(e){var t=e.fechaSorter;return le(t).isBetween(pe[0],pe[1],"date","[]")}));ot(!0);var a=t.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(a)}if(null!==_e&null===pe&&null===me&&null===Re){console.log("FILTRO EMPRESA");var n=z.filter((function(e){return e.empresa_id===_e})).sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));lt(!0),ie(n)}if(null!==Re&null===pe&&null===me&&null===_e){console.log("FILTRO ESTADO");var c=z.filter((function(e){return e.estado===Re})).sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));bt(!0),ie(c)}if(null!==me&&null!==Re&&null===pe&&null===_e){console.log("FILTRO CONDUCTOR Y ESTADO");var o=z.filter((function(e){var t=e.estado,a=e.id_user;return t===Re&&a===me}));tt(!0),bt(!0);var r=o.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(r)}if(null!==pe&&null!==me&&null===_e&&null===Re){console.log("FILTRO POR CONDCUTOR Y RANGO DE FECHAS");var i=z.filter((function(e){var t=e.id_user,a=e.fechaSorter;return t===me&&le(a).isBetween(pe[0],pe[1],"date","[]")}));ot(!0),tt(!0);var s=i.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(s)}if(null!==me&&null!==_e&&null===pe&&null===Re){console.log("FILTRO CONDUCTOR Y EMPRESA");var l=z.filter((function(e){var t=e.empresa_id,a=e.id_user;return t===_e&&a===me}));lt(!0),tt(!0);var d=l.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(d)}if(null!==pe&&null!==_e&&null===me&&null===Re){console.log("RANGO DE FECHAS Y FILTRO EMPRESA");var u=z.filter((function(e){var t=e.empresa_id,a=e.fechaSorter;return t===_e&&le(a).isBetween(pe[0],pe[1],"date","[]")}));ot(!0),lt(!0);var j=u.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(j)}if(null===me&&null!==_e&&null===pe&&null!==Re){console.log("FILTRO ESTADO Y EMPRESA");var b=z.filter((function(e){var t=e.empresa_id,a=e.estado;return t===_e&&a===Re}));lt(!0),bt(!0);var m=b.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(m)}if(null!==pe&&null!==Re&&null===_e&&null===me){console.log("RANGO DE FECHAS Y ESTADO");var f=z.filter((function(e){var t=e.fechaSorter;return e.estado===Re&&le(t).isBetween(pe[0],pe[1],"date","[]")}));ot(!0),bt(!0);var h=f.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(h)}if(null!==pe&&null===me&&null!==_e&&null!==Re){console.log("RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO");var O=z.filter((function(e){var t=e.empresa_id,a=e.fechaSorter,n=e.estado;return t===_e&&n===Re&&le(a).isBetween(pe[0],pe[1],"date","[]")}));ot(!0),lt(!0),bt(!0);var p=O.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(p)}if(null!==pe&&null!==me&&null!==_e&&null===Re){console.log("CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA "),console.log(le("30 Abril 2021 21:04 PM").isBetween(pe[0],pe[1],"date","[]"));var x=z.filter((function(e){var t=e.empresa_id,a=e.fechaSorter;return e.id_user===me&&t===_e&&le(a).isBetween(pe[0],pe[1],"date","[]")}));ot(!0),lt(!0),tt(!0);var g=x.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(g)}if(null!==pe&&null!==me&&null===_e&&null!==Re){console.log("CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO ");var v=z.filter((function(e){var t=e.estado,a=e.fechaSorter;return e.id_user===me&&t===Re&&le(a).isBetween(pe[0],pe[1],"date","[]")}));ot(!0),bt(!0),tt(!0);var S=v.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(S)}if(null===pe&&null!==me&&null!==_e&&null!==Re){console.log("CONDUCTOR Y , EMPRESA Y FILTRO ESTADO ");var C=z.filter((function(e){var t=e.empresa_id,a=e.estado;return e.id_user===me&&a===Re&&t===_e}));lt(!0),bt(!0),tt(!0);var y=C.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(y)}if(null!==pe&&null!==me&&null!==_e&&null!==Re){console.log("FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR");var N=z.filter((function(e){var t=e.empresa_id,a=e.fechaSorter,n=e.estado,c=e.id_user;return t===_e&&n===Re&&c===me&&n===Re&&le(a).isBetween(pe[0],pe[1],"date","[]")}));ot(!0),lt(!0),tt(!0),bt(!0);var w=N.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(w)}}b.collection("usuario").onSnapshot((function(e){T(e.size),e.docChanges().forEach((function(e){"modified"===e.type&&Y(!F)}))}),(function(e){console.log("Encountered error: ".concat(e))}));var Nt={selectedRowKeys:f,onChange:function(e,a){h(e),p(),x(a[0].email);var n={id:a[0].id,fecha:a[0].fechaSorter,camion:a[0].id_camion,origen:a[0].origen,destino:a[0].empresa_id,id_camion:a[0].id_camion},c={id:a[0].id,fecha:a[0].fechaSorter,camion:a[0].id_camion,origen:a[0].origen,destino:a[0].empresa_id,id_camion:a[0].id_camion};console.log("Data => ",a[0]),console.log("Viaje seleccionado => ",n),console.log("Viaje a borrar => ",c),console.log("Usuario seleccionado => ",a[0].id_user),j(a[0].conductor),t(n),u(c),o(a[0].id_user),d(a[0].fecha_camion),r(a[0].id_camion),m(a[0].destino+", "+a[0].direccion)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},wt=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=[],n=[],b.collection("usuario").where("email","!=","administrador@trudistic.cl").get().then((function(e){var c={},o={},r={};e.forEach((function(e){c={},r={id:e.id,nombres:e.data().nombres,apellidos:e.data().apellidos,disabled:e.data().disabled},n.push(r),e.data().viajes.forEach(function(){var n=Object(y.a)(C.a.mark((function n(r){var i,s,l,d,u,j,m,f,h,O,p;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=le(r.fecha.toDate()).locale("es").format("DD MMMM YYYY HH:m A"),s=le(r.fecha.toDate()).locale("es").format("DD MMMM YYYY"),l=!!le(r.fecha.toDate()).isBefore(le()),d=b.collection("empresa").doc(r.destino),u=b.collection("camion").doc(r.id_camion),j="",n.next=8,u.get().then((function(e){e.exists?j=e.data().modelo+" "+e.data().patente:console.log("No such document!")}));case 8:return m="",f="",h="",n.next=13,d.get().then((function(e){e.exists?(h=e.id,m=e.data().empresa,f=e.data().direccion,O=e.data().latitud,p=e.data().longitud):console.log("No such document!")}));case 13:c={},c={id:r.id,email:e.data().email,fechaSorter:r.fecha.toDate(),fecha:i,conductor:e.data().nombres+" "+e.data().apellidos,camion:j||r.id_camion,origen:r.origen,destino:f,empresa_id:h||r.destino,estado:l,id_user:e.id,id_camion:r.id_camion,fecha_camion:s,direccion:m||"Empresa eliminada...",empresa_latitud:O,empresa_longitud:p},o={id_camion:r.id_camion,fecha:s},t.push(c),a.push(o);case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),setTimeout((function(){i(a),q(t);var e=t.sort((function(e,t){return le(e.fechaSorter).isAfter(le(t.fechaSorter))?-1:1}));ie(e),ue(t);n.filter((function(e){return"true"!==e.disabled}));Be(n)}),500)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _t(e){console.log("selected ".concat(e))}function kt(e){console.log("search:",e)}Object(n.useEffect)((function(){wt();var e=[];b.collection("empresa").get().then((function(t){var a;t.forEach((function(t){a={id:t.id,empresa:t.data().empresa,region:t.data().region,comuna:t.data().comuna,direccion:t.data().direccion},e.push(a)})),Fe(e)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[A,F]),Object(n.useEffect)((function(){null===a&&te([])}),[a]),Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===X&&(console.log("USE EFFECT REMOVE"),yt()),Z(!1),console.log(X);case 3:case"end":return e.stop()}}),e)}))),[X]);var Et=oa();return Object(O.jsxs)("div",{className:Et.root,children:[Object(O.jsxs)("div",{className:Et.filter__section,children:[Object(O.jsxs)("div",{className:Et.label__container,children:[Object(O.jsx)("span",{className:Et.filter__title,children:"Filtrando por : "}),et||ct||st?"":Object(O.jsx)(Ue.a,{label:"No hay filtros activos",color:"primary",size:"medium",onDelete:function(){console.log("Quitar filtro"),ue(z)},clickable:!0}),et?Object(O.jsx)(Ue.a,{label:"conductor",color:"secondary",size:"medium",onDelete:function(){console.log("Remover filtro conductor"),tt(null),fe(null),Z(!0)},clickable:!0}):"",ct?Object(O.jsx)(Ue.a,{label:"rango de fechas",color:"secondary",size:"medium",onDelete:function(){console.log("Remover filtro rango de fechas"),xe(null),ot(null),Z(!0)},clickable:!0}):"",st?Object(O.jsx)(Ue.a,{label:"empresa",color:"secondary",size:"medium",onDelete:function(){console.log("Remover filtro empresa"),Me(null),lt(null),Z(!0)},clickable:!0}):"",jt?Object(O.jsx)(Ue.a,{label:"estado",color:"secondary",size:"medium",onDelete:function(){console.log("Remover filtro estado"),Ae(null),bt(null),Z(!0)}}):""]}),Object(O.jsxs)("div",{className:Et.filter__container,children:[Object(O.jsxs)("div",{className:Et.filter,children:[Object(O.jsx)("span",{className:Et.filter__title,children:"Por conductor :"}),Object(O.jsx)(Ee.a,{showSearch:!0,placeholder:"Seleccione Conductor",optionFilterProp:"children",onChange:_t,onSearch:kt,onSelect:function(e){fe(e)},value:me,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:qe.map((function(e){return Object(O.jsx)(v,{value:e.id,children:e.nombres+" "+e.apellidos},e.id)}))})]}),Object(O.jsxs)("div",{className:Et.filter,children:[Object(O.jsx)("span",{className:Et.filter__title,children:"Por rango de fechas :"}),Object(O.jsx)(g,{onChange:function(e,t){xe(e)},locale:$e.a,value:pe})]}),Object(O.jsxs)("div",{className:Et.filter,children:[Object(O.jsx)("span",{className:Et.filter__title,children:"Por Empresa :"}),Object(O.jsx)(Ee.a,{showSearch:!0,placeholder:"Seleccione Empresa",optionFilterProp:"children",onChange:_t,onSearch:kt,onSelect:function(e){Me(e)},value:_e,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Pe.map((function(e){return Object(O.jsx)(v,{value:e.id,children:e.empresa},e.id)}))})]}),Object(O.jsxs)("div",{className:Et.filter,children:[Object(O.jsx)("span",{className:Et.filter__title,children:"Por Estado :"}),Object(O.jsxs)(Ee.a,{showSearch:!0,placeholder:"Seleccione Estado",optionFilterProp:"children",onSelect:function(e){console.log("oin select estado => ",e),Ae(e)},value:Re,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(O.jsx)(v,{value:!0,children:"Completado"},"1"),Object(O.jsx)(v,{value:!1,children:"Programado"},"2")]})]})]}),Object(O.jsxs)("div",{className:Et.button__container,children:[Object(O.jsxs)("button",{onClick:yt,className:Et.button,children:[Object(O.jsx)("i",{className:"bi bi-filter"})," Filtrar"]}),Object(O.jsx)("button",{onClick:function(){fe(null),xe(null),Se(null),Me(null),Ae(null),tt(!1),ot(!1),lt(!1),bt(!1),ie(z)},className:Et.button,children:"Limpiar Filtros"}),Object(O.jsxs)("button",{onClick:function(){console.log("CREAR PDF"),_(!0)},className:Et.button,children:[Object(O.jsx)("i",{className:"bi bi-file-earmark-plus-fill"})," Generar PDF"]})]})]}),Object(O.jsx)(Ve,{openModalMap:gt,setOpenModalMap:vt,empresa_cor:ht}),Object(O.jsx)(Ce.a,{rowKey:"id",rowSelection:Object(s.a)({type:"radio"},Nt),columns:St,dataSource:re,scroll:{x:"max-content"},size:"small",pagination:{position:["bottom","left"]},bordered:!0,className:Et.root,rowClassName:G,loading:!1}),Object(O.jsx)(Ze,{open:w,setOpen:_,data:re})]})},ia=(a(1272),a(1256),a(1264),a(1253),a(300)),sa=a(61),la=a(1254),da=a(1274);a(1271),a(1255),a(1252),a(141),a(125),Object(I.a)((function(e){return{root:{width:"100%"}}})),a(125),Object(I.a)((function(e){return{root:{width:"100%"}}})),a(1261),a(375),a(125),Object(I.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},container:{display:"flex",justifyContent:"center",alignItems:"center"},select:{marginRight:50},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Ee.a.Option;var ua=Ee.a.Option;var ja=function(e){var t=e.conductor,a=e.setConductor,c=e.user__id,o=e.selectedItem,r=e.setEmailName,i=e.setEmailCorreo,s=Object(n.useState)([]),d=Object(l.a)(s,2),u=d[0],j=d[1];return Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("RENDER SELECT USUARIO"),t=[],e.next=4,b.collection("usuario").where("email","!=","administrador@trudistic.cl").get().then((function(e){e.forEach((function(e){t.push(e.data())}));var a=t.filter((function(e){return"true"!==e.disabled}));j(a)}));case 4:o&&a(c);case 5:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)(Ee.a,{className:"Input-select",showSearch:!0,placeholder:"Seleccione usuario",optionFilterProp:"children",onSelect:function(e,t){console.log("select:",t.email),a(e),r(t.children),i(t.email)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:function(e){return e.parentNode},value:t||null,children:u.map((function(e){return Object(O.jsx)(ua,{value:e.id,email:e.email,children:e.nombres+" "+e.apellidos},e.email)}))})},ba=Ee.a.Option;var ma=function(e){var t=e.selectedItem,a=e.camionId,c=e.setCamionId,o=Object(n.useState)([]),r=Object(l.a)(o,2),i=r[0],s=r[1];return Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){var a,n,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("RENDER SELECT CAMION"),a=b.collection("camion"),e.next=4,a.get();case 4:if(!(n=e.sent).empty){e.next=8;break}return console.log("No matching documents."),e.abrupt("return");case 8:o=[],n.forEach((function(e){var t={id:e.id,modelo:e.data().modelo,marca:e.data().marca,patente:e.data().patente,disponible:e.data().disponible?"Disponible":"En uso",estado:e.data().estado};o.push(t)})),s(o),t&&c(t.id_camion);case 12:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)(Ee.a,{className:"Input-select",showSearch:!0,placeholder:"Seleccione camion",optionFilterProp:"children",onSelect:function(e){console.log("select:",e),c(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:function(e){return e.parentNode},value:a||null,children:i.map((function(e){return Object(O.jsx)(ba,{value:e.id,hidden:"true"===e.estado,children:e.marca+" "+e.modelo+" "+e.patente},e.id)}))})},fa=(a(558),a(375)),ha=Ee.a.Option;var Oa=function(e){var t=e.selectedItem,a=e.setOrigen,c=Object(n.useState)([]),o=Object(l.a)(c,2),r=o[0],i=o[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),u=d[0],j=d[1],b=Object(n.useState)(""),m=Object(l.a)(b,2),f=m[0],h=m[1],p=Object(n.useState)(""),x=Object(l.a)(p,2),g=x[0],v=x[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),w=N[0],_=N[1],k=Object(n.useState)(!0),E=Object(l.a)(k,2),M=E[0],I=E[1];return Object(n.useEffect)((function(){""!==f&&(j((function(e){return[]})),r.forEach((function(e){f===e.region&&(v(e.comunas[0]),j(e.comunas),I(!1))})),_(!1))}),[w]),Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){var n,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(fa);case 2:t&&(n=t.origen.split(","),console.log(n[0]+" "+n[1]),h(n[0]),v(n[1]),c=n[0]+","+n[1],a(c),r.forEach((function(e){f===e.region&&(j(e.comunas),I(!1))})),I(!1));case 3:case"end":return e.stop()}}),e)}))),[]),Object(O.jsxs)("div",{className:"Form-input-select-2",children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(O.jsx)("span",{className:"Label",children:"Regi\xf3n Origen"}),Object(O.jsx)(Ee.a,{className:"Input-select-2",showSearch:!0,placeholder:"Seleccione regi\xf3n",optionFilterProp:"children",onSelect:function(e){console.log("select:",e),h(e),_(!0)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:function(e){return e.parentNode},value:f||null,children:r.map((function(e){return Object(O.jsx)(ha,{value:e.region,children:e.region},e.region)}))})]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(O.jsx)("span",{className:"Label",children:"Comuna Origen"}),Object(O.jsx)(Ee.a,{className:"Input-select-2",disabled:M,showSearch:!0,placeholder:"Seleccione comuna",optionFilterProp:"children",onSelect:function(e){console.log("select:",e),v(e);var t=f+", "+e;console.log("origen=> ",t),a(t)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:function(e){return e.parentNode},value:g||null,children:u.map((function(e){return Object(O.jsx)(ha,{value:e,children:e},e)}))})]})]})},pa=Ee.a.Option;var xa=function(e){var t=e.selectedItem,a=e.destino,c=e.setDestino,o=e.setEmailDestino,r=e.setEmailDireccion,i=Object(n.useState)([]),s=Object(l.a)(i,2),d=s[0],u=s[1];return Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){var a,n,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("RENDER SELECT EMPRESA"),a=b.collection("empresa"),e.next=4,a.get();case 4:if(!(n=e.sent).empty){e.next=8;break}return console.log("No matching documents."),e.abrupt("return");case 8:o=[],n.forEach((function(e){var t={id:e.id,empresa:e.data().empresa,region:e.data().region,comuna:e.data().comuna,direccion:e.data().direccion,estado:e.data().estado};o.push(t)})),u(o),t&&c(t.destino);case 12:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)(Ee.a,{className:"Input-select",showSearch:!0,placeholder:"Seleccione empresa",optionFilterProp:"children",onSelect:function(e,t){console.log("select:",t),c(e),o(t.children),r(t.direccion)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:function(e){return e.parentNode},value:a||null,children:d.map((function(e){return a&&e.id===a&&(o(e.empresa),r(e.direccion)),Object(O.jsx)(pa,{value:e.id,direccion:e.direccion,hidden:"true"===e.estado,children:e.empresa},e.id)}))})};a(125);var ga=a(379);le.extend(ga);var va=function(e){var t=e.selectedItem,a=e.setFechaHora,c=Object(n.useState)(new Date),o=Object(l.a)(c,2),r=o[0],i=o[1],s=Object(n.useState)(new Date),d=Object(l.a)(s,2),u=(d[0],d[1],function(e){var t=le(e).locale("es").format("DD MMMM YYYY HH:m A");i(e),console.log("date => ",t),console.log("firestamp => ",j.firestore.Timestamp.fromDate(new Date(e)).toDate()),a(j.firestore.Timestamp.fromDate(new Date(e)).toDate())});return Object(n.useEffect)((function(){console.log("DATEPICKER RENDER"),t&&(i(t.fecha),a(t.fecha))}),[]),Object(O.jsxs)(sa.a,{utils:ia.a,locale:"es",children:[Object(O.jsx)(la.a,{variant:"inline",margin:"normal",id:"date-picker-dialog",label:"Fecha",format:"DD, MMMM-YYYY",value:r,onChange:u,KeyboardButtonProps:{"aria-label":"change date"}}),Object(O.jsx)(da.a,{margin:"normal",id:"time-picker",label:"Hora",value:r,onChange:u,KeyboardButtonProps:{"aria-label":"change time"}})]})};var Sa=function(e){var t=e.selectedItem,a=e.user__id,c=e.closeSlideMenu,o=e.setOpenModalViaje,r=Object(n.useState)(""),i=Object(l.a)(r,2),s=i[0],d=i[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),f=m[0],h=m[1],p=Object(n.useState)(""),x=Object(l.a)(p,2),g=x[0],v=x[1],S=Object(n.useState)(""),C=Object(l.a)(S,2),y=C[0],w=C[1],_=Object(n.useState)(""),k=Object(l.a)(_,2),E=k[0],M=k[1],I=Object(n.useState)(""),D=Object(l.a)(I,2),R=D[0],A=D[1],T=Object(n.useState)(""),L=Object(l.a)(T,2),P=L[0],F=L[1],Y=Object(n.useState)(""),V=Object(l.a)(Y,2),U=V[0],z=V[1],q=Object(n.useState)(""),B=Object(l.a)(q,2),H=B[0],G=B[1],W=Object(n.useState)(!1),J=Object(l.a)(W,2),K=J[0],Q=J[1],X=Object(n.useState)(!0),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!0),ae=Object(l.a)(te,2),ne=ae[0],ce=ae[1],oe=Object(gt.b)().enqueueSnackbar;return Object(O.jsxs)("div",{className:"Root",children:[Object(O.jsxs)("div",{className:"Form-description",children:[Object(O.jsx)(wt.a,{open:ne,className:"Backdrop",children:Object(O.jsx)(_t.a,{color:"secondary"})}),K?Object(O.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[Object(O.jsx)("strong",{children:"Error"})," Todos los campos deben ser llenados."]}):null]}),Object(O.jsxs)("div",{className:"Form-content",children:[Object(O.jsx)("div",{className:"Form-input",children:Object(O.jsx)(va,{selectedItem:t,setFechaHora:d})}),Object(O.jsxs)("div",{className:"Form-input-select",children:[Object(O.jsx)("span",{className:"Label",children:"Usuario"}),Object(O.jsx)(ja,Object(N.a)({conductor:f,setConductor:h,user__id:a,selectedItem:t,setEmailName:A,setEmailCorreo:G},"user__id",a))]}),Object(O.jsxs)("div",{className:"Form-input-select",children:[Object(O.jsx)("span",{className:"Label",children:"Cami\xf3n"}),Object(O.jsx)(ma,{selectedItem:t,camionId:g,setCamionId:v})]}),Object(O.jsx)("div",{style:{flexDirection:"column"},children:Object(O.jsx)(Oa,{selectedItem:t,setOrigen:w})}),Object(O.jsxs)("div",{className:"Form-input-select",children:[Object(O.jsx)("span",{className:"Label",children:"Empresa Destino"}),Object(O.jsx)(xa,{selectedItem:t,destino:E,setDestino:M,setEmailDestino:F,setEmailDireccion:z})]}),Object(O.jsxs)("div",{className:"Form-checkbox",children:[Object(O.jsx)("input",{type:"checkbox",classNames:"form-check-input",id:"exampleCheck1",onChange:function(e){return function(e){console.log(e.target.checked),ee(e.target.checked)}(e)},checked:$}),Object(O.jsx)("label",{className:"form-check-label",for:"exampleCheck1",children:"Notificar por correo"})]}),Object(O.jsx)("div",{className:"Form-input-select",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),ce(!0),console.log("fecha y hora => ",s),console.log("conductor => ",f),console.log("camion => ",g),console.log("origen => ",y),console.log("destino => ",E),console.log(t);var n=f.slice(-4),r=le().locale("es").format("DDMMYYYYhhmmss-"+n),i={id:r,fecha:s,camion:g,origen:y,destino:E,id_camion:g};if(t){b.collection("usuario").doc(a).update({viajes:j.firestore.FieldValue.arrayRemove(t)}).then((function(){b.collection("usuario").doc(f).update({viajes:j.firestore.FieldValue.arrayUnion(i)});oe("Viaje editado exitosamente.",{variant:"warning",preventDuplicate:!0,autoHideDuration:3e3})})),!0===$&&Tt.a.sendForm("service_3t2jqug","template_60oxr8w",e.target,"user_CzJpNEaTEgmDCaNX3wWLO").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)})),c(),o(!1),ce(!1)}else{console.log("REGISTRAR VIAJE !!");var l={id:r,fecha:s,camion:g,origen:y,destino:E,id_camion:g};if(""!==l.fecha&&""!==l.camion&&""!==l.origen&&""!==l.destino&&""!==l.id_camion){b.collection("usuario").doc(f).update({viajes:j.firestore.FieldValue.arrayUnion(l)}).then((function(){})),console.log("VIAJE GENERADO => ",l);oe("Viaje agregado exitosamente.",{variant:"success",preventDuplicate:!0,autoHideDuration:3e3}),!0===$&&Tt.a.sendForm("service_3t2jqug","template_60oxr8w",e.target,"user_CzJpNEaTEgmDCaNX3wWLO").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)})),o(!1),c()}else Q(!0)}},children:[Object(O.jsx)("input",{type:"hidden",value:H,name:"email",required:!0}),Object(O.jsx)("input",{type:"hidden",value:t?"Viaje Modificado o Reprogramado":"Nuevo Viaje Programado",name:"subject",required:!0}),Object(O.jsx)("input",{type:"hidden",value:"Estimado/a, "+R,name:"name",required:!0}),Object(O.jsx)("input",{type:"hidden",value:t?t.fecha!==s?"Su viaje del d\xeda "+le(t.fecha).locale("es").format("DD MMMM YYYY HH:mm A")+" ha sido cambiado a la siguiente fecha => "+le(s).locale("es").format("DD MMMM YYYY HH:mm A"):"Su viaje para el d\xeda "+le(t.fecha).locale("es").format("DD MMMM YYYY HH:mm A")+" ha sido modificado":"Se le ha programado un nuevo viaje para el d\xeda "+le(s).locale("es").format("DD MMMM YYYY HH:mm A"),name:"fecha",required:!0}),Object(O.jsx)("input",{type:"hidden",value:"Empresa: "+P,name:"empresa",required:!0}),Object(O.jsx)("input",{type:"hidden",value:"Direcci\xf3n: "+U,name:"direccion",required:!0}),Object(O.jsx)("input",{type:"hidden",value:"Para mas detalles visite trudistics.cl",name:"mensaje",required:!0}),Object(O.jsx)("button",{type:"submit",className:t?"btn btn-warning":"btn btn-primary",required:!0,children:t?"Modificar Viaje":"Agregar Viaje"})]})})]})]})};a(125);function Ca(e){var t=Object(n.useState)({}),a=Object(l.a)(t,2),c=a[0],o=(a[1],Object(n.useState)("")),r=Object(l.a)(o,2),i=(r[0],r[1],Object(n.useState)("")),s=Object(l.a)(i,2),d=(s[0],s[1],Object(n.useState)("")),u=Object(l.a)(d,2),j=(u[0],u[1],Object(n.useState)("")),m=Object(l.a)(j,2),f=(m[0],m[1],Object(n.useState)("")),h=Object(l.a)(f,2),p=(h[0],h[1],Object(n.useState)(null)),x=Object(l.a)(p,2),g=(x[0],x[1]),v=Object(n.useState)(null),S=Object(l.a)(v,2),C=(S[0],S[1],Object(n.useState)(null)),y=Object(l.a)(C,2),w=(y[0],y[1],e.openModalViaje),k=e.setOpenModalViaje,E=e.selectedItem,M=e.setSelectedItem,I=e.user__id,D=(e.conductor,e.setConductor,e.dataCamionFecha,e.itemToDelete,e.direccion,e.setDireccion,e.closeSlideMenu);Object(n.useEffect)((function(){var e=[];b.collection("empresa").get().then((function(t){var a;t.forEach((function(t){a={id:t.id,empresa:t.data().empresa,region:t.data().region,comuna:t.data().comuna,direccion:t.data().direccion},e.push(a)})),g(e)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]);le(c).locale("es").format("DD MMMM YYYY hh:mm A");var R=function(){return Object(O.jsx)(_.a,{style:{display:"flex",width:"100%"}})};return Object(O.jsx)("div",{children:Object(O.jsxs)(Ie.a,{open:w,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xl",scroll:"paper",children:[Object(O.jsx)(Te.a,{id:"form-dialog-title",className:E?"bg-warning":"bg-primary",children:E?Object(O.jsx)("span",{className:"text-dark",children:"Editar Viaje"}):Object(O.jsx)("span",{className:"text-white",children:"Agregar Viaje"})}),Object(O.jsxs)(Re.a,{children:[Object(O.jsx)(R,{}),Object(O.jsx)(Sa,Object(N.a)({selectedItem:E,user__id:I,closeSlideMenu:D,setOpenModalViaje:k},"user__id",I))]}),Object(O.jsx)(De.a,{children:Object(O.jsx)(Me.a,{onClick:function(){D(),k(!1),setTimeout((function(){M(null)}),500)},color:"secondary",children:"Cerrar"})})]})})}a(1184);var ya=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],s=r[1],d=Object(n.useState)(null),u=Object(l.a)(d,2),m=u[0],f=u[1],p=Object(n.useState)(!0),x=Object(l.a)(p,2),S=(x[0],x[1]),C=Object(n.useState)(""),y=Object(l.a)(C,2),w=y[0],_=y[1],k=Object(n.useState)(""),E=Object(l.a)(k,2),M=E[0],I=E[1],D=Object(n.useState)(""),R=Object(l.a)(D,2),A=R[0],T=R[1],L=Object(n.useState)(null),P=Object(l.a)(L,2),F=P[0],Y=P[1],V=Object(n.useState)("Direcci\xf3n no asignada."),U=Object(l.a)(V,2),z=U[0],q=U[1],B=Object(n.useState)(null),H=Object(l.a)(B,2),G=H[0],W=H[1],J=Object(n.useState)(null),K=Object(l.a)(J,2),Q=K[0],X=K[1],Z=Object(n.useState)(null),$=Object(l.a)(Z,2),ee=$[0],te=($[1],Object(n.useState)("")),ce=Object(l.a)(te,2),oe=ce[0],re=ce[1],ie=Object(n.useState)(""),de=Object(l.a)(ie,2),ue=de[0],je=de[1],be=Object(n.useState)([]),fe=Object(l.a)(be,2),he=fe[0],Oe=fe[1],pe=Object(h.g)(),xe=Object(gt.b)(),ve=xe.enqueueSnackbar,Se=(xe.closeSnackbar,[{key:2,text:"Crear Viaje",icon:Object(O.jsx)(qt.a,{}),onClick:function(){f(null),W(!0)}},{key:3,text:"Modificar Viaje",icon:Object(O.jsx)(Ht.a,{}),onClick:function(){return W(!0)},isDisabled:!m},{key:4,text:"Eliminar Viaje",icon:Object(O.jsx)(Wt.a,{}),onClick:function(){return s(!0)},isDisabled:!m}]),Ce=[{key:2,text:"Ajustes",icon:Object(O.jsx)(Ot.a,{}),onClick:function(){c(!0)}},{key:3,text:"Cerrar Sesi\xf3n",icon:Object(O.jsx)(ut.a,{}),onClick:function(){g(),pe.push("/")}}],ye=function(){we.current.style.width="240px"},Ne=function(){we.current.style.width="0",_e.current.style.marginLeft="0",ke.current.style.marginLeft="0",Oe([])},we=Object(n.useRef)(null),_e=Object(n.useRef)(null),ke=Object(n.useRef)(null),Ee=Object(n.useRef)(null);return Object(O.jsxs)("div",{className:"root",children:[Object(O.jsx)("div",{className:"header",ref:ke,children:Object(O.jsx)(se,{openSlideMenu:ye,openNavigationMobileMenu:function(){Ee.current.style.height="250px"}})}),Object(O.jsxs)("div",{className:"navigation_mobile",ref:Ee,children:[Object(O.jsx)("div",{style:{backgroundColor:"#1E1F1F",width:"100%",display:"flex",justifyContent:"center",opacity:"1"},children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"#",className:"nav_link",onClick:function(){Ee.current.style.height="0"},children:Object(O.jsx)("i",{class:"bi bi-x",style:{fontSize:42,marginLeft:5,marginRight:5}})})})}),Object(O.jsx)(v.c,{to:"/admin/home",className:"nav_link",children:Object(O.jsx)("span",{children:"INICIO"})}),Object(O.jsx)(v.c,{to:"/admin/conductores",className:"nav_link",children:Object(O.jsx)("span",{children:"USUARIOS"})}),Object(O.jsx)(v.c,{to:"/admin/camiones",className:"nav_link",children:Object(O.jsx)("span",{children:"CAMIONES"})}),Object(O.jsx)(v.c,{to:"/admin/viajes",className:"nav_link",children:Object(O.jsx)("span",{children:"VIAJES"})}),Object(O.jsx)(v.c,{to:"/admin/empresa",className:"nav_link",children:Object(O.jsx)("span",{children:"EMPRESAS"})})]}),Object(O.jsx)("div",{className:"menu_lateral",ref:we,children:Object(O.jsx)(me,{closeSlideMenu:Ne,itemList:Object(O.jsx)(ge,{admin_items:Se,admin_settings:Ce,selectedUser:m})})}),Object(O.jsxs)("div",{className:"content",ref:_e,children:[Object(O.jsxs)("div",{className:"info",style:{backgroundColor:ae},children:[" ",Object(O.jsx)("span",{style:{color:ne},children:"VIAJES"})]}),Object(O.jsx)("div",{className:"table",children:Object(O.jsx)(ra,{setSelectedItem:f,setIsSelected:S,selectedItem:m,setUser__id:_,user__id:w,setCamion__id:I,setDataCamionFecha:X,setFechaCamion:T,setItemToDelete:Y,mensaje_accion:ee,setConductor:re,setDireccion:q,selectRows:he,setSelectRows:Oe,openSlideMenu:ye,setEmailDestino:je})}),Object(O.jsx)(ft,{visible:a,setVisible:c,closeSlideMenu:Ne}),Object(O.jsx)(Ca,Object(N.a)({title:"Viaje",description:"Descripci\xf3n de la accion a realizar",openModalViaje:G,setOpenModalViaje:W,setSelectedItem:f,selectedItem:m,user__id:w,dataCamionFecha:Q,itemToDelete:F,conductor:oe,setConductor:re,direccion:z,setDireccion:q,closeSlideMenu:Ne},"user__id",w)),Object(O.jsx)($t,{openAlert:i,setOpenAlert:s,title:"\xbfQuieres borrar este viaje?",description:"Esta acci\xf3n borrar\xe1 permanentemente los datos de este viaje.",action:function(){console.log(" => ",w),console.log("=> ",A),b.collection("usuario").doc(w).update({viajes:j.firestore.FieldValue.arrayRemove(m)});var e=b.collection("camion").doc(M);console.log(m.id),console.log(m.fecha_camion);var t={id:m.id,fecha:A};e.update({disp:j.firestore.FieldValue.arrayRemove(t)});var a="VIAJE con FECHA: => "+le(m.fecha).locale("es").format("DD MMMM YYYY HH:m A").toLowerCase()+" ELIMINADO.";ve(a,{variant:"error",preventDuplicate:!0,autoHideDuration:3e3})},selectedItem:m,setSelectedItem:f,men:m?le(m.fecha).locale("es").format("DD MMMM YYYY HH:m A").toLowerCase():null,email_destino:ue,closeSlideMenu:Ne})]})]})},Na=(a(125),Object(I.a)((function(e){return{root:{width:"100%","& table":{},"& thead > tr > th":{background:"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)",color:"black",fontSize:"16",fontFamily:"Dela Gothic One, cursive"},"& thead > tr":{borderWidth:"2px",borderColor:"black",borderStyle:"solid"},"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th ":{background:ce,color:oe},boxShadow:"4px 4px 10px 10px rgba(0,0,0,0.1)",backgroundColor:"#fff"},row:{}}}))),wa=function(e){e.setIsSelected;var t=e.setSelectedItem,a=e.selectedItem,c=(e.mensaje_accion,e.selectRows),o=e.setSelectRows,r=e.openSlideMenu,i=Object(n.useState)(null),d=Object(l.a)(i,2),u=(d[0],d[1],Object(n.useState)(!0)),j=Object(l.a)(u,2),m=j[0],f=j[1],h=Object(n.useState)(null),p=Object(l.a)(h,2),x=p[0],g=p[1],v=Object(n.useState)(!1),S=Object(l.a)(v,2),N=S[0],w=S[1],_=Object(n.useState)([]),k=Object(l.a)(_,2),E=k[0],M=k[1],I=Object(n.useState)(""),D=Object(l.a)(I,2),R=(D[0],D[1],Object(n.useState)(!1)),A=Object(l.a)(R,2),T=(A[0],A[1],Object(n.useState)({})),L=Object(l.a)(T,2),P=L[0],F=L[1],Y=Object(n.useState)(!1),V=Object(l.a)(Y,2),U=V[0],z=V[1],q=[{title:"Empresa",dataIndex:"empresa",key:"empresa",render:function(e,t){return Object(O.jsx)("strong",{onClick:function(){return B(t)},children:e})},sorter:function(e,t){return e.empresa.localeCompare(t.empresa)}},{title:"Direccion",dataIndex:"direccion",key:"direccion"},{title:"Telefono",dataIndex:"telefono",key:"telefono"},{title:"Estado",dataIndex:"estado",key:"estado",render:function(e){return"true"===e?Object(O.jsx)("strong",{style:{color:"red"},children:"Inactivo"}):Object(O.jsx)("strong",{className:"text-primary",children:"Activo"})}},{title:"Acci\xf3n",dataIndex:"accion",key:"accion",render:function(e,t){return Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(){return B(t)},children:"Ver en el Mapa"})}}];function B(e){return H.apply(this,arguments)}function H(){return(H=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Ver empresa",t),e.next=3,F({lat:t.latitud,lng:t.longitud});case 3:console.log(P),z(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b.collection("empresa").onSnapshot((function(e){g(e.size),e.docChanges().forEach((function(e){"modified"===e.type&&w(!N)}))}),(function(e){console.log("Encountered error: ".concat(e))}));var G=Object(n.useState)([]),W=Object(l.a)(G,2),J=(W[0],W[1]),K={selectedRowKeys:c,onChange:function(e,a){o(e),r(),t(a[0]);le("Wed, 31 Mar 2021 02:12:39 GMT").locale("es").format("DD MMM. YYYY");console.log(a[0].direccion)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},Q=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.collection("empresa"),e.next=3,t.get();case 3:if(!(a=e.sent).empty){e.next=7;break}return console.log("No matching documents."),e.abrupt("return");case 7:n=[],a.forEach((function(e){var t={id:e.id,direccion:e.data().direccion,empresa:e.data().empresa,telefono:e.data().telefono,latitud:e.data().latitud?e.data().latitud:"",longitud:e.data().longitud?e.data().longitud:"",estado:e.data().estado};n.push(t)})),setTimeout((function(){var e=n.sort((function(e,t){return e.estado.localeCompare(t.estado)||e.empresa.localeCompare(t.empresa)}));M(e),f(!1)}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Q()}),[x,N]),Object(n.useEffect)((function(){console.log("!! UseEffect selectedItem === null ?"),null===a&&J([])}),[a]);Ft.a.Text,Ft.a.Link;var X=Na();return Object(O.jsxs)("div",{className:X.root,children:[Object(O.jsx)(Ve,{openModalMap:U,setOpenModalMap:z,empresa_cor:P}),Object(O.jsx)(Ce.a,{rowKey:"id",rowSelection:Object(s.a)({type:"radio"},K),columns:q,dataSource:E,scroll:{x:"max-content"},size:"middle",pagination:{position:["bottomCenter"]},bordered:!0,className:X.root,rowClassName:X.row,loading:m,onHeaderRow:function(e,t){return{onClick:function(e){var t=e.target.parentNode;console.log("event",t)}}}})]})};function _a(e){e.title;var t=e.description,a=e.children,n=e.openModalEmpresa,c=e.setOpenModalEmpresa,o=e.selectedItem,r=e.setSelectedItem,i=e.closeSlideMenu;return Object(O.jsx)("div",{children:Object(O.jsxs)(Ie.a,{open:n,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(O.jsx)(Te.a,{id:"form-dialog-title",className:o?"bg-warning":"bg-primary",children:o?Object(O.jsx)("span",{className:"text-dark",children:"Editar Empresa"}):Object(O.jsx)("span",{className:"text-white",children:"Agregar Empresa"})}),Object(O.jsxs)(Re.a,{children:[Object(O.jsx)(Ae.a,{children:t}),a]}),Object(O.jsx)(De.a,{children:Object(O.jsx)(Me.a,{onClick:function(){c(!1),i(),setTimeout((function(){r(null)}),500)},color:"secondary",children:"Cerrar"})})]})})}var ka=Object(Le.withScriptjs)(Object(Le.withGoogleMap)((function(e){var t=e.markerSearch,a=e.setMarkerSearch,c=e.setEmpresaMarker,o=(e.empresaMarker,Object(n.useState)({lat:-23.5325518,lng:-70.399952})),r=Object(l.a)(o,2),i=(r[0],r[1],Object(n.useState)(null)),s=Object(l.a)(i,2),d=s[0],u=s[1];return Object(O.jsxs)(Le.GoogleMap,{defaultZoom:18,defaultCenter:{lat:t.lat,lng:t.lng},onClick:function(e){a({lat:e.latLng.lat(),lng:e.latLng.lng()}),console.log(e)},center:{lat:t.lat,lng:t.lng},children:[Object(O.jsx)(Le.Marker,{position:{lat:t.lat,lng:t.lng},onClick:function(){u(t)},onPositionChanged:function(){console.log("POSITION CHANGED !!"),c(t)}}),d?Object(O.jsx)(Le.InfoWindow,{position:{lat:t.lat,lng:t.lng},onCloseClick:function(){u(null)},children:Object(O.jsx)("div",{children:Object(O.jsx)("h5",{children:"ej: Groot Limitada"})})}):null]})})));function Ea(e){var t=e.setEmpresaMarker,a=e.empresaMarker,c=e.setDireccion,o=Object(n.useState)({lat:-23.5325518,lng:-70.399952}),r=Object(l.a)(o,2),i=r[0],s=r[1];return Object(O.jsxs)("div",{style:{width:"90vw",height:"100vh"},children:[Object(O.jsx)("div",{className:"Search-wrapper",children:Object(O.jsx)(Ma,{setMarkerSearch:s,setEmpresaMarker:t,setDireccion:c})}),Object(O.jsx)(ka,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places",loadingElement:Object(O.jsx)("div",{style:{height:"100%"}}),containerElement:Object(O.jsx)("div",{style:{height:"400px"}}),mapElement:Object(O.jsx)("div",{style:{height:"100%"}}),markerSearch:i,setMarkerSearch:s,empresaMarker:a})]})}function Ma(e){var t=e.setMarkerSearch,a=e.setEmpresaMarker,n=e.setDireccion,c=Object(Pe.a)({requestOptions:{location:{lat:function(){return-23.5325518},lng:function(){return-70.399952}},radius:2e5}}),o=c.ready,r=c.value,i=c.suggestions,s=i.status,l=i.data,d=c.setValue,u=c.clearSuggestions,j=function(e){var c=e.description;return function(){d(c,!1),console.log(c),n(c),u(),Object(Pe.b)({address:c}).then((function(e){return Object(Pe.c)(e[0])})).then((function(e){var n=e.lat,c=e.lng;a({lat:n,lng:c}),t({lat:n,lng:c}),console.log("\ud83d\udccd Coordinates: ",{lat:n,lng:c})})).catch((function(e){console.log("\ud83d\ude31 Error: ",e)}))}};return Object(O.jsxs)("div",{className:"Input-wrapper",children:[Object(O.jsx)("input",{value:r,onChange:function(e){d(e.target.value),console.log(e.target.value)},disabled:!o,placeholder:"Escriba una direcci\xf3n",className:"Input-search"}),"OK"===s&&Object(O.jsx)("ul",{children:l.map((function(e){var t=e.place_id,a=e.structured_formatting,n=a.main_text,c=a.secondary_text;return Object(O.jsxs)("li",{onClick:j(e),className:"List-item",children:[Object(O.jsx)("strong",{className:"List-text",children:n})," ",Object(O.jsx)("small",{className:"List-text",children:c})]},t)}))})]})}function Ia(e){var t=e.openModalMap,a=e.setOpenModalMap,n=e.setEmpresaMarker,c=e.empresaMarker,o=e.setDireccion;return Object(O.jsx)("div",{children:Object(O.jsxs)(Ie.a,{open:t,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xl",children:[Object(O.jsx)(Te.a,{id:"form-dialog-title",className:"Modal-header",children:Object(O.jsx)("span",{className:"Modal-title",children:"Ubicaci\xf3n"})}),Object(O.jsxs)(Re.a,{className:"Map-wrapper",children:[Object(O.jsx)(Ae.a,{children:"Descripci\xf3n de las acciones"}),Object(O.jsx)(Ea,{setEmpresaMarker:n,empresaMarker:c,setDireccion:o})]}),Object(O.jsx)(De.a,{className:"Modal-actions",children:Object(O.jsx)(Me.a,{onClick:function(){return a(!1)},color:"secondary",children:"Cerrar"})})]})})}Ee.a.Option;var Da=a(375),Ra=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},inputs:{marginBottom:15},input_estado:{fontSize:16,width:"100%",height:30,marginBottom:15}}})),Aa=function(e){var t=e.selectedItem,a=e.setSelectedItem,c=e.setOpenModalEmpresa,o=e.closeSlideMenu,r=Object(w.a)(),i=r.register,s=r.handleSubmit,d=(r.errors,Object(gt.b)().enqueueSnackbar),u=Object(n.useState)(["Comunas..."]),j=Object(l.a)(u,2),m=(j[0],j[1]),f=Object(n.useState)(""),h=Object(l.a)(f,2),p=(h[0],h[1],Object(n.useState)("")),x=Object(l.a)(p,2),g=(x[0],x[1],Object(n.useState)(!1)),v=Object(l.a)(g,2),S=v[0],N=v[1],_=Object(n.useState)(null),k=Object(l.a)(_,2),E=k[0],M=k[1],I=Object(n.useState)(""),D=Object(l.a)(I,2),R=D[0],A=D[1],T=Object(n.useState)(""),L=Object(l.a)(T,2),P=(L[0],L[1]),F=Object(n.useState)(""),Y=Object(l.a)(F,2),V=Y[0],U=Y[1],z=Ra(),q=function(){var e=Object(y.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(E),console.log(t),e.next=4,b.collection("empresa").add({direccion:V,empresa:t.empresa,telefono:t.telefono,latitud:E?E.lat:"",longitud:E?E.lng:"",estado:t.estado});case 4:a=e.sent,console.log("Added document with ID: ",a.id),o();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(y.a)(C.a.mark((function e(a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.collection("empresa").doc(t.id),e.next=3,n.update({direccion:V,empresa:a.empresa,telefono:a.telefono,latitud:E?E.lat:t.latitud,longitud:E?E.lng:t.longitud,estado:a.estado});case 3:e.sent,o();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,U(t.direccion);case 3:A(t.region),P(t.comuna),Da.forEach((function(e){R===e.region&&m(e.comunas)}));case 6:case"end":return e.stop()}}),e)}))),[]),Object(O.jsxs)("div",{className:z.root,children:[Object(O.jsxs)("form",{onSubmit:s((function(e){if(console.log(E),t){var n="Empresa NOMBRE: "+t.empresa+" editada exitosamente.";B(e),c(!1),a(null),d(n,{variant:"info",preventDuplicate:!0,autoHideDuration:3e3})}else{q(e);n="Empresa NOMBRE: "+e.empresa+" creada exitosamente.";c(!1),d(n,{variant:"success",preventDuplicate:!0,autoHideDuration:3e3})}})),className:z.root,children:[Object(O.jsx)(Et.a,{id:"direccion",name:"direccion",label:"Direcci\xf3n",inputRef:i({required:!0}),className:z.inputs,value:V,disabled:!0,onClick:function(){N(!0)},fullWidth:!0}),Object(O.jsx)(Et.a,{id:"empresa",name:"empresa",label:"Empresa",inputRef:i({required:!0}),className:z.inputs,defaultValue:t?t.empresa:"",fullWidth:!0}),Object(O.jsx)(Et.a,{id:"telefono",name:"telefono",label:"Telefono",inputRef:i({required:!0}),className:z.inputs,defaultValue:t?t.telefono:"",fullWidth:!0}),Object(O.jsxs)("select",{name:"estado",ref:i({required:!0}),defaultValue:t?t.estado:null,className:z.input_estado,children:[Object(O.jsx)("option",{value:"false",children:"Activo"}),Object(O.jsx)("option",{value:"true",children:"Inactivo"})]}),Object(O.jsx)("button",{type:"submit",className:t?"btn btn-outline-warning":"btn btn-outline-primary",children:Object(O.jsx)("span",{children:t?"Editar Empresa":"Registrar Empresa"})})]}),Object(O.jsx)(Ia,{openModalMap:S,setOpenModalMap:N,setEmpresaMarker:M,empresaMarker:E,setDireccion:U})]})},Ta=(a(1185),function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],s=r[1],d=Object(n.useState)(null),u=Object(l.a)(d,2),j=u[0],m=u[1],f=Object(n.useState)(!0),p=Object(l.a)(f,2),x=(p[0],p[1]),S=Object(n.useState)(null),N=Object(l.a)(S,2),w=N[0],_=N[1],k=Object(n.useState)([]),E=Object(l.a)(k,2),M=E[0],I=E[1],D=Object(n.useState)([]),R=Object(l.a)(D,2),A=R[0],T=R[1],L=Object(h.g)(),P=Object(gt.b)(),F=P.enqueueSnackbar,Y=(P.closeSnackbar,function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("empresa").doc(j.id).delete();case 2:e.sent,t="Empresa NOMBRE: "+j.empresa+" ha sido eliminada.",F(t,{variant:"error",autoHideDuration:3e3}),I({mensaje:t,type:"error"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),V=[{key:2,text:"Agregar Empresa",icon:Object(O.jsx)(qt.a,{}),onClick:function(){m(null),_(!0)}},{key:3,text:"Modificar Empresa",icon:Object(O.jsx)(Ht.a,{}),onClick:function(){return _(!0)},isDisabled:!j},{key:4,text:"Eliminar Empresa",icon:Object(O.jsx)(Wt.a,{}),onClick:function(){return s(!0)},isDisabled:!j}],U=[{key:2,text:"Ajustes",icon:Object(O.jsx)(Ot.a,{}),onClick:function(){c(!0)}},{key:3,text:"Cerrar Sesi\xf3n",icon:Object(O.jsx)(ut.a,{}),onClick:function(){g(),L.push("/")}}],z=function(){B.current.style.width="240px"},q=function(){B.current.style.width="0",H.current.style.marginLeft="0",G.current.style.marginLeft="0",T([])},B=Object(n.useRef)(null),H=Object(n.useRef)(null),G=Object(n.useRef)(null),W=Object(n.useRef)(null);return Object(O.jsxs)("div",{className:"root",children:[Object(O.jsx)("div",{className:"header",ref:G,children:Object(O.jsx)(se,{openSlideMenu:z,openNavigationMobileMenu:function(){W.current.style.height="250px"}})}),Object(O.jsxs)("div",{className:"navigation_mobile",ref:W,children:[Object(O.jsx)("div",{style:{backgroundColor:"#1E1F1F",width:"100%",display:"flex",justifyContent:"center",opacity:"1"},children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"#",className:"nav_link",onClick:function(){W.current.style.height="0"},children:Object(O.jsx)("i",{class:"bi bi-x",style:{fontSize:42,marginLeft:5,marginRight:5}})})})}),Object(O.jsx)(v.c,{to:"/admin/home",className:"nav_link",children:Object(O.jsx)("span",{children:"INICIO"})}),Object(O.jsx)(v.c,{to:"/admin/conductores",className:"nav_link",children:Object(O.jsx)("span",{children:"USUARIOS"})}),Object(O.jsx)(v.c,{to:"/admin/camiones",className:"nav_link",children:Object(O.jsx)("span",{children:"CAMIONES"})}),Object(O.jsx)(v.c,{to:"/admin/viajes",className:"nav_link",children:Object(O.jsx)("span",{children:"VIAJES"})}),Object(O.jsx)(v.c,{to:"/admin/empresa",className:"nav_link",children:Object(O.jsx)("span",{children:"EMPRESAS"})})]}),Object(O.jsx)("div",{className:"menu_lateral",ref:B,children:Object(O.jsx)(me,{closeSlideMenu:q,itemList:Object(O.jsx)(ge,{admin_items:V,admin_settings:U,selectedUser:j})})}),Object(O.jsxs)("div",{className:"content",ref:H,children:[Object(O.jsxs)("div",{className:"info",style:{backgroundColor:ae},children:[" ",Object(O.jsx)("span",{style:{color:ne},children:"EMPRESAS"})]}),Object(O.jsx)("div",{className:"table",children:Object(O.jsx)(wa,{setSelectedItem:m,setIsSelected:x,selectedItem:j,mensaje_accion:M,selectRows:A,setSelectRows:T,openSlideMenu:z})}),Object(O.jsx)(ft,{visible:a,setVisible:c,closeSlideMenu:q}),Object(O.jsx)(_a,{title:"Empresa",description:"Descripci\xf3n de la accion a realizar",selectedItem:j,openModalEmpresa:w,setOpenModalEmpresa:_,setSelectedItem:m,closeSlideMenu:q,children:Object(O.jsx)(Aa,{selectedItem:j,setOpenModalEmpresa:_,setSelectedItem:m,closeSlideMenu:q})}),Object(O.jsx)($t,{openAlert:i,setOpenAlert:s,title:"\xbfQuieres borrar esta empresa?",description:"Esta acci\xf3n borrar\xe1 permanentemente los datos de esta empresa.",men:j?j.empresa:null,action:Y,selectedItem:j,setSelectedItem:m,closeSlideMenu:q})]})]})});var La=function(){return f.onAuthStateChanged((function(e){e?console.log("OBSERVADOR|||| !! SESION ACTIVA !! EMAIL --\x3e "+e.email):console.log("OBSERVADOR|||| !! SESION INACTIVA !! ")})),Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(x,{children:Object(O.jsx)(v.a,{children:Object(O.jsxs)(h.d,{children:[Object(O.jsx)(h.b,{path:"/",exact:!0,component:function(e){return Object(O.jsx)(q,Object(s.a)({},e))}}),Object(O.jsx)(t,{path:"/conductor/home",children:Object(O.jsx)(ue,{})}),Object(O.jsx)(t,{path:"/conductor/viajes",children:Object(O.jsx)(mt,{})}),Object(O.jsx)(e,{path:"/admin/home",children:Object(O.jsx)(xt,{})}),Object(O.jsx)(e,{path:"/admin/conductores",children:Object(O.jsx)(Jt,{})}),Object(O.jsx)(e,{path:"/admin/camiones",children:Object(O.jsx)(na,{})}),Object(O.jsx)(e,{path:"/admin/viajes",children:Object(O.jsx)(ya,{})}),Object(O.jsx)(e,{path:"/admin/empresa",children:Object(O.jsx)(Ta,{})})]})})})});function e(e){var t=e.children,a=Object(i.a)(e,["children"]),n=localStorage.getItem("user"),c=localStorage.getItem("isAdmin");return console.log("ADMIN??? "+c),Object(O.jsx)(h.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){var a=e.location;return n?"true"===c?t:Object(O.jsx)(h.a,{to:{pathname:"/conductor/home",state:{code:"100",from:a}}}):Object(O.jsx)(h.a,{to:{pathname:"/",state:{code:"100",from:a}}})}}))}function t(e){var t=e.children,a=Object(i.a)(e,["children"]),n=localStorage.getItem("user"),c=localStorage.getItem("isAdmin");return console.log("ADMIN??? "+c),Object(O.jsx)(h.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){var a=e.location;return n?"true"===c?Object(O.jsx)(h.a,{to:{pathname:"/admin/home",state:{code:"100",from:a}}}):t:Object(O.jsx)(h.a,{to:{pathname:"/",state:{code:"100",from:a}}})}}))}},Pa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1275)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),o(e),r(e)}))},Fa=a(1190);r.a.render(Object(O.jsx)(gt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:Fa.a,children:Object(O.jsx)(La,{})}),document.getElementById("root")),Pa()},269:function(e,t,a){},375:function(e){e.exports=JSON.parse('[{"region":"Arica y Parinacota","numero":"XV","comunas":["Arica","Camarones","General Lagos","Putre"]},{"region":"Tarapac\xe1","numero":"I","comunas":["Alto Hospicio","Cami\xf1a","Colchane","Huara","Iquique","Pica","Pozo Almonte"]},{"region":"Antofagasta","numero":"II","comunas":["Antofagasta","Calama","Mar\xeda Elena","Mejillones","Ollag\xfce","San Pedro de Atacama","Sierra Gorda","Taltal","Tocopilla"]},{"region":"Atacama","numero":"III","comunas":["Alto del Carmen","Caldera","Cha\xf1aral","Copiap\xf3","Diego de Almagro","Freirina","Huasco","Tierra Amarilla","Vallenar"]},{"region":"Coquimbo","numero":"IV","comunas":["Andacollo","Canela","Combarbal\xe1","Coquimbo","Illapel","La Higuera","La Serena","Los Vilos","Monte Patria","Ovalle","Paiguano","Punitaqui","R\xedo Hurtado","Salamanca","Vicu\xf1a"]},{"region":"Valpara\xedso","numero":"V","comunas":["Algarrobo","Cabildo","Calera","Calle Larga","Cartagena","Casablanca","Catemu","Conc\xf3n","El Quisco","El Tabo","Hijuelas","Isla de Pascua","Juan Fern\xe1ndez","La Cruz","La Ligua","Limache","Llaillay","Los Andes","Nogales","Olmu\xe9","Panquehue","Papudo","Petorca","Puchuncav\xed","Putaendo","Quillota","Quilpu\xe9","Quintero","Rinconada","San Antonio","San Esteban","San Felipe","Santa Mar\xeda","Santo Domingo","Valpara\xedso","Villa Alemana","Vi\xf1a del Mar","Zapallar"]},{"region":"Metropolitana de Santiago","numero":"MET","comunas":["Alhu\xe9","Buin","Calera de Tango","Cerrillos","Cerro Navia","Colina","Conchal\xed","Curacav\xed","El Bosque","El Monte","Estaci\xf3n Central","Huechuraba","Independencia","Isla de Maipo","La Cisterna","La Florida","La Granja","La Pintana","La Reina","Lampa","Las Condes","Lo Barnechea","Lo Espejo","Lo Prado","Macul","Maip\xfa","Mar\xeda Pinto","Melipilla","\xd1u\xf1oa","Padre Hurtado","Paine","Pedro Aguirre Cerda","Pe\xf1aflor","Pe\xf1alol\xe9n","Pirque","Providencia","Pudahuel","Puente Alto","Quilicura","Quinta Normal","Recoleta","Renca","San Bernardo","San Joaqu\xedn","San Jos\xe9 de Maipo","San Miguel","San Pedro","San Ram\xf3n","Santiago","Talagante","Tiltil","Vitacura"]},{"region":"Libertador Gral. Bernardo O\u2019Higgins","numero":"VI","comunas":["Chimbarongo","Ch\xe9pica","Codegua","Coinco","Coltauco","Do\xf1ihue","Graneros","La Estrella","Las Cabras","Litueche","Lolol","Machal\xed","Malloa","Marchihue","Nancagua","Navidad","Olivar","Palmilla","Paredones","Peralillo","Peumo","Pichidegua","Pichilemu","Placilla","Pumanque","Quinta de Tilcoco","Rancagua","Rengo","Requ\xednoa","San Fernando","San Francisco de Mostazal","San Vicente de Tagua Tagua","Santa Cruz"]},{"region":"Maule","numero":"VII","comunas":["Cauquenes","Chanco","Colb\xfan","Constituci\xf3n","Curepto","Curic\xf3","Empedrado","Huala\xf1\xe9","Licant\xe9n","Linares","Longav\xed","Maule","Molina","Parral","Pelarco","Pelluhue","Pencahue","Rauco","Retiro","Romeral","R\xedo Claro","Sagrada Familia","San Clemente","San Javier de Loncomilla","San Rafael","Talca","Teno","Vichuqu\xe9n","Villa Alegre","Yerbas Buenas"]},{"region":"\xd1uble","numero":"XVI","comunas":["Bulnes","Chill\xe1n Viejo","Chill\xe1n","Cobquecura","Coelemu","Coihueco","El Carmen","Ninhue","\xd1iqu\xe9n","Pemuco","Pinto","Portezuelo","Quill\xf3n","Quirihue","R\xe1nquil","San Carlos","San Fabi\xe1n","San Ignacio","San Nicol\xe1s","Treguaco","Yungay"]},{"region":"Biob\xedo","numero":"VIII","comunas":["Alto Biob\xedo","Antuco","Arauco","Cabrero","Ca\xf1ete","Chiguayante","Concepci\xf3n","Contulmo","Coronel","Curanilahue","Florida","Hualp\xe9n","Hualqui","Laja","Lebu","Los \xc1lamos","Los \xc1ngeles","Lota","Mulch\xe9n","Nacimiento","Negrete","Penco","Quilaco","Quilleco","San Pedro de la Paz","San Rosendo","Santa B\xe1rbara","Santa Juana","Talcahuano","Tir\xfaa","Tom\xe9","Tucapel","Yumbel"]},{"region":"Araucan\xeda","numero":"IX","comunas":["Angol","Carahue","Cholchol","Collipulli","Cunco","Curacaut\xedn","Curarrehue","Ercilla","Freire","Galvarino","Gorbea","Lautaro","Loncoche","Lonquimay","Los Sauces","Lumaco","Melipeuco","Nueva Imperial","Padre las Casas","Perquenco","Pitrufqu\xe9n","Puc\xf3n","Pur\xe9n","Renaico","Saavedra","Temuco","Teodoro Schmidt","Tolt\xe9n","Traigu\xe9n","Victoria","Vilc\xfan","Villarrica"]},{"region":"Los R\xedos","numero":"XIV","comunas":["Corral","Futrono","La Uni\xf3n","Lago Ranco","Lanco","Los Lagos","Mariquina","M\xe1fil","Paillaco","Panguipulli","R\xedo Bueno","Valdivia"]},{"region":"Los Lagos","numero":"X","comunas":["Ancud","Calbuco","Castro","Chait\xe9n","Chonchi","Cocham\xf3","Curaco de V\xe9lez","Dalcahue","Fresia","Frutillar","Futaleuf\xfa","Hualaihu\xe9","Llanquihue","Los Muermos","Maull\xedn","Osorno","Palena","Puerto Montt","Puerto Octay","Puerto Varas","Puqueld\xf3n","Purranque","Puyehue","Queil\xe9n","Quell\xf3n","Quemchi","Quinchao","R\xedo Negro","San Juan de la Costa","San Pablo"]},{"region":"Ais\xe9n del Gral. Carlos Ib\xe1\xf1ez del Campo","numero":"XI","comunas":["Ais\xe9n","Chile Chico","Cisnes","Cochrane","Coihaique","Guaitecas","Lago Verde","O\u2019Higgins","R\xedo Ib\xe1\xf1ez","Tortel"]},{"region":"Magallanes y de la Ant\xe1rtica Chilena","numero":"XII","comunas":["Ant\xe1rtica","Cabo de Hornos (Ex Navarino)","Laguna Blanca","Natales","Porvenir","Primavera","Punta Arenas","R\xedo Verde","San Gregorio","Timaukel","Torres del Paine"]}]')},558:function(e,t,a){},620:function(e,t,a){},628:function(e,t,a){},890:function(e,t){},892:function(e,t){},922:function(e,t){},923:function(e,t){}},[[1186,1,2]]]);
//# sourceMappingURL=main.abe1a530.chunk.js.map