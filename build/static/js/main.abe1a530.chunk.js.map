{"version":3,"sources":["db/firebase.js","db/use-auth.js","db/auth.js","components/FlashMessage.js","app/index.js","variables.js","components/Header.js","app/conductor/Conductor_home.js","components/Side_menu.js","components/items/Menu_items.js","components/DrawerPerfilUsuario.js","components/StatusTag.js","components/google-maps/MapOnlyView.js","components/google-maps/Modal-map-onlyView.js","components/modals/ModalReporte.js","app/admin/data_tables/DataTable_conductor_viajes_ant.js","app/conductor/Conductor_viajes.js","components/DrawerSettings.js","app/admin/VISTA_ADMIN_HOME/Vista_admin_home.js","components/Alert.js","components/modals/ModalConductor.js","components/FormErrorMessage.js","components/forms/FormConductor.js","app/admin/data_tables/DataTable_conductor_ant.js","app/admin/VISTA_ADMIN_USUARIO/Vista_admin_usuarios.js","app/admin/data_tables/DataTable_camion_ant.js","components/ConfirmAlert.js","components/modals/ModalCamion.js","components/forms/FormCamion.js","app/admin/VISTA_ADMIN_CAMION/Vista_admin_camiones.js","app/admin/data_tables/DataTable_viajes_ant.js","app/admin/data_tables/DataTable_select_conductor.js","app/admin/data_tables/DataTable_select_viaje.js","components/Stepper.js","app/admin/VISTA_ADMIN_VIAJE/Select.js","app/admin/VISTA_ADMIN_VIAJE/SelectCamion.js","app/admin/VISTA_ADMIN_VIAJE/SelectOrigen.js","app/admin/VISTA_ADMIN_VIAJE/SelectEmpresa.js","app/admin/VISTA_ADMIN_VIAJE/Form_admin_viaje.js","app/admin/VISTA_ADMIN_VIAJE/ModalViaje_copy.js","app/admin/VISTA_ADMIN_VIAJE/Vista_admin_viajes.js","app/admin/data_tables/DataTable_empresa.js","components/modals/ModalEmpresa.js","components/google-maps/Map.js","components/google-maps/Modal-map.js","components/forms/FormEmpresa.js","app/admin/VISTA_ADMIN_EMPRESA/Vista_admin_empresas.js","App.js","reportWebVitals.js","index.js"],"names":["fb","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","fire","db","firestore","storage","auth","authContext","createContext","ProvideAuth","children","useState","user","setUser","history","useHistory","signin","email","password","signInWithEmailAndPassword","then","response","currentUser","getIdTokenResult","idTokenResult","claims","admin","console","log","localStorage","setItem","push","catch","error","signup","createUserWithEmailAndPassword","signout","signOut","sendPasswordResetEmail","confirmPasswordReset","code","useEffect","unsubscribe","onAuthStateChanged","useProvideAuth","Provider","value","cerrar__sesion","removeItem","Alert","props","elevation","variant","FlashMessage","open","setOpen","menCode","setMenCode","mensaje","setMensaje","severity","setSeverity","handleClick","handleClose","event","reason","state","child","location","window","replaceState","document","title","codeError","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","useStyles","makeStyles","theme","root","height","width","backgroundColor","fontFamily","container","display","flexDirection","justifyContent","alignItems","cnt__login","cnt__logo","breakpoints","down","logo","cnt_form","border","borderRadius","padding","form","fontSize","marginBottom","marginbottom","color","form__text","paddingBottom","form__button","marginTop","Index","classes","email_recover","setEmailRecover","email_not_exist","setEmailNotExist","email_exist","setEmailExist","setCodeError","useForm","register","handleSubmit","errors","amount","weight","weightRange","showPassword","values","setValues","a","exist","collection","where","get","querySnapshot","forEach","doc","emailAddress","prop","className","Box","src","noValidate","autoComplete","onSubmit","data","txtCorreo","txtPassword","cred","uid","message","Input","name","label","inputRef","required","startAdornment","InputAdornment","position","fullWidth","type","target","IconButton","aria-label","onClick","onMouseDown","preventDefault","Visibility","VisibilityOff","style","htmlType","data-bs-toggle","data-bs-target","class","id","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","placeholder","onChange","e","handleInputEmail","marginLeft","recover_password","INFO_BG_COLOR","INFO_TEXT_COLOR","DATATABLE_BG_COLOR","DATATABLE_TEXT_COLOR","CARDS_ADMIN_BG_COLOR","background","boxShadow","top","cnt_avatar","paddingRight","cnt_avatar_dos","cnt_links","__icon_mobile","paddingLeft","icons","textDecoration","icon_mobile","menu_mobile","up","displayName","marginRight","links","nav__links","fontWeight","transition","borderBottom","avatar","username","icon","__active_nav","navigation_mobile","zIndex","Header","openSlideMenu","openNavigationMobileMenu","usuario","setUsuario","getItem","docRef","exists","onSnapshot","LINKS_ADMIN","text","linkTo","LINKS_CONDUCTOR","isAdmin","href","map","x","to","activeClassName","alt","photoURL","nombres","toUpperCase","flexWrap","__header","__content","Conductor_home","viajes","setViajes","dayjs","fecha","toDate","isBefore","locale","format","isSame","isAfter","length","footer","container_icon","center","Side_menu","closeSlideMenu","itemList","Divider","listItem","overflow","paddingTop","listItemIcon","listItemText","topItemList","bottomItemList","item","MenuTest","List","admin_items","index","ListItem","button","disabled","isDisabled","ListItemIcon","ListItemText","admin_settings","DrawerPerfilUsuario","visible","setVisible","newPass","setNewPass","actualPass","setActualPass","setDisabled","errorPass","setErrorPass","succefulPass","setSuccesfulPass","setErrorMessage","passActual","file","useRef","photoUrl","setPhotoUrl","foto_error","setFotoError","uploadPhoto","file_img","current","files","reader","FileReader","onloadend","result","readAsDataURL","placement","closable","ref","userRef","storageRef","pathName","avatarRef","put","contentType","snapshot","getDownloadURL","update","setTimeout","cambiar_foto","rut","apellidos","telefono","role","aria-describedby","minLength","autocomplete","onKeyUp","verify","test","passListener","pass_actual","newPassword","updatePassword","statusMap","true","false","StatusTag","status","WrappedMap","withScriptjs","withGoogleMap","empresaMarker","lat","lng","selected","setSelected","defaultZoom","defaultCenter","onCloseClick","GMap","googleMapURL","loadingElement","containerElement","mapElement","ModalMap_onlyView","empresa_cor","openModalMap","setOpenModalMap","Dialog","maxWidth","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","appBar","spacing","flex","viewer","styles","StyleSheet","create","page","header","borderTopWidth","borderLeftWidth","borderRightWidth","marginHorizontal","row","borderBottomWidth","cell","borderRight","borderLeft","cell_2","head_cell","head_text","Transition","React","forwardRef","Slide","direction","FullScreenDialog","MyDocument","size","section","conductor","camion","direccion","destino","estado","fullScreen","TransitionComponent","AppBar","Toolbar","edge","Typography","autoFocus","Option","require","Select","RangePicker","DatePicker","borderWidth","borderColor","borderStyle","filter__section","label__container","filter__container","button__container","filter","filter__title","DataTable_conductor_viajes_ant","setIsSelected","setSelectedItem","selectedItem","setSize","edit","setEdit","setX","rowClassname","isLoaded","setIsLoaded","setData","filterData","setFilterData","setEmpresaCor","conductor_id","setConductorId","rango_fechas","setRangoFechas","filter_empresa","setFilterEmpresa","filter_estado","setFilterEstado","empresaList","setEmpresaList","setConductoresList","conductorLabel","setConductorLabel","rangoLabel","setRangoLabel","empresaLabel","setEmpresaLabel","estadoLabel","setEstadoLabel","removeFilter","setRemoveFilter","setFecha","setFilterState","columns","dataIndex","key","render","sorter","b","fechaSorter","defaultSortOrder","empresa","ver_empresa_map","empresa_latitud","empresa_longitud","record","lon","docChanges","change","err","get__viajes","data_camiones","item__list","data_camiones__list","formatDate","formatDate2","camionRef","id_camion","camion_info","modelo","patente","empresa_name","latitud","longitud","origen","empresa_id","id_user","fecha_camion","filter_general","finalFilter","sort","filteredEvents","isBetween","list__empresas","region","comuna","conductor_list","Chip","onDelete","clickable","date","dateString","locale_","showSearch","optionFilterProp","onSearch","val","onSelect","filterOption","input","option","toLowerCase","indexOf","rowKey","dataSource","scroll","pagination","bordered","rowClassName","loading","Conductor_viajes","ultimo_viaje","setUltimoViaje","proximo_viaje","setProximoViaje","acutal_viaje","setActualViaje","filtro_ultimo","filtro_proximo","sorted_filtro_ultimo","sorted_filtro_proximo","ultimo","find","element","proximo","actual","ultimoRef","actualRef","proximoRef","CONDUCTOR_ITEMS","menu_lateral","content","selectedUser","DrawerSettings","onChangeNewPass","weekOfYear","Admin_home","ADMIN_SETTINGS","dataViajes","setDataViajes","dataUsuarios","setDataUsuarios","dataEmpresas","setDataEmpresas","get__camion","empty","camiones","c","marca","disponible","get__empresas","empresas","fetch","method","mode","res","json","opacity","AlertDialogSlide","openAlert","setOpenAlert","setSelectedUser","useSnackbar","enqueueSnackbar","closeSnackbar","buttonDisabled","setButtonDisabled","delete__user","body","JSON","stringify","headers","men","description","compare","openModalConductor","setOpenModalConductor","FormErrorMessage","align","container_wrap","input__email","container__nombres","columnGap","container__rut_telefono_domicilio","container__inputFile","container__avatar","input__nombres","input__rut_telefono","input__domicilio","input__file","backdrop","drawer","estado_input","FormConductor","setLoading","edit__user","edit_user","preventDuplicate","register__user","new_user","random_pass","setRandomPass","Backdrop","CircularProgress","metadata","email_split","split","slice","Avatar","TextField","pattern","defaultValue","buscador","localeCompare","DataTable_conductor_ant","selectRows","setSelectRows","functionBuscar","setError","filter_nombres","setFilterNombres","setSelectedRowKeys","rowSelection","selectedRowKeys","selectedRows","getCheckboxProps","Text","Link","includes","onChangeNombre","Admin_conductores","ADMIN_CONDUCTOR_ITEMS","DataTable_camion_ant","mensaje_accion","ConfirmAlert","action","email_destino","justifySelf","emailjs","sendForm","ModalCamionDos","openModalCamion","setOpenModalCamion","inputs","input_estado","register__camion","new_camion","add","edit__camion","option_text","setMensajeAccion","delete__camion","delete","FormCamion","DataTable_viajes_ant","setUser__id","user__id","setCamion__id","setDataCamionFecha","setFechaCamion","setItemToDelete","setConductor","setDireccion","setEmailDestino","conductores_list","selected__viaje","delete__viaje","conductor_item","empresaRef","empresa_info","idEmpresa","backButton","instructions","select","formControl","margin","minWidth","selectEmpty","Select_Ant","SelectUsuario","setEmailName","setEmailCorreo","lista","getPopupContainer","node","parentNode","SelectCamion","camionId","setCamionId","setCamion","hidden","regiones_data","SelectOrigen","setOrigen","regiones","setRegiones","comunas","setComunas","selectedRegion","setSelectedRegion","selectedComuna","setSelectedComuna","isSelected","setDisable","SelectEmpresa","setDestino","setEmailDireccion","setEmpresa","customParseFormat","setFechaHora","Date","setDate","handleDateChange","Timestamp","fromDate","utils","DatedayjsUtils","KeyboardButtonProps","Form_admin_viaje","setOpenModalViaje","fecha_hora","email_name","email_direccion","email_correo","notificar","setNotificar","classNames","checked","isChecked","for","identifier","viaje","FieldValue","arrayRemove","arrayUnion","new__viaje","openModalViaje","dataCamionFecha","itemToDelete","ItemContent","Admin_viajes","camion__id","disp","DataTable_empresa","get__empresa","onHeaderRow","tr","openModalEmpresa","setOpenModalEmpresa","markerSearch","setMarkerSearch","setEmpresaMarker","latLng","onPositionChanged","Search","usePlacesAutocomplete","requestOptions","radius","ready","suggestions","setValue","clearSuggestions","handleSelect","getGeocode","address","results","getLatLng","suggestion","place_id","structured_formatting","main_text","secondary_text","ModalMap","FormEmpresa","register__empresa","new_empresa","edit__empresa","Admin_empresas","delete__empresa","App","path","exact","component","PrivateRouteConductor","PrivateRoute","rest","pathname","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Grow","getElementById"],"mappings":"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","file":"static/js/main.abe1a530.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\n\r\n// Add the Firebase services that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCybTK1kaKZtP99G0K8o0IMWgL-vBylbuQ\",\r\n    authDomain: \"trudistics.firebaseapp.com\",\r\n    projectId: \"trudistics\",\r\n    storageBucket: \"trudistics.appspot.com\",\r\n    messagingSenderId: \"228483098144\",\r\n    appId: \"1:228483098144:web:a4d59c637b6bc26ce9fe45\"\r\n  };\r\n\r\n  const fb = firebase.initializeApp(firebaseConfig);\r\n  export const fire = firebase;\r\n  export const db = fb.firestore();\r\n  export const storage = fb.storage();\r\n  export const auth = fb.auth();","import React, { useState, useEffect, useContext, createContext } from \"react\";\r\nimport { auth } from \"./firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// Add your Firebase credentials\r\n\r\nconst authContext = createContext();\r\n\r\n// Provider component that wraps your app and makes auth object ...\r\n// ... available to any child component that calls useAuth().\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\n// Hook for child components to get the auth object ...\r\n// ... and re-render when it changes.\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n};\r\n\r\n// Provider hook that creates auth object and handles state\r\nfunction useProvideAuth() {\r\n  const [user, setUser] = useState(null);\r\n  let history = useHistory();\r\n  // Wrap any Firebase methods we want to use making sure ...\r\n  // ... to save the user to state.\r\n  const signin = (email, password) => {\r\n    return auth.signInWithEmailAndPassword(email, password).then((response) => {\r\n      auth.currentUser\r\n        .getIdTokenResult()\r\n        .then((idTokenResult) => {\r\n          // Confirm the user is an Admin.\r\n          if (!!idTokenResult.claims.admin) {\r\n            // Show admin UI.\r\n            console.log(\"SOY ADMIN\")\r\n            localStorage.setItem(\"user\", response.user);\r\n            localStorage.setItem(\"isAdmin\", true)\r\n            history.push(\"/admin/home\");\r\n          } else {\r\n            // Show regular user UI.\r\n            console.log(\"NO SOY ADMIN\")\r\n            localStorage.setItem(\"user\", response.user);\r\n            localStorage.setItem(\"isAdmin\", false)\r\n            history.push(\"/conductor/home\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      localStorage.setItem(\"user\", response.user);\r\n      setUser(response.user);\r\n      return response.user;\r\n    });\r\n  };\r\n\r\n  const signup = (email, password) => {\r\n    return auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((response) => {\r\n        setUser(response.user);\r\n        return response.user;\r\n      });\r\n  };\r\n\r\n  const signout = () => {\r\n    return auth.signOut().then(() => {\r\n        console.log(\"!!! Sesin Cerrada\");\r\n        history.push(\"/\")\r\n    });\r\n  };\r\n\r\n  const sendPasswordResetEmail = (email) => {\r\n    return auth.sendPasswordResetEmail(email).then(() => {\r\n      return true;\r\n    });\r\n  };\r\n\r\n  const confirmPasswordReset = (code, password) => {\r\n    return auth.confirmPasswordReset(code, password).then(() => {\r\n      return true;\r\n    });\r\n  };\r\n\r\n  // Subscribe to user on mount\r\n  // Because this sets state in the callback it will cause any ...\r\n  // ... component that utilizes this hook to re-render with the ...\r\n  // ... latest auth object.\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        setUser(user);\r\n      } else {\r\n        setUser(false);\r\n      }\r\n    });\r\n\r\n    // Cleanup subscription on unmount\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Return the user object and auth methods\r\n  return {\r\n    user,\r\n    signin,\r\n    signup,\r\n    signout,\r\n    sendPasswordResetEmail,\r\n    confirmPasswordReset,\r\n  };\r\n}\r\n","import { auth, db } from \"./firebase\";\r\n\r\n\r\n\r\nexport const usuarioActual = () => {\r\n  auth.onAuthStateChanged(function (user) {\r\n    if (user) {\r\n      console.log(\"OBSERVADOR|||| !! SESION ACTIVA !! EMAIL --> \" + user.email);\r\n      \r\n    } else {\r\n      console.log(\"OBSERVADOR|||| !! SESION INACTIVA !! \");\r\n    }\r\n  });\r\n};\r\n\r\nexport const registrar__usuario = (email, password) => {\r\n  // -> objeto con los datos del usuario.\r\n  //ej : rut, nombres, apellidos, telefono, email, pass\r\n  auth\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then((cred) => {\r\n      return db.collection(\"usuario\").doc(cred.user.uid).set({\r\n        rut: \"11-1\",\r\n        nombres: \"Angelica Victoria\",\r\n        apellidos: \"Camilo Arriagada\",\r\n        telefono: \"9 72117744\",\r\n      });\r\n    })\r\n    .then(() => {\r\n      console.log(\"<---- registrar__usuario OK ------>\");\r\n      console.log(\"!! Limpiar formulario o algo\");\r\n    })\r\n    .catch((error) => {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      console.log(\"!!! ERROR CODE : !!!\" + errorCode);\r\n      console.log(\"!!! ERRORMESSAGE :  !!!\" + errorMessage);\r\n      // ..\r\n    });\r\n};\r\n\r\nexport const iniciar__sesion = (email, password) => auth.signInWithEmailAndPassword(email, password);\r\n\r\nexport const cerrar__sesion = () => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      console.log(\"!!! Sesin Cerrada\");\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem(\"isAdmin\");\r\n      localStorage.removeItem('password');\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n","import React , {useEffect, useState} from \"react\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default function FlashMessage(props) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [menCode, setMenCode] = useState(0);\r\n  const [mensaje, setMensaje] = useState('');\r\n\r\n  const [severity, setSeverity] = useState('');\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  var state = props.child.location.state;\r\n\r\n  useEffect(() => {\r\n    console.log(\"Flash Message montado !!\");\r\n    \r\n    if(state){\r\n      if(state.code !== menCode){\r\n          console.log(state.code);\r\n        switch(state.code){\r\n            case '100':\r\n                setMensaje(\"\")\r\n                setMensaje(\"Error \"+state.code+\": Acceso no autorizado.\")\r\n                setSeverity(\"error\")\r\n                break;\r\n            default:\r\n                setMensaje(\"Error 1000: Error desconocido. ->\"+state.code)\r\n                break;\r\n        }\r\n        setMenCode(state.code);\r\n        console.log(\"codigo seteado paso 1 !! -> CODE = \"+menCode);\r\n        handleClick()\r\n      }\r\n      \r\n      /** borra el historial, del codigo */\r\n      window.history.replaceState({}, document.title);\r\n      \r\n    }\r\n\r\n    if (props.codeError) {\r\n      switch(props.codeError){\r\n        case \"auth/invalid-email\":\r\n          setMensaje(\"Formato de correo invalido.\")\r\n          break;\r\n        case \"auth/user-not-found\":\r\n          setMensaje(\"No hay ningn registro de usuario correspondiente a este correo.\")\r\n          break;\r\n        case \"auth/wrong-password\":\r\n          setMensaje(\"La contrasea no es vlida.\")\r\n          break;\r\n        case \"auth/too-many-requests\":\r\n          setMensaje(\" El acceso a esta cuenta se ha desactivado temporalmente debido a los numerosos intentos fallidos de inicio de sesin. Contacte con administrador\")\r\n          break;\r\n        default:\r\n          setMensaje(\"Error desconocido.\")\r\n          break;\r\n      }\r\n      setSeverity(\"warning\")\r\n      handleClick()\r\n    }\r\n  },[props.codeError])\r\n\r\n  return (\r\n\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{ vertical: 'top',\r\n      horizontal: 'center',}}\r\n      >\r\n        <Alert onClose={handleClose} severity={severity}>\r\n          {mensaje}\r\n        </Alert>\r\n      </Snackbar>\r\n  );\r\n}","import React, { /*useEffect,*/ useState } from \"react\";\r\n\r\nimport { auth } from \"../db/firebase\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"antd\";\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Input,\r\n  InputAdornment,\r\n  TextField /**Button*/,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport FlashMessage from \"../components/FlashMessage\";\r\n\r\nimport LockRoundedIcon from \"@material-ui/icons/LockRounded\";\r\nimport EmailRoundedIcon from \"@material-ui/icons/EmailRounded\";\r\n\r\n//import {useParams,useHistory} from \"react-router-dom\";\r\n\r\n/** !! AUTH */\r\nimport {\r\n  //registrar__usuario,\r\n  iniciar__sesion,\r\n  cerrar__sesion,\r\n} from \"../db/auth.js\";\r\n\r\nimport {db} from \"../db/firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    width: \"100vw\",\r\n    backgroundColor: \"#fafafa\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n  },\r\n\r\n  container: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  cnt__login: {\r\n    //backgroundColor: \"skyblue\",\r\n\r\n    height: \"50%\",\r\n    width: \"100%\",\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  cnt__logo: {\r\n    //backgroundColor : \"green\",\r\n    height: \"100%\",\r\n    width: 485,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  logo: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n\r\n  cnt_form: {\r\n    backgroundColor: \"#ffffff\",\r\n    height: \"80%\",\r\n\r\n    border: \"1px #dbdbdb solid\",\r\n    borderRadius: 5,\r\n\r\n    width: 500,\r\n    padding: 50,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  form: {\r\n    //backgroundColor: \"red\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n  },\r\n\r\n  title: {\r\n    fontSize: 32,\r\n    marginBottom: 30,\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //width: \"100%\",\r\n    },\r\n  },\r\n\r\n  error: {\r\n    fontSize: 14,\r\n    marginbottom: 5,\r\n    color: \"red\",\r\n  },\r\n\r\n  form__text: {\r\n    width: \"100%\",\r\n    paddingBottom: 15,\r\n  },\r\n\r\n  form__button: {\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n}));\r\n\r\nconst Index = (props) => {\r\n  const classes = useStyles();\r\n  const [email_recover, setEmailRecover] = useState('');\r\n  const [email_not_exist, setEmailNotExist] = useState(true);\r\n  const [email_exist, setEmailExist] = useState(false);\r\n\r\n  const [codeError, setCodeError] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [values, setValues] = useState({\r\n    amount: \"\",\r\n    password: \"\",\r\n    weight: \"\",\r\n    weightRange: \"\",\r\n    showPassword: false,\r\n  });\r\n\r\n  async function recover_password(){\r\n    let exist = false;\r\n    console.log(\"Recover password para => \", email_recover);\r\n    await db.collection(\"usuario\").where(\"email\", \"==\", email_recover)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      \r\n        querySnapshot.forEach((doc) => exist = true);\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n\r\n    if(exist === false){\r\n      setEmailNotExist(false);\r\n    }else{\r\n      setEmailNotExist(true);\r\n      setEmailExist(true);\r\n      var emailAddress = email_recover;\r\n\r\n      auth.sendPasswordResetEmail(emailAddress).then(function() {\r\n        // Email sent.\r\n      }).catch(function(error) {\r\n        // An error happened.\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  function handleInputEmail(e){\r\n    setEmailRecover(e.target.value);\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(\"onSubmit\");\r\n    console.log(data.txtCorreo);\r\n    console.log(data.txtPassword);\r\n    iniciar__sesion(data.txtCorreo, data.txtPassword)\r\n      .then((cred) => {\r\n        localStorage.removeItem(\"isAdmin\");\r\n        localStorage.removeItem(\"user\");\r\n        // Signed in\r\n        auth.currentUser\r\n          .getIdTokenResult()\r\n          .then((idTokenResult) => {\r\n            // Confirm the user is an Admin.\r\n            if (!!idTokenResult.claims.admin) {\r\n              // Show admin UI.\r\n              console.log(\"SOY ADMIN\");\r\n              localStorage.setItem(\"user\", cred.user.uid);\r\n              localStorage.setItem(\"isAdmin\", true);\r\n              localStorage.setItem(\"password\", data.txtPassword);\r\n              history.push(\"/admin/home\");\r\n            } else {\r\n              // Show regular user UI.\r\n              console.log(\"NO SOY ADMIN\", cred);\r\n              localStorage.setItem(\"user\", cred.user.uid);\r\n              localStorage.setItem(\"isAdmin\", false);\r\n              localStorage.setItem(\"password\", data.txtPassword);\r\n              history.push(\"/conductor/viajes\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n        console.log(\"!! Inicio de sesin exitoso -> \" + cred.user.email);\r\n      })\r\n      .catch((error) => {\r\n        setCodeError(error.code);\r\n\r\n        console.log(\"!! error code -> \" + error.code);\r\n        console.log(\"!! error code -> \" + error.message);\r\n      });\r\n\r\n    /*\r\n      auth.signin(data.txtCorreo, data.txtPassword).then().catch((error) => {\r\n        setCodeError(error.code);\r\n      });\r\n      */\r\n  };\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        <Box className={classes.cnt__login}>\r\n          <Box className={classes.cnt__logo}>\r\n            <img src=\"/logo_login_2.png\" className={classes.logo} />\r\n          </Box>\r\n          <div className={classes.cnt_form}>\r\n            <span className={classes.title}>TRUDISTICS</span>\r\n            <form\r\n              noValidate\r\n              autoComplete=\"off\"\r\n              onSubmit={handleSubmit(onSubmit)}\r\n              className={classes.form}\r\n            >\r\n              <div className={classes.form__text}>\r\n                <Input\r\n                  name=\"txtCorreo\"\r\n                  label=\"Correo\"\r\n                  inputRef={register({ required: true })}\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <EmailRoundedIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                  fullWidth\r\n                />\r\n                {errors.txtCorreo && (\r\n                  <span className={classes.error}>Correo requerido</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className={classes.form__text}>\r\n                <Input\r\n                  type=\"password\"\r\n                  name=\"txtPassword\"\r\n                  label=\"Contrasea\"\r\n                  fullWidth\r\n                  inputRef={register({ required: true })}\r\n                  type={values.showPassword ? \"text\" : \"password\"}\r\n                  value={values.password}\r\n                  onChange={handleChange(\"password\")}\r\n                  endAdornment={\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                        aria-label=\"toggle password visibility\"\r\n                        onClick={handleClickShowPassword}\r\n                        onMouseDown={handleMouseDownPassword}\r\n                      >\r\n                        {values.showPassword ? (\r\n                          <Visibility />\r\n                        ) : (\r\n                          <VisibilityOff />\r\n                        )}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  }\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <LockRoundedIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                />\r\n                {errors.txtPassword && (\r\n                  <span className={classes.error}>Contrasea requerida</span>\r\n                )}\r\n              </div>\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  marginTop: 15,\r\n                }}\r\n              >\r\n                <button\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                >\r\n                  Iniciar Sesin\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-warning\"\r\n                  type=\"button\"\r\n                  style={{ marginTop: 10 }}\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#exampleModal\"\r\n                >\r\n                  Recuperar Contrasea\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </Box>\r\n        <div> 2021 - Trudistics</div>\r\n      </div>\r\n\r\n      <FlashMessage child={props} codeError={codeError} />\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"exampleModal\"\r\n        tabindex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                Recuperacin de contrasea\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <div style={{display : \"flex\", flexDirection : \"column\"}}>\r\n                <input type=\"email\" placeholder=\"Ingrese email...\" onChange={e => handleInputEmail(e)}></input>\r\n                {email_not_exist ? null : <strong className=\"text-danger\" style={{marginLeft : 5}}>Email no se encuentra en nuestros registros.</strong>}\r\n                {email_exist ? <strong className=\"text-success\" style={{marginLeft : 5}}>Su contrasea ha sido enviada a su correo.</strong> : null}\r\n              </div>\r\n              \r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Cerrar\r\n              </button>\r\n              <button type=\"button\" class=\"btn btn-primary\" onClick={() => recover_password()}>\r\n                Enviar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n","export const HEADER_BG_COLOR = \"#064789\";\r\nexport const MENU_LATERAL_BG_COLOR =\"#427AA1\";\r\n\r\nexport const INFO_BG_COLOR = \"#679436\";\r\nexport const INFO_TEXT_COLOR = \"#EBF2FA\";\r\n\r\nexport const DATATABLE_BG_COLOR = \"#064789\";\r\nexport const DATATABLE_TEXT_COLOR = \"#EBF2FA\";\r\n\r\n/**  HOME ADMINISTRADOR*/\r\nexport const CARDS_ADMIN_BG_COLOR = \"#679436\";\r\nexport const CARDS_ADMIN_TEXT_COLOR = \"#EBF2FA\";","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport HomeRoundedIcon from \"@material-ui/icons/HomeRounded\";\r\nimport LocalShippingRoundedIcon from \"@material-ui/icons/LocalShippingRounded\";\r\nimport GroupRoundedIcon from \"@material-ui/icons/GroupRounded\";\r\nimport DateRangeRoundedIcon from \"@material-ui/icons/DateRangeRounded\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport BusinessRoundedIcon from \"@material-ui/icons/BusinessRounded\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { db } from \"../db/firebase\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { cerrar__sesion } from \"../db/auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { HEADER_BG_COLOR } from \"../variables\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  /**         4A051C       */\r\n  root: {\r\n    background: HEADER_BG_COLOR, //\"#363457\"\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    position: \"sticky\",\r\n    top: 0,\r\n    //borderLeft: \"1px #ccc solid\",\r\n    //minHeight: '100vh',\r\n  },\r\n\r\n  cnt_avatar: {\r\n    //backgroundColor: \"blue\",\r\n    width: \"25%\",\r\n\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n\r\n    //paddingLeft : 15,\r\n    justifyContent: \"flex-end\",\r\n    //paddingLeft : 50,\r\n    paddingRight : 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n    },\r\n  },\r\n\r\n  cnt_avatar_dos: {\r\n    //backgroundColor: \"blue\",\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n  },\r\n\r\n  cnt_links: {\r\n    //backgroundColor : 'blue',\r\n\r\n    width: \"50%\", //50 para 100%\r\n\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  top: {\r\n    //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: \"25%\",\r\n    //padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"55%\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  __icon_mobile: {\r\n    //backgroundColor: \"green\",\r\n    width: \"25%\",\r\n    justifyContent: \"flex-start\",\r\n    paddingLeft : 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      width: \"25%\",\r\n      height: \"100%\",\r\n      padding: 5,\r\n    },\r\n  },\r\n\r\n  icons: {\r\n    color: \"#ccc\",\r\n    textDecoration: \"none\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  icon_mobile: {\r\n    display: \"none\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //backgroundColor : \"red\",\r\n      display: \"flex\",\r\n      width: \"50%\",\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n\r\n  menu_mobile: {\r\n    //backgroundColor: \"blue\",\r\n    //width: \"20%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  displayName: {\r\n    //backgroundImage: \"linear-gradient(to left, #c31432, #240b36)\",\r\n    width: \"auto\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderRadius: 100,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  links: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  nav__links: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"#ccc\",\r\n    fontSize: \"15px\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n    fontWeight: \"bold\",\r\n    textDecoration: \"none\",\r\n    position: \"absoluted\",\r\n    marginRight: 24,\r\n    transition: \"color 300ms ease-in-out\",\r\n\r\n    \"&:hover\": {\r\n      //backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      color: \"#ffff\",\r\n      borderBottom: \"5px solid #fff\",\r\n      paddingBottom: \"10px\",\r\n    },\r\n  },\r\n\r\n  avatar: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    borderRadius: 50,\r\n  },\r\n\r\n  username: {\r\n    color: \"#fff\",\r\n    fontSize: \"15px\",\r\n    //fontWeight: \"bold\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n    marginLeft: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 13,\r\n    },\r\n  },\r\n  icon: {\r\n    fontSize: 32,\r\n  },\r\n\r\n  logo: {\r\n    //backgroundColor : 'blue',\r\n    height: \"40px\",\r\n    width: \"40px\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  title: {\r\n    fontSize: 18,\r\n    color: \"#fff\",\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //width: \"100%\",\r\n    },\r\n  },\r\n\r\n  __active_nav: {\r\n    color: \"#fff\",\r\n  },\r\n\r\n  navigation_mobile: {\r\n    backgroundColor: \"yellow\",\r\n    zIndex: 10,\r\n  },\r\n}));\r\n\r\nconst Header = (props) => {\r\n  const { openSlideMenu, openNavigationMobileMenu } = props;\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  let history = useHistory();\r\n\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    cerrar__sesion();\r\n    history.push(\"/\");\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [refresh, setRefresh] = useState(false);\r\n  useEffect(async () => {\r\n    let user = localStorage.getItem(\"user\");\r\n    console.log(\"usuario => \", user);\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    await docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n          db.collection(\"usuario\")\r\n            .doc(doc.id)\r\n            .onSnapshot((doc) => {\r\n              console.log(\"Current data: \", doc.data());\r\n              setUsuario(doc.data());\r\n            });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          //console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const LINKS_ADMIN = [\r\n    {\r\n      text: \"INICIO\",\r\n      linkTo: \"/admin/home\",\r\n      icon: <HomeRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"USUARIOS\",\r\n      linkTo: \"/admin/conductores\",\r\n      icon: <GroupRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"CAMIONES\",\r\n      linkTo: \"/admin/camiones\",\r\n      icon: <LocalShippingRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"VIAJES\",\r\n      linkTo: \"/admin/viajes\",\r\n      icon: <DateRangeRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"EMPRESAS\",\r\n      linkTo: \"/admin/empresa\",\r\n      icon: <BusinessRoundedIcon />,\r\n    },\r\n  ];\r\n  const LINKS_CONDUCTOR = [\r\n    {\r\n      text: \"MIS VIAJES\",\r\n      linkTo: \"/conductor/viajes\",\r\n      icon: <LocalShippingRoundedIcon />,\r\n    },\r\n  ];\r\n\r\n  const classes = useStyles();\r\n\r\n  let isAdmin = localStorage.getItem(\"isAdmin\");\r\n  const links = (isAdmin) => {\r\n    if (isAdmin === \"true\") {\r\n      return (\r\n        <Box className={classes.cnt_links}>\r\n          {/** Cambiar dependiendo de los privilegios */}\r\n          <Box className={classes.links}>\r\n            {LINKS_ADMIN.map((x) => (\r\n              <NavLink\r\n                to={x.linkTo}\r\n                className={classes.nav__links}\r\n                key={x.text}\r\n                activeClassName={classes.__active_nav}\r\n              >\r\n                {x.icon}\r\n                {x.text}\r\n              </NavLink>\r\n            ))}\r\n          </Box>\r\n\r\n          <Box className={classes.menu_mobile}>\r\n            <MenuIcon />\r\n          </Box>\r\n        </Box>\r\n      );\r\n    } else if (isAdmin === \"false\") {\r\n      return (\r\n        <Box className={classes.cnt_links}>\r\n          {/** Cambiar dependiendo de los privilegios */}\r\n          <Box className={classes.links}>\r\n            {LINKS_CONDUCTOR.map((x) => (\r\n              <NavLink\r\n                to={x.linkTo}\r\n                className={classes.nav__links}\r\n                activeClassName={classes.__active_nav}\r\n              >\r\n                {x.icon}\r\n                {x.text}\r\n              </NavLink>\r\n            ))}\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {isAdmin == \"true\" ? (\r\n        <Box className={classes.__icon_mobile}>\r\n          <span>\r\n            <a href=\"#\" className={classes.icons} onClick={openSlideMenu}>\r\n              <i class=\"bi bi-list\" style={{ fontSize: 42 }}></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      ) : (\r\n        <Box className={classes.__icon_mobile}>\r\n          <span>\r\n            <a href=\"#\" className={classes.icons} onClick={openSlideMenu}>\r\n              <i class=\"bi bi-list\" style={{ fontSize: 42 }}></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      )}\r\n      {isAdmin == \"true\" ? (\r\n        <Box className={classes.icon_mobile}>\r\n          <span>\r\n            <a\r\n              href=\"#\"\r\n              className={classes.icons}\r\n              onClick={openNavigationMobileMenu}\r\n            >\r\n              <i\r\n                className=\"bi bi-caret-down-fill\"\r\n                style={{ fontSize: 40 }}\r\n              ></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {/** Cambiar dependiendo de los privilegios */}\r\n\r\n      {links(isAdmin)}\r\n      <Box className={classes.cnt_avatar}>\r\n        <Box className={classes.displayName} elevation={3}>\r\n          {/** Cambiar dependiendo del usuario que inici sesin */}\r\n          <div className={classes.cnt_avatar_dos}>\r\n            <img\r\n              alt=\"user_avatar\"\r\n              src={usuario ? usuario.photoURL === '' ? \"/default_avatar.png\" : usuario.photoURL : \"/default_avatar.png\"}\r\n              className={classes.avatar}\r\n            />\r\n          </div>\r\n\r\n          <span className={classes.username}>\r\n            {usuario ? usuario.nombres.toUpperCase() : \"\"}\r\n          </span>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n/**Components import */\r\nimport Header from \"../../components/Header\";\r\nimport {db} from \"../../db/firebase\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    backgroundColor: \"#f1f5f9\",\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n  },\r\n\r\n  __header: {\r\n    height: \"10vh\",\r\n    width: \"100vw\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginLeft: \"70px\",\r\n    },\r\n  },\r\n  __content: {\r\n    //backgroundColor: \"#d4c4fb\",\r\n    width: \"100%\",\r\n    height: \"90vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    //marginLeft: \"280px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginLeft: \"70px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Conductor_home = (props) => {\r\n  const classes = useStyles();\r\n  const [usuario, setUsuario] = useState(null);\r\n  const [viajes, setViajes] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data())\r\n          setViajes(doc.data().viajes)\r\n\r\n          doc.data().viajes.forEach(x => {\r\n            /** antes de */\r\n            if(dayjs(x.fecha.toDate()).isBefore(dayjs()) == true){\r\n              console.log(\"Viajes Anteriores => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }else if(dayjs(x.fecha.toDate()).isSame(dayjs(), 'date') == true){\r\n              console.log(\"Posee un viaje hoy => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }else if (dayjs(x.fecha.toDate()).isAfter(dayjs()) == true){\r\n              console.log(\"Proximos viajes => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }\r\n            \r\n          });\r\n\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  },[]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.__header}>\r\n        <Header />\r\n      </div>\r\n\r\n      <div className={classes.__content}>\r\n        <h1>Conductor_home</h1>\r\n        <h1>{dayjs().locale(\"es\").format(\"DD MMMM YYYY hh:mm A\")}</h1>\r\n        <h1>Viajes Totales : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        <h1>Viajes Terminados : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        <h1>Viajes Programados : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        \r\n        <Box>\r\n          <Link to=\"/\">Volver al inicio</Link>\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conductor_home;\r\n","import React from \"react\";\r\nimport { Box, Divider } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {MENU_LATERAL_BG_COLOR} from \"../variables\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: MENU_LATERAL_BG_COLOR,\r\n\r\n    //display : 'flex',\r\n    //flex : 'wrap',\r\n\r\n    width: \"100%\",\r\n\r\n    height: \"100%\",\r\n  },\r\n\r\n  footer: {\r\n    //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  top: {\r\n   //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n\r\n    marginTop: 0,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginTop: 5,\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container_icon: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n\r\n  icons: {\r\n    color: \"#ccc\",\r\n    textDecoration: \"none\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  center: {\r\n    //backgroundColor : 'blue',\r\n  },\r\n\r\n  logo: {\r\n    //backgroundColor : 'blue',\r\n    height: \"40px\",\r\n    width: \"40px\",\r\n    //marginRight: 10,\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  title: {\r\n    fontSize: 20,\r\n    color: \"#fff\",\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: 18,\r\n    },\r\n  },\r\n\r\n  __icon_mobile: {\r\n    backgroundColor: \"green\",\r\n    display: \"none\",\r\n    justifyContent: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      width: \"20%\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Side_menu = (props) => {\r\n  const { closeSlideMenu } = props;\r\n  /** recibe -> itemList , settingList */\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.top}>\r\n      <span className={classes.container_icon}>\r\n          <a href=\"#\" className={classes.icons} onClick={closeSlideMenu}>\r\n            <i\r\n              class=\"bi bi-x\"\r\n              style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}\r\n            ></i>\r\n          </a>\r\n        </span>\r\n        <img src=\"/logo_3.png\" className={classes.logo}></img>\r\n\r\n        \r\n\r\n        <Box\r\n          style={{\r\n            width: \"90%\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <span className={classes.title}>INKA SPA</span>\r\n        </Box>\r\n      </div>\r\n\r\n      <Box className={classes.center}>{props.itemList}</Box>\r\n\r\n      <Box className={classes.footer}>\r\n        <Divider />\r\n        <Box></Box>\r\n        <Box></Box>\r\n        <Box>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Side_menu;\r\n","import React from \"react\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\n\r\nimport {\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundImage: \"linear-gradient(to right, #434343 0%, black 100%)\",\r\n\r\n    //display : 'flex',\r\n    //flex : 'wrap',\r\n\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    \r\n  },\r\n\r\n  listItem: {\r\n    //backgroundColor: \"skyblue\", //** */\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    overflow: \"hidden\",\r\n    paddingTop : 50\r\n  },\r\n\r\n  listItemIcon: {\r\n    color: \"#fff\",\r\n  },\r\n  listItemText: {\r\n    color: \"#fff\",\r\n    fontSize: 15,\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n  },\r\n\r\n  topItemList: {\r\n    //backgroundColor: \"pink\",\r\n    height: \"60%\",\r\n  },\r\n\r\n  bottomItemList: {\r\n    //backgroundColor: \"green\",\r\n    height: \"40%\",\r\n  },\r\n  item: {\r\n    \"&:hover\": {\r\n      //backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      backgroundColor: \"#C1BFD9\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport const MenuTest = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={classes.listItem}>\r\n      <Box>\r\n        <List className={classes.topItemList}>\r\n          {props.admin_items.map((item, index) => (\r\n            <ListItem\r\n              button\r\n              key={item.text}\r\n              onClick={item.onClick}\r\n              disabled={item.isDisabled}\r\n              className={classes.item}\r\n            >\r\n              <ListItemIcon className={classes.listItemIcon}>\r\n                {/**ICONO HERE!!!! */}\r\n                {item.icon}\r\n              </ListItemIcon>\r\n\r\n              <ListItemText>\r\n                <span className={classes.listItemText}>{item.text}</span>\r\n              </ListItemText>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n\r\n      <Divider />\r\n      <Box>\r\n        <List className={classes.bottomItemList}>\r\n          {props.admin_settings.map((item, index) => (\r\n            <ListItem\r\n              button\r\n              key={item.text}\r\n              onClick={item.onClick}\r\n              className={classes.item}\r\n            >\r\n              <ListItemIcon className={classes.listItemIcon}>\r\n                {/**ICONO HERE!!!! */}\r\n                {item.icon}\r\n              </ListItemIcon>\r\n\r\n              <ListItemText>\r\n                <span className={classes.listItemText}>{item.text}</span>\r\n              </ListItemText>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Drawer } from \"antd\";\r\n\r\nimport { auth, db, storage } from \"./../db/firebase\";\r\nimport { cerrar__sesion } from \"./../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"./estilos_drawer_usuario.css\";\r\n\r\nconst DrawerPerfilUsuario = (props) => {\r\n  const { visible, setVisible, usuario, closeSlideMenu } = props;\r\n\r\n  const [newPass, setNewPass] = useState(\"\");\r\n  const [actualPass, setActualPass] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n\r\n  const [errorPass, setErrorPass] = useState(false);\r\n  const [succefulPass, setSuccesfulPass] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n    closeSlideMenu();\r\n\r\n    setNewPass(\"\");\r\n    setActualPass(\"\");\r\n  };\r\n\r\n  const passActual = async (e) => {\r\n    await setActualPass(e.target.value);\r\n    console.log(\"change pass => \", actualPass);\r\n  };\r\n\r\n  const passListener = (e) => {\r\n    let verify = e.target.value;\r\n\r\n    setNewPass(verify);\r\n\r\n    console.log(\"change new pass => \", verify);\r\n\r\n    console.log(verify.length);\r\n\r\n    if (verify.length > 7) {\r\n      if (/[A-Z]/.test(verify) && /[a-z]/.test(verify)) {\r\n        setDisabled(false);\r\n      } else {\r\n        setDisabled(true);\r\n      }\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  const changePassword = () => {\r\n    console.log(\"CAMBIAR BUTTON => \", actualPass);\r\n    let pass_actual = localStorage.getItem(\"password\");\r\n    console.log(\"pass acutal --> \", pass_actual);\r\n\r\n    if (pass_actual === actualPass) {\r\n      console.log(\"CONTRASEAS COINCIDEN\");\r\n      var user = auth.currentUser;\r\n      var newPassword = newPass;\r\n\r\n      user\r\n        .updatePassword(newPassword)\r\n        .then(function () {\r\n          setSuccesfulPass(true);\r\n          setTimeout(() => {\r\n            setSuccesfulPass(false);\r\n            //redirigir al login.\r\n            cerrar__sesion();\r\n            history.push(\"/\");\r\n          }, 5000);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"error => \", error);\r\n          setErrorMessage(\"Para realizar esta accin inicie sesin de nuevo.\");\r\n          setErrorPass(true);\r\n          setTimeout(() => {\r\n            setErrorPass(false);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      console.log(\"CONTRASEAS NO COINCIDEN\");\r\n      setErrorMessage(\"Contrasea acutal no coincide con nuestros registros.\");\r\n      setErrorPass(true);\r\n      setTimeout(() => {\r\n        setErrorPass(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const file = useRef();\r\n  const [photoUrl, setPhotoUrl] = useState(\"\");\r\n  const [foto_error, setFotoError] = useState(false);\r\n\r\n  const uploadPhoto = async () => {\r\n    console.log(\"ON CHANGE FOTO\");\r\n    const file_img = file.current.files[0];\r\n    //setPhotoUrl(file_name);\r\n\r\n    if (file_img) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhotoUrl(reader.result);\r\n      };\r\n      await reader.readAsDataURL(file_img);\r\n    }\r\n  };\r\n\r\n  const cambiar_foto = () => {\r\n    console.log(\"Cambiar foto\");\r\n    var userRef = db.collection(\"usuario\").doc(usuario.id);\r\n    var metadata = {\r\n      contentType: \"image/jpeg\",\r\n    };\r\n    var storageRef = storage.ref();\r\n    var pathName = \"avatars/\" + usuario.email + \".profilePhoto\";\r\n    var avatarRef = storageRef.child(pathName);\r\n\r\n    avatarRef.put(file.current.files[0], metadata).then(function (snapshot) {\r\n      avatarRef.getDownloadURL().then((x) => {\r\n        console.log(x);\r\n        // Set the \"capital\" field of the city 'DC'\r\n        return userRef\r\n          .update({\r\n            photoURL: x,\r\n          })\r\n          .then(() => {\r\n            console.log(\"Document successfully updated!\");\r\n            setFotoError(true);\r\n            setTimeout(() => {\r\n              setFotoError(false);\r\n            }, 1500);\r\n          })\r\n          .catch((error) => {\r\n            // The document probably doesn't exist.\r\n            console.error(\"Error updating document: \", error);\r\n          });\r\n      });\r\n      console.log(\"Uploaded a blob or file!\");\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(usuario);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Drawer\r\n        title=\"MI PERFIL\"\r\n        placement={\"left\"}\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        key={\"left\"}\r\n        width={300}\r\n      >\r\n        <p className=\"Title\">Mis Datos</p>\r\n\r\n        <div className=\"d-grid gap-3\">\r\n          <div className=\"border Wrapper-image-perfil\">\r\n            <img\r\n              src={photoUrl ? photoUrl : usuario ? usuario.photoURL : \"\"}\r\n              className=\"Image-perfil\"\r\n            ></img>\r\n          </div>\r\n          {foto_error ? (\r\n            <strong className=\"text-success\">Foto actualizada</strong>\r\n          ) : null}\r\n          <input\r\n            name=\"photoUrl\"\r\n            id=\"id_photoUrl\"\r\n            type=\"file\"\r\n            ref={file}\r\n            onChange={(e) => {\r\n              uploadPhoto();\r\n            }}\r\n          />\r\n          <button onClick={() => cambiar_foto()}>Cambiar Foto de Perfil</button>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.rut : \"\"}\r\n          </div>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.nombres + \" \" + usuario.apellidos : \"\"}\r\n          </div>\r\n\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.email : \"\"}\r\n          </div>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.telefono : \"\"}\r\n          </div>\r\n          <span className=\"Title\">Ajustes</span>\r\n          {errorPass ? (\r\n            <div\r\n              className=\"alert alert-danger alert-dismissible fade show\"\r\n              role=\"alert\"\r\n            >\r\n              <strong>Error: </strong> Contraseas no coinciden.\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {succefulPass ? (\r\n            <div\r\n              className=\"alert alert-success alert-dismissible fade show\"\r\n              role=\"alert\"\r\n            >\r\n              <strong>Exito: </strong> Redirigiendo....\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <span id=\"passwordHelpInline\" class=\"form-text\">\r\n            Contrasea actual:\r\n          </span>\r\n          <div className=\"input-group mb-1 mx-auto\">\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">\r\n              <i class=\"bi bi-lock-fill\"></i>\r\n            </span>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Contrasea actual\"\r\n              aria-label=\"Contrasea1\"\r\n              aria-describedby=\"basic-addon1\"\r\n              onChange={(e) => passActual(e)}\r\n              minLength=\"6\"\r\n              autocomplete=\"new-password\"\r\n            />\r\n          </div>\r\n          <span id=\"passwordHelpInline\" className=\"form-text\">\r\n            Nueva contrasea: (debe ser mayor a 7 caracteres y con una mayuscula\r\n            al menos)\r\n          </span>\r\n          <div className=\"input-group mb-1 mx-auto\">\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">\r\n              <i class=\"bi bi-lock-fill\"></i>\r\n            </span>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Contrasea nueva\"\r\n              aria-label=\"Contrasea2\"\r\n              aria-describedby=\"basic-addon2\"\r\n              onKeyUp={(e) => passListener(e)}\r\n              minLength=\"6\"\r\n              autocomplete=\"new-password\"\r\n            />\r\n          </div>\r\n          <button\r\n            className=\"btn btn-danger mt-3\"\r\n            onClick={changePassword}\r\n            disabled={disabled}\r\n          >\r\n            Cambiar Contrasea\r\n          </button>\r\n        </div>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerPerfilUsuario;\r\n","import React from \"react\";\r\nimport Tag from \"antd/lib/tag\";\r\nimport \"antd/lib/tag/style/css\";\r\n\r\nconst statusMap = {\r\n  true: <Tag color=\"green\">Completado</Tag>,\r\n  false: <Tag color=\"orange\">Programado</Tag>\r\n};\r\n\r\nexport const StatusTag = ({ status }) => statusMap[status];","\r\nimport React, { useState } from 'react'\r\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow} from \"react-google-maps\";\r\nimport usePlacesAutocomplete, {getGeocode, getLatLng,} from \"use-places-autocomplete\";\r\nimport { Loader } from \"@googlemaps/js-api-loader\"\r\n//import useOnclickOutside from \"react-cool-onclickoutside\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nfunction Map(props) {\r\n    const { empresaMarker} = props;\r\n    const [marker, setMarker] = useState({lat: -23.5325518, lng :-70.399952});\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    return (\r\n            <GoogleMap \r\n                defaultZoom={18} \r\n                defaultCenter={{lat: empresaMarker.lat, lng : empresaMarker.lng}}\r\n                \r\n                center={{lat: empresaMarker.lat, lng : empresaMarker.lng}} \r\n            >\r\n                <Marker \r\n                    position={{lat: empresaMarker.lat, lng : empresaMarker.lng}} \r\n                    onClick={() => {\r\n                        setSelected(empresaMarker);\r\n                    }}\r\n                />\r\n\r\n                {selected ? \r\n                <InfoWindow \r\n                    position={{lat: empresaMarker.lat, lng : empresaMarker.lng}}\r\n                    onCloseClick={() => {\r\n                        setSelected(null);\r\n                    }} \r\n                >\r\n                    <div>\r\n                        <h5>ej: Groot Limitada</h5>\r\n                    </div>\r\n                </InfoWindow> : null}\r\n            </GoogleMap>\r\n    )\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function GMap(props){\r\n    const {empresaMarker} = props;\r\n    return (\r\n        <div style={{width : \"90vw\" , height : \"100vh\"}}>\r\n            \r\n            <WrappedMap \r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places`}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div style={{ height: `400px` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                empresaMarker={empresaMarker}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport Map from \"./MapOnlyView\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nexport default function ModalMap_onlyView(props) {\r\n\r\n  const {empresa_cor, openModalMap, setOpenModalMap} = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalMap}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth\r\n        maxWidth={'xl'}\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\" className=\"Modal-header\">\r\n          <span className=\"Modal-title\">Ubicacin</span>\r\n        </DialogTitle>\r\n        <DialogContent className=\"Map-wrapper\">\r\n          <DialogContentText>\r\n            Descripcin de las acciones\r\n          </DialogContentText>\r\n\r\n          <Map empresaMarker={empresa_cor}/>\r\n\r\n        </DialogContent>\r\n        <DialogActions className=\"Modal-actions\">\r\n          <Button onClick={() => setOpenModalMap(false)} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\n/** imports de pdf */\r\nimport ReactPDF from \"@react-pdf/renderer\";\r\nimport { Page, Text, View, Document, StyleSheet } from \"@react-pdf/renderer\";\r\nimport { PDFViewer } from \"@react-pdf/renderer\";\r\n\r\nimport { Table } from \"antd\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  viewer: {\r\n    height: \"100%\",\r\n  },\r\n}));\r\n\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    flexDirection: \"column\",\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  header : {\r\n      backgroundColor : \"#fff\",\r\n      display :\"flex\",\r\n      flexDirection : \"row\",\r\n      borderTopWidth : 1,\r\n      borderLeftWidth : 1,\r\n      borderRightWidth : 1,\r\n      borderBottom : 1,\r\n      marginHorizontal: 10,\r\n      padding: 15,\r\n  },\r\n  row: {\r\n    marginHorizontal: 10,\r\n    borderBottomWidth : 1,\r\n    display : 'flex',\r\n    flexDirection : \"row\"\r\n  },\r\n\r\n  cell : {\r\n    width : \"20%\",\r\n    height : '100%',\r\n    //backgroundColor : \"skyblue\",\r\n    display : \"flex\",\r\n    justifyContent : 'center',\r\n    padding : 3 ,\r\n    borderRight : \"1px #ccc solid\",\r\n    borderLeft : \"1px #ccc solid\"\r\n  },\r\n\r\n  cell_2 : {\r\n    width : \"10%\",\r\n    height : '100%',\r\n    //backgroundColor : \"skyblue\",\r\n    display : \"flex\",\r\n    justifyContent : 'center',\r\n    padding : 3 ,\r\n  },\r\n\r\n  head_cell : {\r\n    width : \"20%\",\r\n    height : '100%',\r\n    //backgroundColor : \"skyblue\",\r\n    display : \"flex\",\r\n    justifyContent : 'center',\r\n    padding : 3 ,\r\n  },\r\n\r\n  text : {\r\n    fontSize : 8,\r\n  },\r\n  head_text : {\r\n    fontSize : 10,\r\n    fontWeight : \"900\"\r\n  }\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog(props) {\r\n  const classes = useStyles();\r\n\r\n  const { open, setOpen, data } = props;\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const MyDocument = () => (\r\n    <Document>\r\n      <Page size=\"A4\" style={styles.page}>\r\n        <View style={styles.section}>\r\n          <Text>Seccion</Text>\r\n        </View>\r\n  \r\n        <View style={styles.header}>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Fecha</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Nombre</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Camion</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Empresa</Text>\r\n            </View>\r\n            <View style={styles.head_cell}>\r\n              <Text style={styles.head_text}>Direccin</Text>\r\n            </View>\r\n        </View>\r\n          {data.map(x => {\r\n              return (\r\n              <View style={styles.row} key={x.fecha}>\r\n                  <View style={styles.cell}>\r\n                      <Text style={styles.text}>{x.fecha}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                      <Text style={styles.text}>{x.conductor}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                      <Text style={styles.text}>{x.camion}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                    <Text style={styles.text}>{x.direccion}</Text>\r\n                  </View>\r\n                  <View style={styles.cell}>\r\n                    <Text style={styles.text}>{x.destino}</Text>\r\n                  </View>\r\n                  <View style={styles.cell_2}>\r\n                      <Text style={styles.text}>{x.estado ? \"Completado\" : \"Programado\"}</Text>\r\n                  </View>\r\n              </View>\r\n              )\r\n          })}\r\n        \r\n      </Page>\r\n    </Document>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Reporte\r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleClose}>\r\n              Guardar\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <PDFViewer className={classes.viewer}>\r\n          <MyDocument data={data}/>\r\n        </PDFViewer>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { DatePicker } from \"antd\";\r\nimport { StatusTag } from \"../../../components/StatusTag\";\r\n\r\nimport { Select } from \"antd\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport * as dayjs from \"dayjs\";\r\nimport { Chip } from \"@material-ui/core\";\r\nimport ModalReporte from \"../../../components/modals/ModalReporte\";\r\nimport locale_ from \"antd/es/date-picker/locale/es_ES\";\r\n\r\nvar locale = require(\"dayjs/locale/es\");\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {\r\n      \r\n    },\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n      \r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \" : {\r\n      background: DATATABLE_BG_COLOR,\r\n      color : DATATABLE_TEXT_COLOR,\r\n      \r\n   },\r\n   boxShadow : '4px 4px 10px 10px rgba(0,0,0,0.1)',\r\n   backgroundColor: \"#fff\",\r\n  },\r\n\r\n  filter__section: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"20%\",\r\n    backgroundColor: \"#1D1D34\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n    padding: 5,\r\n  },\r\n\r\n  label__container: {},\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter__title: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginRight: 5,\r\n    fontWeight: \"600\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst DataTable_conductor_viajes_ant = (props) => {\r\n  const { setIsSelected, setSelectedItem, selectedItem, setViajes } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  const [conductor_id, setConductorId] = useState(null);\r\n  const [rango_fechas, setRangoFechas] = useState(null);\r\n  //const [fecha, setFecha] = useState(null);\r\n\r\n  const [filter_empresa, setFilterEmpresa] = useState(null);\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n\r\n  const [empresaList, setEmpresaList] = useState([]);\r\n\r\n  const [conductores_list, setConductoresList] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [empresa, setEmpresa] = useState(\"\");\r\n  /** LABELS STATE */\r\n\r\n  const [conductorLabel, setConductorLabel] = useState(false);\r\n  const [rangoLabel, setRangoLabel] = useState(false);\r\n  const [empresaLabel, setEmpresaLabel] = useState(false);\r\n  const [estadoLabel, setEstadoLabel] = useState(false);\r\n  const [removeFilter, setRemoveFilter] = useState(false);\r\n  const [fecha, setFecha] = useState(null);\r\n  const [filterState, setFilterState] = useState([]);\r\n\r\n  //const [empresa_cor, setEmpresaCor] = useState({});\r\n  //const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Fecha\",\r\n      dataIndex: \"fecha\",\r\n      key: \"fecha\",\r\n      render: (text) => <a>{text}</a>,\r\n      sorter: (a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? 1 : -1,\r\n      defaultSortOrder: \"descend\",\r\n    },\r\n    {\r\n      title: \"Region/Comuna\",\r\n      dataIndex: \"destino\",\r\n      key: \"marca\",\r\n    },\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"direccion\",\r\n      key: \"marca\",\r\n      render: (text, empresa) => <a className=\"text-primary\" onClick={() => ver_empresa_map(empresa.empresa_latitud, empresa.empresa_longitud)}><strong>{text}</strong></a>,\r\n    },\r\n    {\r\n      title: \"Camion\",\r\n      dataIndex: \"camion\",\r\n      key: \"patente\",\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      key: \"disponible\",\r\n      render: (text, record) => <StatusTag status={record.estado} />,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(lat, lon){\r\n    await setEmpresaCor({lat : lat, lng : lon  });\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setX(selectedRowKeys);\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item = {};\r\n    let data_camiones = {};\r\n    let conductor_item = {};\r\n\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n    const viajes = [];\r\n    await docRef.get().then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n\r\n          doc.data().viajes.forEach(async (x) => {\r\n            let viaje = {};\r\n\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:MM A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            let estado;\r\n            if (dayjs(x.fecha.toDate()).isBefore(dayjs())) {\r\n              estado = true;\r\n            } else {\r\n              estado = false;\r\n            }\r\n\r\n            var camionRef = db.collection(\"camion\").doc(x.id_camion);\r\n            let camion_info = \"\";\r\n\r\n            await camionRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                camion_info = doc.data().modelo + \" \" + doc.data().patente;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            let empresa_latitud;\r\n            let empresa_longitud;\r\n            var empresaRef = db.collection(\"empresa\").doc(x.destino);\r\n\r\n            empresaRef.get().then((empresa) => {\r\n              if (empresa.exists) {\r\n                item = {};\r\n                //console.log(\"!! 3\");\r\n\r\n                let destino = empresa.data().direccion;\r\n                let empresa_name = empresa.data().empresa;\r\n\r\n                empresa_latitud = empresa.data().latitud;\r\n                empresa_longitud = empresa.data().longitud;\r\n\r\n                item = {\r\n                  id: x.id,\r\n                  fechaSorter: x.fecha.toDate(),\r\n                  fecha: formatDate,\r\n                  conductor: doc.data().nombres,\r\n                  camion: camion_info,\r\n                  origen: x.origen,\r\n                  destino: destino,\r\n                  empresa_id: empresa.id,\r\n                  estado: estado,\r\n                  id_user: doc.id,\r\n                  id_camion: x.id_camion,\r\n                  fecha_camion: formatDate2,\r\n                  direccion: empresa_name,\r\n\r\n                  empresa_latitud : empresa_latitud,\r\n                  empresa_longitud : empresa_longitud,\r\n                };\r\n\r\n                data_camiones = {\r\n                  id_camion: x.id_camion,\r\n                  fecha: formatDate2,\r\n                };\r\n\r\n                //setFilterData([...filterData , item]);\r\n\r\n                item__list.push(item);\r\n                data_camiones__list.push(data_camiones);\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n    setTimeout(function () {\r\n      setData(item__list);\r\n      setFilterData(item__list);\r\n      setIsLoaded(false);\r\n      setViajes(item__list)\r\n    }, 1000);\r\n  };\r\n\r\n  const handleDateFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    console.log(\"Quitar filtro\");\r\n    setFilterState(data);\r\n  };\r\n\r\n  /** Select Section */\r\n  function onChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  function onSearch(val) {\r\n    console.log(\"search:\", val);\r\n  }\r\n\r\n  function onSelect(val) {\r\n    setConductorId(val);\r\n  }\r\n\r\n  function onSelectEmpresa(val) {\r\n    setFilterEmpresa(val);\r\n  }\r\n\r\n  function onSelectEstado(val) {\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function onDeleteRango() {\r\n    setRangoFechas(null);\r\n    setRangoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEmpresa() {\r\n    setFilterEmpresa(null);\r\n    setEmpresaLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEstado() {\r\n    setFilterEstado(null);\r\n    setEstadoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"APLICANDO FILTRO ...\");\r\n    setFilterData(data);\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ id_user }) => id_user === conductor_id\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n\r\n      setConductorLabel(true);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      setRangoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_empresa !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id }) => empresa_id === filter_empresa\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEmpresaLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_estado !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEstadoLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_estado !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y ESTADO\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ estado, id_user }) =>\r\n          estado === filter_estado && id_user === conductor_id\r\n      );\r\n\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR Y RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(\r\n        ({ id_user, fechaSorter }) =>\r\n          id_user === conductor_id &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado }) =>\r\n          empresa_id === filter_empresa && estado === filter_estado\r\n      );\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, id_user }) =>\r\n          empresa_id === filter_empresa && id_user === conductor_id\r\n      );\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_empresa !== null &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter }) =>\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_estado !== null &&\r\n      filter_empresa === null &&\r\n      conductor_id === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ fechaSorter, estado }) =>\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA \");\r\n      console.log(\r\n        dayjs(\"30 Abril 2021 21:04 PM\").isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ estado, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas === null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , EMPRESA Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          empresa_id === filter_empresa\r\n      );\r\n\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado, id_user }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n  }\r\n\r\n  function rangeOnChange(date, dateString) {\r\n    setRangoFechas(date);\r\n  }\r\n\r\n  function clear_filter() {\r\n    setConductorId(null);\r\n    setRangoFechas(null);\r\n    setFecha(null);\r\n    setFilterEmpresa(null);\r\n    setFilterEstado(null);\r\n\r\n    setConductorLabel(false);\r\n    setRangoLabel(false);\r\n    setEmpresaLabel(false);\r\n    setEstadoLabel(false);\r\n\r\n    setFilterData(data);\r\n  }\r\n\r\n  function create_pdf() {\r\n    setOpen(true);\r\n  }\r\n\r\n  useEffect(async() => {\r\n    await get__viajes();\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n\r\n        setEmpresaList(list__empresas);\r\n\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n\r\n      let conductor_list = [];\r\n      db.collection(\"usuario\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let conductor_item;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          conductor_item = {\r\n            id: doc.id,\r\n            nombres: doc.data().nombres,\r\n            apellidos: doc.data().apellidos,\r\n            disabled: doc.data().disabled,\r\n          };\r\n          conductor_list.push(conductor_list);\r\n        });\r\n\r\n        setConductoresList(conductor_list);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n\r\n      \r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  useEffect(async () => {\r\n    if (removeFilter === true) {\r\n      console.log(\"USE EFFECT REMOVE\");\r\n\r\n      filter_general();\r\n    }\r\n    setRemoveFilter(false);\r\n\r\n    console.log(removeFilter);\r\n  }, [removeFilter]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ModalReporte open={open} setOpen={setOpen} data={filterData} />\r\n      <div className={classes.filter__section}>\r\n        <div className={classes.label__container}>\r\n          <span className={classes.filter__title}>Filtrando por : </span>\r\n          {conductorLabel || rangoLabel || estadoLabel || empresaLabel ? (\r\n            \"\"\r\n          ) : (\r\n            <Chip\r\n              label=\"No hay filtros activos\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              onDelete={handleDelete}\r\n              clickable\r\n            />\r\n          )}\r\n          {rangoLabel ? (\r\n            <Chip\r\n              label=\"rango de fechas\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteRango}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {empresaLabel ? (\r\n            <Chip\r\n              label=\"empresa\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEmpresa}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {estadoLabel ? (\r\n            <Chip\r\n              label=\"estado\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEstado}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className={classes.filter__container}>\r\n\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por rango de fechas :</span>\r\n            <RangePicker\r\n              onChange={rangeOnChange}\r\n              locale={locale_}\r\n              value={rango_fechas}\r\n            />\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Empresa :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Empresa\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelectEmpresa}\r\n              value={filter_empresa}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {empresaList.map((x) => {\r\n                return <Option value={x.id} key={x.id}>{x.empresa}</Option>;\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Estado :</span>\r\n            <Select\r\n              id=\"state\"\r\n              showSearch\r\n              placeholder=\"Seleccione Estado\"\r\n              optionFilterProp=\"children\"\r\n              onSelect={onSelectEstado}\r\n              value={filter_estado}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              <Option value={true} key=\"1\">Completado</Option>\r\n              <Option value={false} key=\"2\">Programado</Option>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div className={classes.button__container}>\r\n          <button onClick={filter_general} className={classes.button}>\r\n            <i className=\"bi bi-filter\"></i> Filtrar\r\n          </button>\r\n          <button onClick={clear_filter} className={classes.button}>\r\n            Limpiar Filtros\r\n          </button>\r\n          <button onClick={create_pdf} className={classes.button}>\r\n            <i className=\"bi bi-file-earmark-plus-fill\"></i> Generar PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_conductor_viajes_ant;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n/**Components import */\r\nimport Header from \"../../components/Header\";\r\nimport MENU_LATERAL from \"../../components/Side_menu\";\r\nimport {MenuTest} from \"../../components/items/Menu_items\";\r\nimport DRAWERPERFILUSUARIO from \"../../components/DrawerPerfilUsuario\";\r\n\r\nimport { cerrar__sesion } from \"../../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nimport TABLA_VIAJES_CONDUCTOR from \"../admin/data_tables/DataTable_conductor_viajes_ant\";\r\n\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport EventBusyIcon from \"@material-ui/icons/EventBusy\";\r\n\r\nimport LocationOnRoundedIcon from \"@material-ui/icons/LocationOnRounded\";\r\n\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport \"./estilos_conductor_viajes.css\";\r\n\r\nimport {CARDS_ADMIN_BG_COLOR, CARDS_ADMIN_TEXT_COLOR, DATATABLE_BG_COLOR} from \"../../variables\";\r\n\r\nconst Conductor_viajes = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [usuario, setUsuario] = useState(null);\r\n  const [viajes, setViajes] = useState(null);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const [ultimo_viaje, setUltimoViaje] = useState(null);\r\n  const [proximo_viaje, setProximoViaje] = useState(\"\");\r\n  const [acutal_viaje, setActualViaje] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(async () => {\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then(async (doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n          setViajes(doc.data().viajes);\r\n          let cont = 0;\r\n\r\n          const filtro_ultimo = doc\r\n            .data()\r\n            .viajes.filter((x) => dayjs(x.fecha.toDate()).isBefore(dayjs()));\r\n\r\n          const filtro_proximo = doc\r\n            .data()\r\n            .viajes.filter((x) => dayjs(x.fecha.toDate()).isAfter(dayjs()));\r\n\r\n          const sorted_filtro_ultimo = filtro_ultimo.sort(\r\n            (a, b) => b.fecha - a.fecha\r\n          );\r\n\r\n          const sorted_filtro_proximo = filtro_proximo.sort(\r\n            (a, b) => a.fecha - b.fecha\r\n          );\r\n\r\n          const ultimo = sorted_filtro_ultimo.find((element) =>\r\n            dayjs(element.fecha.toDate()).isBefore(dayjs(), \"date\")\r\n          );\r\n          const proximo = sorted_filtro_proximo.find((element) =>\r\n            dayjs(element.fecha.toDate()).isAfter(dayjs())\r\n          );\r\n          const actual = doc\r\n            .data()\r\n            .viajes.find((element) =>\r\n              dayjs(element.fecha.toDate()).isSame(dayjs(), \"date\")\r\n            );\r\n\r\n          if (ultimo) {\r\n            var ultimoRef = db.collection(\"empresa\").doc(ultimo.destino);\r\n            await ultimoRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  ultimo.destino = doc.data().empresa;\r\n                  ultimo.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          if (actual) {\r\n            var actualRef = db.collection(\"empresa\").doc(actual.destino);\r\n            await actualRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  actual.destino = doc.data().empresa;\r\n                  actual.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          if (proximo) {\r\n            var proximoRef = db.collection(\"empresa\").doc(proximo.destino);\r\n            await proximoRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  proximo.destino = doc.data().empresa;\r\n                  proximo.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          setUltimoViaje(ultimo);\r\n          setProximoViaje(proximo);\r\n          setActualViaje(actual);\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Mi Perfil\",\r\n      icon: <AccountCircleIcon />,\r\n      onClick: () => {\r\n        setVisible(true);\r\n        //setSelectedItem(null);\r\n        //setOpenModalCamion(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <Header openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={CONDUCTOR_ITEMS}\r\n              admin_settings={[]}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        <div className=\"card-container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n          <div style={{padding : 10}}>\r\n              <span className=\"card-title\">Ultimo viaje: </span>\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje\r\n                  ? dayjs(ultimo_viaje.fecha.toDate())\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY hh:mm A\")\r\n                  : \"No posee viajes realizados\"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-title\">con destino a :</span>\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje ? ultimo_viaje.destino : \"No posee viajes realizados\"}\r\n              </span>\r\n\r\n              <br />\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje ? ultimo_viaje.direccion : \"\"}\r\n              </span>\r\n              <br />\r\n            </div>\r\n            <div className=\"icon-container\">\r\n              <EventAvailableIcon className=\"icon\" />\r\n            </div>\r\n          </div>\r\n          {acutal_viaje ? (\r\n            <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n              <div style={{padding : 10}}>\r\n                <span className=\"card-title\">Su viaje de hoy es: </span>\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje\r\n                    ? dayjs(acutal_viaje.fecha.toDate())\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY hh:mm A\")\r\n                    : \"\"}\r\n                </span>\r\n                <br />\r\n                <span className=\"card-title\">con destino a :</span>\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje ? acutal_viaje.destino : \"No posee viajes programados\"}\r\n                </span>\r\n\r\n                <br />\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje ? acutal_viaje.direccion : \"No posee viajes programados\"}\r\n                </span>\r\n                <br />\r\n              </div>\r\n              <div className=\"icon-container\">\r\n                <LocationOnRoundedIcon className=\"icon\" />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <span className=\"card-fecha\">\r\n                  No tiene viajes programados para el da de hoy.\r\n                </span>\r\n              </div>\r\n              <div className=\"icon-container\">\r\n                <LocationOnRoundedIcon className=\"icon\" />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div style={{padding : 10}}>\r\n              <span className=\"card-title\">Proximo viaje </span>\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje\r\n                  ? dayjs(proximo_viaje.fecha.toDate())\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY hh:mm A\")\r\n                  : \"\"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-title\">con destino a :</span>\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje ? proximo_viaje.destino : \"\"}{\" \"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje ? proximo_viaje.direccion : \"\"}{\" \"}\r\n              </span>\r\n              <br />\r\n            </div>\r\n            <div className=\"icon-container\">\r\n              <ScheduleIcon className=\"icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"table\">\r\n          <TABLA_VIAJES_CONDUCTOR\r\n            setSelectedItem={setSelectedItem}\r\n            setViajes={setViajes}\r\n          />\r\n        </div>\r\n        <DRAWERPERFILUSUARIO\r\n        visible={visible}\r\n        setVisible={setVisible}\r\n        usuario={usuario}\r\n        closeSlideMenu={closeSlideMenu}\r\n      />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conductor_viajes;\r\n","import React, { useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Drawer } from \"antd\";\r\n\r\nimport { auth } from \"./../db/firebase\";\r\nimport {cerrar__sesion} from \"./../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst DrawerSettings = (props) => {\r\n  const { visible, setVisible, closeSlideMenu } = props;\r\n\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [actualPass, setActualPass] = useState(\"\");\r\n  const [newPass, setNewPass] = useState(\"\");\r\n\r\n  const [errorPass, setErrorPass] = useState(false);\r\n  const [succefulPass, setSuccesfulPass] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  let history = useHistory();\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const onChangeNewPass = async (e) => {\r\n    let verify = e.target.value;\r\n    console.log(verify);\r\n\r\n    await setNewPass(verify);\r\n\r\n    if (verify.length > 7) {\r\n      if (/[A-Z]/.test(verify) && /[a-z]/.test(verify)) {\r\n        setDisabled(false);\r\n      } else {\r\n        setDisabled(true);\r\n      }\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  const changePassword = () => {\r\n    let pass_actual = localStorage.getItem(\"password\");\r\n    console.log(\"actual pass => \", actualPass);\r\n    console.log(\"new pass => \", newPass);\r\n\r\n    var user = auth.currentUser;\r\n    var newPassword = newPass;\r\n    console.log(user);\r\n\r\n    if (pass_actual === actualPass) {\r\n      console.log(\"CONTRASEAS COINCIDEN\");\r\n      var user = auth.currentUser;\r\n      var newPassword = newPass;\r\n\r\n      user\r\n        .updatePassword(newPassword)\r\n        .then(function () {\r\n          setSuccesfulPass(true);\r\n          setTimeout(() => {\r\n            setSuccesfulPass(false);\r\n            //redirigir al login.\r\n            cerrar__sesion();\r\n            history.push('/');\r\n          }, 5000);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"error => \", error);\r\n          setErrorMessage(\"Para realizar esta accin inicie sesin de nuevo.\");\r\n          setErrorPass(true);\r\n          setTimeout(() => {\r\n            setErrorPass(false);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      console.log(\"CONTRASEAS NO COINCIDEN\");\r\n      setErrorMessage(\"Contrasea acutal no coincide con nuestros registros.\");\r\n      setErrorPass(true);\r\n      setTimeout(() => {\r\n        setErrorPass(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Drawer\r\n        title=\"Administrador\"\r\n        placement={\"left\"}\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        key={\"left\"}\r\n      >\r\n        {errorPass ? \r\n          <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n            <strong>Error: </strong> Contraseas no coinciden.\r\n          </div>\r\n          :\r\n          \"\"\r\n          }\r\n          {succefulPass ? \r\n          <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n            <strong>Exito: </strong> Redirigiendo....\r\n          </div>\r\n          :\r\n          \"\"\r\n          }\r\n        <p>Contrasea actual:</p>\r\n        <div class=\"input-group mb-3 mx-auto\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">\r\n            @\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"Contrasea actual\"\r\n            aria-label=\"Contrasea\"\r\n            aria-describedby=\"basic-addon1\"\r\n            onKeyUp={(e) => setActualPass(e.target.value)}\r\n            autocomplete=\"new-password\"\r\n          />\r\n        </div>\r\n        <p>Contrasea nueva:</p>\r\n        <div class=\"input-group mb-3 mx-auto\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">\r\n            @\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"Contrasea nueva\"\r\n            aria-label=\"Contrasea\"\r\n            aria-describedby=\"basic-addon1\"\r\n            onKeyUp={(e) => onChangeNewPass(e)}\r\n            minLength=\"6\"\r\n            autocomplete=\"new-password\"\r\n          />\r\n        </div>\r\n        <p>\r\n          {disabled\r\n            ? \"La contrasea debe ser mayor de 8 caracteres.\"\r\n            : \"Contrasea Valida :)\"}\r\n        </p>\r\n        <button\r\n          class=\"btn btn-danger mt-3\"\r\n          onClick={changePassword}\r\n          disabled={disabled}\r\n        >\r\n          Cambiar Contrasea\r\n        </button>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerSettings;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\n/**import de componentes */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\n/** import de iconos */\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\n/** import de funciones base de datos */\r\nimport { db } from \"../../../db/firebase\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\n/** Estilos */\r\nimport \"./estilos_admin_home.css\";\r\nimport {CARDS_ADMIN_BG_COLOR, CARDS_ADMIN_TEXT_COLOR } from \"../../../variables\";\r\n\r\n/** Libreria para manipulacin de fechas */\r\nimport * as dayjs from \"dayjs\";\r\nvar weekOfYear = require(\"dayjs/plugin/weekOfYear\");\r\ndayjs.extend(weekOfYear);\r\n\r\nconst Admin_home = (props) => {\r\n  /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const ADMIN_HOME_ITEMS = [\r\n    {\r\n      text: \"Trudistics\",\r\n      isDisabled: true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick: () => {\r\n        setVisible(true);\r\n      },\r\n    },\r\n    {\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const [data, setData] = useState([]);\r\n  const [dataViajes, setDataViajes] = useState([]);\r\n  const [dataUsuarios, setDataUsuarios] = useState([]);\r\n  const [dataEmpresas, setDataEmpresas] = useState([]);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  const get__usuario = () => {\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          setTimeout(function () {\r\n            setDataUsuarios(result);\r\n            setIsLoaded(true);\r\n          }, 1000);\r\n        },\r\n        // Nota: es importante manejar errores aqu y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          //console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camionRef = db.collection(\"camion\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach((doc) => {\r\n      var c = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n      };\r\n      camiones.push(c);\r\n    });\r\n    setTimeout(function () {\r\n      setData(camiones);\r\n      setIsLoaded(true);\r\n    }, 1000);\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n    await db\r\n      .collection(\"usuario\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let item = {};\r\n        let data_camiones = {};\r\n        querySnapshot.forEach((doc) => {\r\n          doc.data().viajes.forEach((x) => {\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:MM A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            item = {\r\n              id: x.id,\r\n              fechaSorter: x.fecha.toDate(),\r\n              fecha: formatDate,\r\n              conductor: doc.data().nombres,\r\n              camion: x.camion,\r\n              origen: x.origen,\r\n              destino: x.destino,\r\n              estado: x.estado ? \"True\" : \"false\",\r\n              id_user: doc.id,\r\n              id_camion: x.id_camion,\r\n              fecha_camion: formatDate2,\r\n            };\r\n\r\n            data_camiones = {\r\n              id_camion: x.id_camion,\r\n              fecha: formatDate2,\r\n            };\r\n\r\n            item__list.push(item);\r\n          });\r\n        });\r\n        setDataViajes(item__list);\r\n      });\r\n  };\r\n\r\n  const get__empresas = async () => {\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setTimeout(function () {\r\n      setDataEmpresas(empresas);\r\n      setIsLoaded(true);\r\n    }, 1000);\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n    get__viajes();\r\n    get__usuario();\r\n    get__empresas();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let user = localStorage.getItem(\"user\");\r\n    console.log(\"usuario => \", user);\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          //console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n      \r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n          \r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n        \r\n      </div>\r\n\r\n      <div className={\"menu_lateral\"} ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_HOME_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        <div className=\"card_container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className={\"card_title\"}>{dataUsuarios.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">usuarios registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-person icon\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{dataViajes.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">viajes registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-calendar icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card_container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{data.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n\r\n              <span className=\"card_text\">camiones registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-truck icon\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{dataEmpresas.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">empresas registradas</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-building icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_home;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from 'antd';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function AlertDialogSlide(props) {\r\n  const {\r\n    children,\r\n    openAlert,\r\n    setOpenAlert,\r\n    selectedUser,\r\n    setSelectedUser,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  const [buttonDisabled, setButtonDisabled] = useState(true);\r\n\r\n  const delete__user = async (uid) => {\r\n    const url = \"https://trudistics-admin-server.vercel.app/api/admin/delete\";\r\n    var data = {\r\n      id: uid,\r\n    };\r\n    fetch(url, {\r\n      method: \"DELETE\", // or 'PUT'\r\n      body: JSON.stringify(data), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => console.error(\"Error:\", error))\r\n      .then((response) => {\r\n        var men = \"Usuario \" + selectedUser.email + \"ha sido eliminado.\";\r\n        enqueueSnackbar(men, {\r\n          variant: \"error\",\r\n        });\r\n      });\r\n  };\r\n\r\n  function compare(e){\r\n    console.log(e.target.value)\r\n    if(e.target.value === selectedUser.email){\r\n      setButtonDisabled(false);\r\n    }else{\r\n      setButtonDisabled(true);\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={openAlert}\r\n      TransitionComponent={Transition}\r\n      onClose={() => setSelectedUser(null)}\r\n      aria-labelledby=\"alert-dialog-slide-title\"\r\n      aria-describedby=\"alert-dialog-slide-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-slide-title\">\r\n        {\"Quieres borrar esta cuenta?\"}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Alert\r\n          message=\"Esta accin no se puede revertir\"\r\n          description={<DialogContentText id=\"alert-dialog-slide-description\" color=\"secondary\">Cuenta de usuario:{selectedUser ? \" \"+selectedUser.email : \" No hay un usuario seleccionado\"}</DialogContentText>}\r\n          type=\"error\"\r\n        />\r\n        <DialogContentText>\r\n        <span>Para confirmar que deseas borrar esta coleccin, escribe su Correo</span>\r\n        <input type=\"text\" placeholder=\"Ingrese correo\" onChange={e => compare(e)}></input>\r\n        </DialogContentText>\r\n        \r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setOpenAlert(false);\r\n            setSelectedUser(null);\r\n            closeSlideMenu();\r\n          }}\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            if (selectedUser) {\r\n              delete__user(selectedUser.id);\r\n            }\r\n\r\n            setOpenAlert(false);\r\n            setSelectedUser(null);\r\n            closeSlideMenu();\r\n          }}\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n          disabled={buttonDisabled}\r\n        >\r\n          Eliminar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\n//import { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\n//import DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n/*\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n*/\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog(props) {\r\n  //const classes = useStyles();\r\n\r\n  const [fullWidth] = React.useState(true);\r\n  const [maxWidth] = React.useState('lg');\r\n\r\n  const {\r\n    children,\r\n    openModalConductor,\r\n    setOpenModalConductor,\r\n    selectedUser,\r\n    selectedItem,\r\n    //setSelectedUser,\r\n    //title\r\n\r\n    closeSlideMenu\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalConductor}\r\n        TransitionComponent={Transition}\r\n        fullWidth={fullWidth}\r\n        maxWidth={maxWidth}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\" className={selectedItem ? \"bg-warning\" : \"bg-primary\"}>\r\n          {selectedUser ? \"Modificar Cuenta\" : \"Crear Cuenta\"}\r\n        </DialogTitle>\r\n\r\n        <DialogContent>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {setOpenModalConductor(false); closeSlideMenu()}} color=\"primary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#bed3f3\",\r\n    display: \"flex\",\r\n    alignItems : 'center'\r\n  },\r\n\r\n  icon: {\r\n    color: \"#db3e00\",\r\n    fontSize: 24,\r\n    marginRight: 5,\r\n    marginLeft: 3,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: 18,\r\n        marginLeft: 0,\r\n    },\r\n  },\r\n\r\n  text : {\r\n    fontSize: 15,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: 12,\r\n    },\r\n  }\r\n}));\r\n\r\nconst FormErrorMessage = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const { children } = props;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ErrorIcon className={classes.icon} />\r\n      <Typography \r\n        align=\"center\"\r\n        color=\"error\"\r\n        variant=\"body2\"\r\n        className={classes.text}\r\n      >\r\n        {children}\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormErrorMessage;\r\n","import React, { useRef, useState } from \"react\";\r\nimport {\r\n  TextField,\r\n  Box,\r\n  Button,\r\n  Avatar,\r\n  Backdrop,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { storage } from \"../../db/firebase\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport FormErrorMessage from \"../FormErrorMessage\";\r\n\r\nimport emailjs from \"emailjs-com\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#fff\",\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    //minHeight: '100vh',\r\n  },\r\n\r\n  container_wrap: {\r\n    //backgroundColor: \"#a4c7c2\",\r\n    width: \"65vw\",\r\n    padding: 10,\r\n\r\n    display: \"flex\",\r\n  },\r\n\r\n  container: {\r\n    //backgroundColor: \"#a4c7c2\",\r\n    width: \"60vw\",\r\n    padding: 10,\r\n  },\r\n\r\n  input__email: {\r\n    marginBottom: 10,\r\n  },\r\n\r\n  container__nombres: {\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__rut_telefono_domicilio: {\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__inputFile: {\r\n    marginTop: 15,\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__avatar: {\r\n    //backgroundColor: \"#a4bac7\",\r\n    width: \"15vw\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  avatar: {\r\n    //backgroundColor: \"#3f276c\",\r\n    width: \"100%\",\r\n    height: 200,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  input__nombres: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__rut_telefono: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__domicilio: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__file: {\r\n    width: \"50%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n\r\n  estado_input :{\r\n    height : 30,\r\n    width : \"50%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n      marginTop : 10\r\n    },\r\n  }\r\n}));\r\n\r\nconst FormConductor = (props) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const { selectedUser, setOpenModalConductor, closeSlideMenu } = props;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  //const [fileName, setFileName] = useState(\"\");\r\n  const [photoUrl, setPhotoUrl] = useState(\"\");\r\n  //const [newUser, setNewUser] = useState(null);\r\n\r\n  //const [snackBar, setSnackBar] = useState(\"\");\r\n\r\n  const file = useRef();\r\n\r\n  const uploadPhoto = async () => {\r\n    console.log(\"ON CHANGE FOTO\");\r\n    const file_img = file.current.files[0];\r\n    //setPhotoUrl(file_name);\r\n\r\n    if (file_img) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhotoUrl(reader.result);\r\n      };\r\n      await reader.readAsDataURL(file_img);\r\n    }\r\n  };\r\n\r\n  const edit__user = async (edit_user) => {\r\n    console.log(\"!!! API -> EDITARUSUARIO !!!\");\r\n    const url = \"http://localhost:4000/api/admin/edit/\";\r\n\r\n    fetch(url, {\r\n      method: \"PUT\", // or 'PUT'\r\n      body: JSON.stringify(edit_user), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => console.error(\"Error:\", error))\r\n      .then((response) => {\r\n        /** !!!!! ESTA SEGURO DE LOS CAMBIOS REALIZADOS? -> DTOS DEL USUARIO */\r\n        closeSlideMenu();\r\n        setOpenModalConductor(false);\r\n        console.log(\"Success:\", response);\r\n        var men = \"Usuario editado exitosamente.\";\r\n        enqueueSnackbar(men, {\r\n          variant: \"info\",\r\n          preventDuplicate: true,\r\n          autoHideDuration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const register__user = async (new_user) => {\r\n    console.log(\"!!! API -> REGISTRAR USUARIO !!!\");\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n\r\n    fetch(url, {\r\n      method: \"POST\", // or 'PUT'\r\n      body: JSON.stringify(new_user), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => {\r\n        //var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n        enqueueSnackbar(error, {\r\n          variant: \"success\",\r\n          autoHideDuration: 3000,\r\n        });\r\n      })\r\n      .then((response) => {\r\n        /** !!!!! ESTA SEGURO DE CREAR EL SIGUIENTE USUARIO? -> DTOS DEL USUARIO */\r\n        closeSlideMenu();\r\n        setOpenModalConductor(false);\r\n        console.log(\"res => \", response);\r\n        var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n        var variant = \"\";\r\n        if (response.code) {\r\n          switch (response.code) {\r\n            case \"auth/email-already-exists\":\r\n              men = \"Correo ya se encuentra registrado\";\r\n              variant = \"warning\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          enqueueSnackbar(men, {\r\n            variant: variant,\r\n            preventDuplicate: true,\r\n            autoHideDuration: 3000,\r\n          });\r\n        } else {\r\n          var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n          enqueueSnackbar(men, {\r\n            variant: \"success\",\r\n            autoHideDuration: 3000,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  const [random_pass, setRandomPass] = useState('');\r\n  const onSubmit = (data, e) => {\r\n    setLoading(true);\r\n    if (selectedUser) {\r\n      console.log(\"!!! MODIFICAR USUARIO !!! \", data);\r\n\r\n      var metadata = {\r\n        contentType: \"image/jpeg\",\r\n      };\r\n      var storageRef = storage.ref();\r\n      var pathName = \"avatars/\" + data.email + \".profilePhoto\";\r\n      var avatarRef = storageRef.child(pathName);\r\n\r\n      avatarRef.put(file.current.files[0], metadata).then(function (snapshot) {\r\n        avatarRef.getDownloadURL().then((x) => {\r\n          //setPhotoUrl(x);\r\n          var new_user = {\r\n            id: selectedUser.id,\r\n            email: data.email,\r\n            nombres: data.nombres,\r\n            apellidos: data.apellidos,\r\n            rut: data.rut,\r\n            telefono: data.telefono,\r\n            photoUrl: photoUrl ? x : selectedUser.photoURL,\r\n            estado : data.estado,\r\n            //domicilio : data.domicilio\r\n          };\r\n\r\n          edit__user(new_user);\r\n        });\r\n        console.log(\"Uploaded a blob or file!\");\r\n      });\r\n      //setLoading(false);\r\n    } else {\r\n      console.log(\"!!! REGISTRAR USUARIO NUEVO !!! \", data);\r\n\r\n      var metadata = {\r\n        contentType: \"image/jpeg\",\r\n      };\r\n      var storageRef = storage.ref();\r\n      var pathName = \"avatars/\" + data.email + \".profilePhoto\";\r\n      var avatarRef = storageRef.child(pathName);\r\n\r\n      avatarRef.put(file.current.files[0], metadata).then(function (snapshot) {\r\n        avatarRef.getDownloadURL().then((x) => {\r\n          setPhotoUrl(x);\r\n\r\n          console.log(data.email);\r\n          let email_split = data.email.split(\"@\");\r\n          console.log(email_split[0]);\r\n          let random_pass = email_split[0] + data.rut.slice(-5);\r\n          console.log(\"password ====> \", random_pass);\r\n          setRandomPass(random_pass);\r\n\r\n          var new_user = {\r\n            email: data.email,\r\n            nombres: data.nombres,\r\n            apellidos: data.apellidos,\r\n            rut: data.rut,\r\n            telefono: data.telefono,\r\n            photoUrl: x,\r\n            password: random_pass,\r\n            estado : data.estado,\r\n            //domicilio : data.domicilio\r\n          };\r\n\r\n          //console.log(new_user);\r\n\r\n          register__user(new_user);\r\n          /*\r\n          emailjs.sendForm(\"service_3t2jqug\",\"template_cdbcycc\",e.target,\"user_CzJpNEaTEgmDCaNX3wWLO\")\r\n            .then(\r\n              (result) => {\r\n                console.log(result.text);\r\n              },\r\n              (error) => {\r\n                console.log(error.text);\r\n              }\r\n            );\r\n            */\r\n        });\r\n        console.log(\"Uploaded a blob or file!\");\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Backdrop open={loading} className={classes.backdrop}>\r\n        <CircularProgress color=\"secondary\" />\r\n      </Backdrop>\r\n      <form\r\n        className={classes.root}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <Box className={classes.container_wrap}>\r\n          <Box>\r\n            <Box className={classes.container__avatar}>\r\n              {selectedUser ? \r\n                <Box className={classes.avatar}>\r\n                <Avatar\r\n                  alt=\"user_avatar\"\r\n                  src={\r\n                    photoUrl\r\n                      ? photoUrl\r\n                      : selectedUser\r\n                      ? selectedUser.photoURL\r\n                      : \"\"\r\n                  }\r\n                  variant=\"square\"\r\n                  className={classes.avatar}\r\n                />\r\n              </Box>\r\n              : null}\r\n              \r\n            </Box>\r\n          </Box>\r\n\r\n          <Box className={classes.container}>\r\n            <Box className={classes.input__email}>\r\n              <TextField\r\n                name=\"email\"\r\n                id=\"id_email\"\r\n                label=\"Email\"\r\n                fullWidth\r\n                inputRef={register({\r\n                  required: true,\r\n                  pattern: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\r\n                })}\r\n                defaultValue={selectedUser ? selectedUser.email : \"\"}\r\n              />\r\n              {errors.email && errors.email.type === \"required\" && (\r\n                <FormErrorMessage>'Email' es Requerido.</FormErrorMessage>\r\n              )}\r\n              {errors.email && errors.email.type === \"pattern\" && (\r\n                <FormErrorMessage>Formato de correo invalido.</FormErrorMessage>\r\n              )}\r\n            </Box>\r\n\r\n            <Box className={classes.container__nombres}>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"nombres\"\r\n                  id=\"id_nombres\"\r\n                  label=\"Nombres\"\r\n                  className={classes.input__nombres}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.nombres : \"\"}\r\n                />\r\n                {errors.nombres && errors.nombres.type === \"required\" && (\r\n                  <FormErrorMessage>'Nombre' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"apellidos\"\r\n                  id=\"id_apellidos\"\r\n                  label=\"Apellidos\"\r\n                  className={classes.input__nombres}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.apellidos : \"\"}\r\n                />\r\n                {errors.apellidos && errors.apellidos.type === \"required\" && (\r\n                  <FormErrorMessage>'Apellido' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box className={classes.container__rut_telefono_domicilio}>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"rut\"\r\n                  id=\"id_rut\"\r\n                  label=\"Rut\"\r\n                  className={classes.input__rut_telefono}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.rut : \"\"}\r\n                />\r\n\r\n                {errors.rut && errors.rut.type === \"required\" && (\r\n                  <FormErrorMessage>'Rut' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"telefono\"\r\n                  id=\"id_telefono\"\r\n                  label=\"Telefono\"\r\n                  className={classes.input__rut_telefono}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.telefono : \"\"}\r\n                />\r\n                {errors.telefono && errors.telefono.type === \"required\" && (\r\n                  <FormErrorMessage>'Telefono' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n            <Box className={classes.container__inputFile}>\r\n              {selectedUser ? \r\n              <input\r\n                name=\"photoUrl\"\r\n                id=\"id_photoUrl\"\r\n                type=\"file\"\r\n                className={classes.input__file}\r\n                ref={file}\r\n                onChange={(e) => {\r\n                  uploadPhoto();\r\n                }}\r\n            />\r\n              : null}\r\n              \r\n              <select name=\"estado\" ref={register({ required: true })} defaultValue={selectedUser ? selectedUser.estado : null} className={classes.estado_input}>\r\n                <option value=\"false\">Activo</option>\r\n                <option value=\"true\">Inactivo</option>\r\n              </select>\r\n            </Box>\r\n\r\n            <Box className={classes.container__inputFile}>\r\n              <input type=\"hidden\" value={random_pass} name=\"password\"></input>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {}} //uploadPhoto()}\r\n                type=\"submit\"\r\n              >\r\n                {selectedUser ? \"Modificar Usuario\" : \"Registrar Usuario\"}\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormConductor;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Select } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      backgroundColor: DATATABLE_BG_COLOR,\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \":\r\n      {\r\n        background: DATATABLE_BG_COLOR,\r\n        color: DATATABLE_TEXT_COLOR,\r\n      },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  buscador: {\r\n    width: \"40%\",\r\n    padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Correo\",\r\n    dataIndex: \"email\",\r\n    render: (text) => <strong className=\"\">{text}</strong>,\r\n    sorter: (a, b) => a.email.localeCompare(b.email),\r\n  },\r\n  {\r\n    title: \"Nombres\",\r\n    dataIndex: \"nombres\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"Apellidos\",\r\n    dataIndex: \"apellidos\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"Estado\",\r\n    dataIndex: \"estado\",\r\n    key: \"estado\",\r\n    render: (estado) =>\r\n      estado === \"true\" ? (<strong className=\"text-danger\">Inactivo</strong>) : (<strong className=\"text-success\">Activo</strong>),\r\n  },\r\n];\r\n\r\nconst DataTable_conductor_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedUser,\r\n    selectedUser,\r\n    setSelectedItem,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n    functionBuscar,\r\n  } = props;\r\n\r\n  const { Option } = Select;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n  const [filter_correo, setFilterCorreo] = useState(null);\r\n  const [filter_nombres, setFilterNombres] = useState(\"\");\r\n\r\n  const query = db.collection(\"usuario\");\r\n  const observerUsuario = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const get__usuario = () => {\r\n    const url = \"https://trudistics-admin-server.vercel.app/api/admin\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          console.log(result);\r\n          setTimeout(function () {\r\n            const filteredEvents = result.sort((a, b) => a.estado.localeCompare(b.estado))\r\n\r\n            setData(result);\r\n            setFilterData(filteredEvents);\r\n\r\n            setIsLoaded(false);\r\n          }, 1000);\r\n        },\r\n        // Nota: es importante manejar errores aqu y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectedRowKeys([selectedRows]);\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n\r\n      //setIsSelected(false)\r\n      setSelectedUser(selectedRows[0]);\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(formatDate);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  useEffect(async () => {\r\n    console.log(\"<----RENDER TABLA USUARIOS---->\");\r\n    await get__usuario();\r\n  }, [size, edit]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  function onSelectEstado(val) {\r\n    console.log(\"on select estado => \", val);\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function onSelectCorreo(val) {\r\n    console.log(\"on select correo => \", val);\r\n    setFilterCorreo(val);\r\n  }\r\n\r\n  function onChangeNombre(val) {\r\n    console.log(\"on change nombre => \", val.target.value);\r\n\r\n    setFilterNombres(val.target.value);\r\n\r\n    const filteredEvents = data.filter(({ nombres, email, rut }) =>\r\n      nombres.toLowerCase().includes(val.target.value.toLowerCase()) ||\r\n      email.toLowerCase().includes(val.target.value.toLowerCase())\r\n    );\r\n    \r\n    setFilterData(filteredEvents);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"filter general\");\r\n    if (filter_estado !== null && filter_correo === null) {\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (filter_estado === null && filter_correo !== null) {\r\n      const filteredEvents = data.filter(\r\n        ({ email }) => email === filter_correo\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (filter_estado !== null && filter_correo !== null) {\r\n      const filteredEvents = data.filter(\r\n        ({ estado, email }) =>\r\n          estado === filter_estado && email === filter_correo\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n  }\r\n\r\n  function limpiar_filtros() {\r\n    setFilterData(data);\r\n\r\n    setFilterCorreo(null);\r\n    setFilterEstado(null);\r\n    setFilterNombres(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        loading={isLoaded}\r\n        title={() => (\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Busqueda por Nombre o Correo...\"\r\n              onChange={(e) => onChangeNombre(e)}\r\n              value={filter_nombres}\r\n              className={classes.buscador}\r\n            />\r\n          </div>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_conductor_ant;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\nimport Alert_cerrar from \"../../../components/Alert\";\r\nimport ModalConductor from \"../../../components/modals/ModalConductor\";\r\nimport FormConductor from \"../../../components/forms/FormConductor\";\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_CONDUCTOR_ANT from \"../data_tables/DataTable_conductor_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport \"./estilos_admin_usuario.css\"\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nconst Admin_conductores = () => {\r\n /** hook drawer admin */\r\n const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  /**  */\r\n  const [openModalConductor, setOpenModalConductor] = useState(null);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key : 2,\r\n      text: \"Crear Cuenta\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {setSelectedUser(null); setOpenModalConductor(true); setSelectedItem(null)},\r\n    },\r\n    {\r\n      key : 3,\r\n      text: \"Modificar Cuenta\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalConductor(true),\r\n      isDisabled: selectedUser ? false : true,\r\n    },\r\n    {\r\n      key : 4,\r\n      text: \"Eliminar Cuenta\",\r\n      icon: <DeleteIcon />,\r\n      //onClick: () => delete__user(idUser),\r\n      //onClick: () => handleClickOpen(),\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedUser ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key : 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key : 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const fun = (user) => {\r\n    console.log(\"FROM PARENT !!!!!\" + user);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser = {selectedUser}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>USUARIOS</span></div>\r\n        <div className=\"table\">\r\n          {/*<TABLA_CONDUCTOR fun={fun} setIsSelected={setIsSelected} />*/}\r\n          <TABLA_CONDUCTOR_ANT \r\n            setSelectedUser={setSelectedUser} \r\n            setIsSelected={setIsSelected} \r\n            selectedUser={selectedUser}\r\n            setSelectedItem={setSelectedItem}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n      </div>\r\n      <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n      <Alert_cerrar\r\n        openAlert={open}\r\n        setOpenAlert={setOpen}\r\n        selectedUser={selectedUser}\r\n        setSelectedUser={setSelectedUser}\r\n        closeSlideMenu={closeSlideMenu}\r\n      ></Alert_cerrar>\r\n\r\n      <ModalConductor\r\n        openModalConductor={openModalConductor}\r\n        setOpenModalConductor={setOpenModalConductor}\r\n        selectedUser={selectedUser}\r\n        selectedItem={selectedItem}\r\n        closeSlideMenu={closeSlideMenu}\r\n      >\r\n        <FormConductor selectedUser={selectedUser} setOpenModalConductor={setOpenModalConductor} closeSlideMenu={closeSlideMenu}/>\r\n      </ModalConductor>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_conductores;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport * as dayjs from \"dayjs\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \": {\r\n      background: DATATABLE_BG_COLOR,\r\n      color: DATATABLE_TEXT_COLOR,\r\n    },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Modelo\",\r\n    dataIndex: \"modelo\",\r\n    render: (text) => <strong className=\"\">{text}</strong>,\r\n    sorter: (a, b) => a.modelo.localeCompare(b.modelo),\r\n  },\r\n  {\r\n    title: \"Marca\",\r\n    dataIndex: \"marca\",\r\n    key: \"marca\",\r\n  },\r\n  {\r\n    title: \"Patente\",\r\n    dataIndex: \"patente\",\r\n    key: \"patente\",\r\n  },\r\n  {\r\n    title: \"Estado\",\r\n    dataIndex: \"estado\",\r\n    key: \"estado\",\r\n    render: (estado) =>\r\n      estado === \"true\" ? (<strong style={{ color: \"red\" }}>Inactivo</strong>) : (<strong className=\"text-primary\">Activo</strong>),\r\n  },\r\n];\r\n\r\nconst DataTable_camion_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    mensaje_accion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n  } = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(false);\r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(formatDate);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camionRef = db.collection(\"camion\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach((doc) => {\r\n      var c = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n        estado : doc.data().estado,\r\n      };\r\n      camiones.push(c);\r\n    });\r\n    setTimeout(function () {\r\n      const filteredEvents = camiones.sort((a, b) => a.estado.localeCompare(b.estado) || a.modelo.localeCompare(b.modelo)) \r\n      setData(filteredEvents);\r\n      setIsLoaded(false);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_camion_ant;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport emailjs from 'emailjs-com';\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from 'antd';\r\n\r\nimport * as dayjs from \"dayjs\";\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function ConfirmAlert(props) {\r\n  const {\r\n    title,\r\n    description,\r\n    action,\r\n\r\n    children,\r\n    openAlert,\r\n    setOpenAlert,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    men,\r\n    email_destino,\r\n    closeSlideMenu\r\n  } = props;\r\n\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const [buttonDisabled, setButtonDisabled] = useState(true);\r\n  function compare(e){\r\n    console.log(e.target.value)\r\n    if(e.target.value === men){\r\n      setButtonDisabled(false);\r\n    }else{\r\n      setButtonDisabled(true);\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={openAlert}\r\n      TransitionComponent={Transition}\r\n      onClose={() => setSelectedItem(null)}\r\n      aria-labelledby=\"alert-dialog-slide-title\"\r\n      aria-describedby=\"alert-dialog-slide-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-slide-title\">\r\n        {title}\r\n      </DialogTitle>\r\n      <DialogContent style={{display : \"flex\", flexDirection : \"column\"}}>\r\n        \r\n        <Alert\r\n          message={<div><strong>{men}</strong> (Esta accin no se puede revertir.)</div>}\r\n          description={<DialogContentText id=\"alert-dialog-slide-description\" color=\"secondary\">{description}</DialogContentText>}\r\n          type=\"error\"\r\n        />\r\n\r\n        <DialogContentText>\r\n          <span>Para confirmar que deseas borrar esta coleccin, escribe su \"------\"</span>\r\n          \r\n        </DialogContentText>\r\n        <input type=\"text\" placeholder=\"Ingrese correo\" className=\"form-control\" onChange={e => compare(e)} style={{justifySelf : \"center\"}}></input>\r\n        \r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setSelectedItem(null);\r\n            setOpenAlert(false);\r\n            closeSlideMenu();\r\n            \r\n          }}\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <form onSubmit={(e)=>{\r\n          e.preventDefault();\r\n          emailjs.sendForm('service_3t2jqug', 'template_60oxr8w', e.target, 'user_CzJpNEaTEgmDCaNX3wWLO')\r\n          .then((result) => {\r\n            console.log(result.text);\r\n            setSelectedItem(null);\r\n          }, (error) => {\r\n            console.log(error.text);\r\n          })}}>\r\n          <input type=\"hidden\" value={\"Viaje Cancelado\"}  name=\"subject\" required></input>\r\n          <input type=\"hidden\" value={\"Su viaje del da \"+ dayjs(selectedItem ? selectedItem.fecha : '').locale(\"es\").format(\"DD MMMM YYYY HH:mm A\")+\" ha sido cancelado.\"} name=\"fecha\"></input>\r\n          <input type=\"hidden\" value={email_destino} name=\"email\" required></input>\r\n          <Button\r\n            type=\"submit\"\r\n            onClick={() => {\r\n              action();\r\n              setOpenAlert(false);\r\n              closeSlideMenu();\r\n              \r\n            }}\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            disabled={buttonDisabled}\r\n          >\r\n            Eliminar\r\n          </Button>\r\n        </form>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function ModalCamionDos(props) {\r\n\r\n  const { title, description, children, openModalCamion, setOpenModalCamion,setSelectedItem, selectedItem, closeSlideMenu } = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalCamion}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\"className={selectedItem ? \"bg-warning\" : \"bg-primary\"}>\r\n        {selectedItem ? <span className=\"text-dark\">Editar Camin</span> : <span className=\"text-white\">Agregar Camin</span>}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {description}\r\n          </DialogContentText>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {setOpenModalCamion(false); setSelectedItem(null);closeSlideMenu(); }} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { TextField, Box, Button, Avatar } from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#c7bfa4\",\r\n\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  inputs: {\r\n    marginBottom: 15,\r\n  },\r\n\r\n  input_estado : {\r\n    fontSize : 16,\r\n    width : \"100%\",\r\n    height : 30,\r\n    marginBottom: 15,\r\n  },\r\n}));\r\n\r\nconst FormConductor = (props) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const { selectedItem, setSelectedItem, setOpenModalCamion, closeSlideMenu } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  const register__camion = async (new_camion) => {\r\n    const res = await db.collection(\"camion\").add({\r\n      modelo: new_camion.modelo,\r\n      marca: new_camion.marca,\r\n      patente: new_camion.patente,\r\n      estado : new_camion.estado,\r\n    });\r\n\r\n    console.log(\"Added document with ID: \", res.id);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const edit__camion = async (data) => {\r\n    const camionRef = db.collection(\"camion\").doc(selectedItem.id);\r\n\r\n    // Set the 'capital' field of the city\r\n    const res = await camionRef.update({\r\n      modelo: data.modelo,\r\n      marca: data.marca,\r\n      patente: data.patente,\r\n      estado : data.estado,\r\n    });\r\n\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(data);\r\n    if (selectedItem) {\r\n      var men = \"Camion PATENTE: \" + selectedItem.patente + \" editado exitosamente.\";\r\n      edit__camion(data);\r\n      setOpenModalCamion(false);\r\n      setSelectedItem(null);\r\n\r\n      enqueueSnackbar(men, {\r\n        variant: \"info\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    } else {\r\n      register__camion(data);\r\n      var men = \"Camion PATENTE: \" + data.patente + \" creado exitosamente.\";\r\n      setOpenModalCamion(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form onSubmit={handleSubmit(onSubmit)} className={classes.root}>\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"modelo\"\r\n          label=\"Modelo\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.modelo : \"\"}\r\n        />\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"marca\"\r\n          label=\"Marca\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.marca : \"\"}\r\n        />\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"patente\"\r\n          label=\"Patente\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.patente : \"\"}\r\n        />\r\n        <select\r\n          name=\"estado\"\r\n          ref={register({ required: true })}\r\n          defaultValue={selectedItem ? selectedItem.estado : null}\r\n          className={classes.input_estado}\r\n\r\n        >\r\n          <option value=\"false\" className={classes.option_text}>Activo</option>\r\n          <option value=\"true\" className={classes.option_text}>Inactivo</option>\r\n        </select>\r\n        <button type=\"submit\" className={selectedItem ? \"btn btn-outline-warning\" : \"btn btn-outline-primary\"}>\r\n          {selectedItem ? \"Editar Camin\" : \"Registrar Camin\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormConductor;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_CAMION_ANT from \"../data_tables/DataTable_camion_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\nimport ModalCamion from \"../../../components/modals/ModalCamion\";\r\nimport FormCamion from \"../../../components/forms/FormCamion\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nimport \"./estilos_admin_camion.css\";\r\n\r\nconst Admin_conductores = () => {\r\n   /** hook drawer admin */\r\n   const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const [isSelected, setIsSelected] = useState(true);\r\n\r\n  /**  */\r\n  const [openModalCamion, setOpenModalCamion] = useState(null);\r\n\r\n  const [mensaje_accion, setMensajeAccion] = useState([]);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__camion = async () => {\r\n    const res = await db.collection(\"camion\").doc(selectedItem.id).delete();\r\n    var men = \"Camion PATENTE: \" + selectedItem.patente + \" ha sido eliminado.\";\r\n    enqueueSnackbar(men, {\r\n      variant: \"error\",\r\n      autoHideDuration: 3000,\r\n    });\r\n    setMensajeAccion({ mensaje: men, type: \"error\" });\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Agregar Camion\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalCamion(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Camion\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalCamion(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Camion\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n      \r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>CAMIONES</span></div>\r\n\r\n        <div className=\"table\">\r\n          {/** Tabla camiones */}\r\n          <TABLA_CAMION_ANT\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            mensaje_accion={mensaje_accion}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalCamion\r\n          title={\"Camion\"}\r\n          description={\"Descripcin de la accion a realizar\"}\r\n          openModalCamion={openModalCamion}\r\n          setOpenModalCamion={setOpenModalCamion}\r\n          setSelectedItem={setSelectedItem}\r\n          selectedItem={selectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        >\r\n          <FormCamion\r\n            selectedItem={selectedItem}\r\n            setOpenModalCamion={setOpenModalCamion}\r\n            setSelectedItem={setSelectedItem}\r\n            closeSlideMenu={closeSlideMenu}\r\n          />\r\n        </ModalCamion>\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"Quieres borrar este camin?\"}\r\n          description={\r\n            \"Esta accin borrar permanentemente los datos del camion.\"\r\n          }\r\n          action={delete__camion}\r\n          men={selectedItem ? selectedItem.patente : null}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        ></ConfirmAlert>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_conductores;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db, fire } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport { DatePicker, Select } from \"antd\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport ModalReporte from \"../../../components/modals/ModalReporte\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { StatusTag } from \"../../../components/StatusTag\";\r\nimport { StatusFilter } from \"../../../components/StatusFilter\";\r\nimport { DateFilter } from \"../../../components/DateFilter\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport \"moment/locale/es\";\r\nimport locale from \"antd/es/date-picker/locale/es_ES\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\nvar isBetween = require(\"dayjs/plugin/isBetween\");\r\ndayjs.extend(isBetween);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \":\r\n      {\r\n        background: DATATABLE_BG_COLOR,\r\n        color: DATATABLE_TEXT_COLOR,\r\n      },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n\r\n  filter__section: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"20%\",\r\n    backgroundColor: \"#1D1D34\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n    padding: 5,\r\n  },\r\n\r\n  label__container: {},\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter__title: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginRight: 5,\r\n    fontWeight: \"600\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst DataTable_viajes_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    user__id,\r\n    setUser__id,\r\n    setCamion__id,\r\n    setDataCamionFecha,\r\n    setFechaCamion,\r\n    setItemToDelete,\r\n    setConductor,\r\n    setDireccion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n    setEmailDestino,\r\n  } = props;\r\n\r\n  const { RangePicker } = DatePicker;\r\n  const { Option } = Select;\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  const [removeFilter, setRemoveFilter] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const [stateName, setStateName] = useState(\"\");\r\n\r\n  /** filtros */\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [filterState, setFilterState] = useState([]);\r\n\r\n  const [conductor_id, setConductorId] = useState(null);\r\n  const [rango_fechas, setRangoFechas] = useState(null);\r\n  const [fecha, setFecha] = useState(null);\r\n\r\n  const [filter_empresa, setFilterEmpresa] = useState(null);\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n\r\n  const [empresaList, setEmpresaList] = useState([]);\r\n\r\n  const [conductores_list, setConductoresList] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [empresa, setEmpresa] = useState(\"\");\r\n  /** LABELS STATE */\r\n\r\n  const [conductorLabel, setConductorLabel] = useState(false);\r\n  const [rangoLabel, setRangoLabel] = useState(false);\r\n  const [empresaLabel, setEmpresaLabel] = useState(false);\r\n  const [estadoLabel, setEstadoLabel] = useState(false);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Fecha\",\r\n      dataIndex: \"fecha\",\r\n      render: (text) => <strong>{text}</strong>,\r\n  \r\n      sorter: (a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? 1 : -1,\r\n      defaultSortOrder: \"descend\",\r\n    },\r\n  \r\n    {\r\n      title: \"Conductor\",\r\n      dataIndex: \"conductor\",\r\n      key: \"conductor\",\r\n    },\r\n    {\r\n      title: \"Camion\",\r\n      dataIndex: \"camion\",\r\n      key: \"camion\",\r\n    },\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"direccion\",\r\n      key: \"direccion\",\r\n      render: (text, empresa) => <a className=\"text-primary\" onClick={() => ver_empresa_map(empresa.empresa_latitud, empresa.empresa_longitud)}><strong>{text}</strong></a>,\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      key: \"estado\",\r\n      render: (text, record) => <StatusTag status={record.estado} />,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(lat, lon){\r\n    console.log(\"Ver empresa\", empresa);\r\n    // abrir modal\r\n    //entregar lat y lng\r\n\r\n    await setEmpresaCor({lat : lat, lng : lon  });\r\n\r\n    console.log(empresa_cor);\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"APLICANDO FILTRO ...\");\r\n    setFilterData(data);\r\n    console.log(\"filtered data => \", filterData);\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ id_user }) => id_user === conductor_id\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n\r\n      setConductorLabel(true);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      setRangoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_empresa !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id }) => empresa_id === filter_empresa\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEmpresaLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_estado !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEstadoLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_estado !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y ESTADO\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ estado, id_user }) =>\r\n          estado === filter_estado && id_user === conductor_id\r\n      );\r\n\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR Y RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(\r\n        ({ id_user, fechaSorter }) =>\r\n          id_user === conductor_id &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, id_user }) =>\r\n          empresa_id === filter_empresa && id_user === conductor_id\r\n      );\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_empresa !== null &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter }) =>\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado }) =>\r\n          empresa_id === filter_empresa && estado === filter_estado\r\n      );\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_estado !== null &&\r\n      filter_empresa === null &&\r\n      conductor_id === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ fechaSorter, estado }) =>\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA \");\r\n      console.log(\r\n        dayjs(\"30 Abril 2021 21:04 PM\").isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ estado, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas === null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , EMPRESA Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          empresa_id === filter_empresa\r\n      );\r\n\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado, id_user }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    /**\r\n     * Filtro por region y comuna\r\n     * Filtro por empresa\r\n     */\r\n\r\n    //console.log(filteredEvents);\r\n  }\r\n\r\n  function clear_filter() {\r\n    setConductorId(null);\r\n    setRangoFechas(null);\r\n    setFecha(null);\r\n    setFilterEmpresa(null);\r\n    setFilterEstado(null);\r\n\r\n    setConductorLabel(false);\r\n    setRangoLabel(false);\r\n    setEmpresaLabel(false);\r\n    setEstadoLabel(false);\r\n\r\n    setFilterData(data);\r\n  }\r\n\r\n  const handleFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      //console.log(\"DATA FILTER => \",filteredEvents)\r\n      setStateName(\"Completados\");\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      //console.log(\"DATA FILTER => \",filteredEvents)\r\n      setStateName(\"Programados\");\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleDateFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 0) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isSame(\"2021-10-01\", \"month\")\r\n      );\r\n      console.log(\"DATA FILTER => \", filteredEvents);\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      console.log(\"DATA FILTER => \", filteredEvents);\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  function onChangeMonth(date, dateString) {\r\n    setFecha(date);\r\n  }\r\n\r\n  function rangeOnChange(date, dateString) {\r\n    setRangoFechas(date);\r\n  }\r\n\r\n  const query2 = db.collection(\"usuario\");\r\n  const observerUsuario = query2.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      setEmailDestino(selectedRows[0].email);\r\n      var selected__viaje = {\r\n        id: selectedRows[0].id,\r\n        fecha: selectedRows[0].fechaSorter,\r\n        camion: selectedRows[0].id_camion,\r\n        origen: selectedRows[0].origen,\r\n        destino: selectedRows[0].empresa_id,\r\n        id_camion: selectedRows[0].id_camion,\r\n      };\r\n\r\n      var delete__viaje = {\r\n        id: selectedRows[0].id,\r\n        fecha: selectedRows[0].fechaSorter,\r\n        camion: selectedRows[0].id_camion,\r\n        origen: selectedRows[0].origen,\r\n        destino: selectedRows[0].empresa_id,\r\n        id_camion: selectedRows[0].id_camion,\r\n      };\r\n\r\n      console.log(\"Data => \", selectedRows[0]);\r\n\r\n      console.log(\"Viaje seleccionado => \", selected__viaje);\r\n      console.log(\"Viaje a borrar => \", delete__viaje);\r\n      console.log(\"Usuario seleccionado => \", selectedRows[0].id_user);\r\n\r\n      setConductor(selectedRows[0].conductor);\r\n      setSelectedItem(selected__viaje);\r\n      setItemToDelete(delete__viaje);\r\n\r\n      setUser__id(selectedRows[0].id_user);\r\n\r\n      setFechaCamion(selectedRows[0].fecha_camion);\r\n      setCamion__id(selectedRows[0].id_camion);\r\n      setDireccion(selectedRows[0].destino + \", \" + selectedRows[0].direccion);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n    let conductor_list = [];\r\n\r\n    db.collection(\"usuario\")\r\n      .where(\"email\", \"!=\", \"administrador@trudistic.cl\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let item = {};\r\n        let data_camiones = {};\r\n        let conductor_item = {};\r\n\r\n        querySnapshot.forEach((doc) => {\r\n          item = {};\r\n          /** OBTENGO A LOS USUARIOS REGISTRADOS */\r\n          conductor_item = {\r\n            id: doc.id,\r\n            nombres: doc.data().nombres,\r\n            apellidos: doc.data().apellidos,\r\n            disabled: doc.data().disabled,\r\n          };\r\n          conductor_list.push(conductor_item);\r\n\r\n          doc.data().viajes.forEach(async (x) => {\r\n            //console.log(\"!! 1\");\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:m A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            let estado;\r\n            if (dayjs(x.fecha.toDate()).isBefore(dayjs())) {\r\n              estado = true;\r\n            } else {\r\n              estado = false;\r\n            }\r\n\r\n            var empresaRef = db.collection(\"empresa\").doc(x.destino);\r\n            var camionRef = db.collection(\"camion\").doc(x.id_camion);\r\n            let camion_info = \"\";\r\n\r\n            await camionRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                camion_info = doc.data().modelo + \" \" + doc.data().patente;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            let empresa_info = \"\";\r\n            let destino = \"\";\r\n            let idEmpresa = \"\";\r\n            let empresa_latitud;\r\n            let empresa_longitud;\r\n\r\n            await empresaRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                idEmpresa = doc.id;\r\n                empresa_info = doc.data().empresa;\r\n                destino = doc.data().direccion;\r\n\r\n                empresa_latitud = doc.data().latitud;\r\n                empresa_longitud = doc.data().longitud;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            item = {};\r\n            //console.log(\"!! 3\");\r\n\r\n            item = {\r\n              id: x.id,\r\n              email : doc.data().email,\r\n              fechaSorter: x.fecha.toDate(),\r\n              fecha: formatDate,\r\n              conductor: doc.data().nombres + \" \" + doc.data().apellidos,\r\n              camion: camion_info ? camion_info : x.id_camion,\r\n              origen: x.origen,\r\n              destino: destino,\r\n              empresa_id: idEmpresa ? idEmpresa : x.destino,\r\n              estado: estado,\r\n              id_user: doc.id,\r\n              id_camion: x.id_camion,\r\n              fecha_camion: formatDate2,\r\n              direccion: empresa_info ? empresa_info : \"Empresa eliminada...\",\r\n\r\n              empresa_latitud : empresa_latitud,\r\n              empresa_longitud : empresa_longitud,\r\n            };\r\n\r\n            data_camiones = {\r\n              id_camion: x.id_camion,\r\n              fecha: formatDate2,\r\n            };\r\n\r\n            //setFilterData([...filterData , item]);\r\n\r\n            item__list.push(item);\r\n            data_camiones__list.push(data_camiones);\r\n\r\n            //console.log(doc.data().viajes.length);\r\n          });\r\n        });\r\n        setTimeout(function () {\r\n          //console.log(\"!! 4\");\r\n          setDataCamionFecha(data_camiones__list);\r\n          setData(item__list);\r\n          const finalFilter = item__list.sort((a, b) =>\r\n            dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n          );\r\n          setFilterData(finalFilter);\r\n          setFilterState(item__list);\r\n          const filteredEvents = conductor_list.filter(\r\n            ({ disabled }) => disabled !== \"true\"\r\n          );\r\n          setConductoresList(conductor_list);\r\n        }, 500);\r\n      });\r\n    //console.log(\"conductores list =>\",conductores_list)\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    console.log(\"Quitar filtro\");\r\n    setFilterState(data);\r\n  };\r\n\r\n  /** Select Section */\r\n  function onChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  function onSearch(val) {\r\n    console.log(\"search:\", val);\r\n  }\r\n\r\n  function onSelect(val) {\r\n    setConductorId(val);\r\n  }\r\n\r\n  function onSelectEmpresa(val) {\r\n    setFilterEmpresa(val);\r\n  }\r\n\r\n  function onSelectEstado(val) {\r\n    console.log(\"oin select estado => \", val);\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function create_pdf() {\r\n    console.log(\"CREAR PDF\");\r\n    setOpen(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    //console.log(\"EFFECT\");\r\n    get__viajes();\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n        //console.log(list__empresas);\r\n\r\n        setEmpresaList(list__empresas);\r\n\r\n        //console.log(empresaList);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    //console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  useEffect(async () => {\r\n    if (removeFilter === true) {\r\n      console.log(\"USE EFFECT REMOVE\");\r\n\r\n      filter_general();\r\n    }\r\n    setRemoveFilter(false);\r\n\r\n    console.log(removeFilter);\r\n  }, [removeFilter]);\r\n\r\n  const classes = useStyles();\r\n\r\n  function onDeleteConductor() {\r\n    console.log(\"Remover filtro conductor\");\r\n    setConductorLabel(null);\r\n    setConductorId(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteRango() {\r\n    console.log(\"Remover filtro rango de fechas\");\r\n    setRangoFechas(null);\r\n    setRangoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEmpresa() {\r\n    console.log(\"Remover filtro empresa\");\r\n    setFilterEmpresa(null);\r\n    setEmpresaLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEstado() {\r\n    console.log(\"Remover filtro estado\");\r\n    setFilterEstado(null);\r\n    setEstadoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.filter__section}>\r\n        <div className={classes.label__container}>\r\n          <span className={classes.filter__title}>Filtrando por : </span>\r\n          {conductorLabel || rangoLabel || empresaLabel ? (\r\n            \"\"\r\n          ) : (\r\n            <Chip\r\n              label=\"No hay filtros activos\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              onDelete={handleDelete}\r\n              clickable\r\n            />\r\n          )}\r\n          {conductorLabel ? (\r\n            <Chip\r\n              label=\"conductor\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteConductor}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {rangoLabel ? (\r\n            <Chip\r\n              label=\"rango de fechas\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteRango}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {empresaLabel ? (\r\n            <Chip\r\n              label=\"empresa\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEmpresa}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {estadoLabel ? (\r\n            <Chip\r\n              label=\"estado\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEstado}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className={classes.filter__container}>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por conductor :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Conductor\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelect}\r\n              value={conductor_id}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {conductores_list.map((x) => {\r\n                return (\r\n                  <Option value={x.id} key={x.id}>{x.nombres + \" \" + x.apellidos}</Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </div>\r\n\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por rango de fechas :</span>\r\n            <RangePicker\r\n              onChange={rangeOnChange}\r\n              locale={locale}\r\n              value={rango_fechas}\r\n            />\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Empresa :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Empresa\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelectEmpresa}\r\n              value={filter_empresa}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {empresaList.map((x) => {\r\n                return <Option value={x.id} key={x.id}>{x.empresa}</Option>;\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Estado :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Estado\"\r\n              optionFilterProp=\"children\"\r\n              onSelect={onSelectEstado}\r\n              value={filter_estado}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              <Option value={true} key=\"1\">Completado</Option>\r\n              <Option value={false} key=\"2\">Programado</Option>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div className={classes.button__container}>\r\n          <button onClick={filter_general} className={classes.button}>\r\n            <i className=\"bi bi-filter\"></i> Filtrar\r\n          </button>\r\n          <button onClick={clear_filter} className={classes.button}>\r\n            Limpiar Filtros\r\n          </button>\r\n          <button onClick={create_pdf} className={classes.button}>\r\n            <i className=\"bi bi-file-earmark-plus-fill\"></i> Generar PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={false}\r\n      />\r\n\r\n      <ModalReporte open={open} setOpen={setOpen} data={filterData} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_viajes_ant;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Radio, Divider, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport * as dayjs from 'dayjs'\r\n\r\nvar locale_de = require('dayjs/locale/es')\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Correo\",\r\n    dataIndex: \"email\",\r\n    render: (text) => <a>{text}</a>,\r\n    sorter: (a, b) => a.email.localeCompare(b.email),\r\n  },\r\n  {\r\n    title: \"Nombres\",\r\n    dataIndex: \"nombres\",\r\n    key: \"id\",\r\n    responsive: ['sm'],\r\n  },\r\n  {\r\n    title: \"Apellidos\",\r\n    dataIndex: \"apellidos\",\r\n    key: \"id\",\r\n    responsive: ['sm'],\r\n    \r\n  },\r\n  {\r\n    title: \"Rut\",\r\n    dataIndex: \"rut\",\r\n    key: \"rut\",\r\n    responsive: ['xl'],\r\n  },\r\n];\r\n\r\n\r\n\r\n\r\nconst DataTable_select_conductor = (props) => {\r\n  const {setIsSelected, setSelectedUser, selectedUser, selectedItem, setConductor} = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const query = db.collection(\"usuario\");\r\n  const observerUsuario = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach(change => {\r\n        if (change.type === 'modified') {\r\n          setEdit(!edit)\r\n          \r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const get__usuario = () => {\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          setTimeout(function(){ setData(result);; setIsLoaded(false)}, 1000);\r\n          \r\n        },\r\n        // Nota: es importante manejar errores aqu y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  };\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [x, setX] = useState([]);\r\n  const rowSelection = {\r\n    selectedRowKeys : x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectedRowKeys([selectedRows])\r\n      setX(selectedRowKeys)\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0].nombres\r\n      );\r\n      \r\n      //setIsSelected(false)\r\n      setSelectedUser(selectedRows[0])\r\n      if(selectedItem){\r\n        selectedItem.conductor = selectedRows[0].nombres;\r\n        setConductor(selectedRows[0].nombres);\r\n      }\r\n      \r\n\r\n     \r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale('es').format(\"DD MMM. YYYY\")\r\n      \r\n      console.log(formatDate);\r\n\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  useEffect(() => {\r\n    get__usuario();\r\n  }, [size, edit]);\r\n\r\n \r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n  const Usuario = () => {\r\n    return(\r\n      <span>Usuario seleccionado: {selectedUser\r\n        ? <Text strong> {selectedUser.email}</Text>\r\n        : \" Pinche en una fila para seleccionar usuario.\"} <Button onClick={() => setX([])}>X</Button></span>\r\n    )\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: 'max-content' }}\r\n        size=\"small\"\r\n        title={() => <Usuario/>}\r\n\r\n        pagination={{ position: ['bottom', 'left'] , defaultPageSize: 5}}\r\n        bordered ={true}\r\n        className={classes.root}\r\n        loading={isLoaded}\r\n\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_select_conductor;","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from 'antd';\r\nimport * as dayjs from 'dayjs'\r\n\r\nvar locale_de = require('dayjs/locale/es')\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Modelo\",\r\n    dataIndex: \"modelo\",\r\n    render: (text) => <a>{text}</a>,\r\n    sorter: (a, b) => a.modelo.localeCompare(b.modelo),\r\n    defaultSortOrder: 'ascend',\r\n  },\r\n  {\r\n    title: \"Marca\",\r\n    dataIndex: \"marca\",\r\n    key: \"marca\",\r\n    responsive: ['sm'],\r\n  },\r\n  {\r\n    title: \"Patente\",\r\n    dataIndex: \"patente\",\r\n    key: \"patente\",\r\n    responsive: ['sm'],\r\n    \r\n  },\r\n];\r\n\r\n\r\n\r\n\r\nconst DataTable_select_viaje = (props) => {\r\n  const {setIsSelected, setSelectedItem, selectedItem, setSelectedCamion, dataCamionFecha, date} = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState('');\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach(change => {\r\n        if (change.type === 'modified') {\r\n          setEdit(!edit)\r\n          \r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys : x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setX(selectedRowKeys)\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedCamion(selectedRows[0])\r\n      if(selectedItem){\r\n        console.log(\"holas :)\")\r\n        selectedItem.camion = selectedRows[0].modelo + \"/\"+ selectedRows[0].marca +\" / \"+selectedRows[0].patente;\r\n      }\r\n\r\n     \r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale('es').format(\"DD MMM. YYYY\")\r\n      \r\n      console.log(formatDate);\r\n\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camiones = [];\r\n    db.collection('camion')\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        console.log(\"!!!!!!!!!!!!!\");\r\n        let item = {};\r\n        querySnapshot.forEach((doc) => {\r\n\r\n            var c = {\r\n              id : doc.id,\r\n              modelo : doc.data().modelo,\r\n              marca : doc.data().marca,\r\n              patente : doc.data().patente,\r\n              disponible : doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n            }\r\n            camiones.push(c);\r\n          \r\n        });\r\n      })\r\n  setTimeout(function(){ setData(camiones); setIsLoaded(false)}, 1000);\r\n\r\n  }\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"CAMION_FECHA  => \",dataCamionFecha)\r\n    var formatDate = dayjs(date)\r\n      .locale(\"es\")\r\n      .format(\"DD MMMM YYYY\");\r\n    console.log(\"FECHA_SELECCIONADA => \",formatDate)\r\n    if(selectedItem === null){\r\n      setX([]);\r\n    }\r\n    \r\n  }, [selectedItem]);\r\n\r\n  \r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Alert message=\"Importante! Solo se muestran los camiones disponibles.\" type=\"warning\" />\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: 'max-content' }}\r\n        size=\"small\"\r\n\r\n        pagination={{ position: ['bottom', 'left'] }}\r\n        bordered ={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_select_viaje;","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport \"dayjs\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DatedayjsUtils from \"@date-io/dayjs\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\n//import { Select } from \"antd\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport  {Select as Select_Ant} from \"antd\";\r\n\r\nimport DataTable_select_conductor from \"../app/admin/data_tables/DataTable_select_conductor\";\r\nimport DataTable_select_viajer from \"../app/admin/data_tables/DataTable_select_viaje\";\r\n\r\nimport { db, fire } from \"../db/firebase\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { Select} from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from \"antd\";\r\n\r\nlet regiones = require(\"../app/regiones.json\");\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  backButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  container: {\r\n    //backgroundColor: \"skyblue\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  select: {\r\n    //backgroundColor: \"blue\",\r\n    marginRight: 50,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst DatePicker = (props) => {\r\n  const { setDate, selectedItem, setSelectedItem } = props;\r\n  const [selectedDate, setSelectedDate] = React.useState(null);\r\n\r\n  const [selectedViaje, setSelectedViaje] = React.useState(null);\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n    console.log(selectedDate);\r\n    setDate(date);\r\n\r\n    if (selectedItem) {\r\n      console.log(\"!! SELECTED ITEM !!\");\r\n      selectedItem.fecha = fire.firestore.Timestamp.fromDate(\r\n        new Date(date)\r\n      ).toDate();\r\n      console.log(selectedItem);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DatedayjsUtils}>\r\n      <Grid container justify=\"space-around\">\r\n        <KeyboardDatePicker\r\n          margin=\"normal\"\r\n          id=\"date-picker-dialog\"\r\n          label=\"Fecha\"\r\n          format=\"DD/MM/YYYY\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            \"aria-label\": \"change date\",\r\n          }}\r\n        />\r\n        <KeyboardTimePicker\r\n          margin=\"normal\"\r\n          id=\"time-picker\"\r\n          label=\"Hora\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            \"aria-label\": \"change time\",\r\n          }}\r\n        />\r\n      </Grid>\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n};\r\nconst { Option } = Select_Ant;\r\n\r\nconst SelectDestino = (props) => {\r\n  const {\r\n    setRegion,\r\n    setComuna,\r\n    //setRegionDestino,\r\n    //setComunaDestino,\r\n    //setDireccion,\r\n\r\n    empresa,\r\n    //setEmpresa,\r\n  } = props;\r\n\r\n  const [age, setAge] = React.useState(\"\");\r\n  const [nameComuna, setNameComuna] = React.useState(\"\");\r\n  const [comunas, setComunas] = React.useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    setAge(event.target.value);\r\n    setComunas(event.target.value.comunas);\r\n    setRegion(event.target.value.region);\r\n  };\r\n\r\n  const handleChange2 = (event) => {\r\n    setNameComuna(event.target.value);\r\n    setComuna(event.target.value);\r\n  };\r\n\r\n  const handleDireccion = (event) => {\r\n    console.log(event.target.value);\r\n    //setDireccion(event.target.value);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    console.log(\"Listado de empresas => \", empresa)\r\n  }, []);\r\n\r\n  const  onSelect = (val) => {\r\n    console.log(val)\r\n\r\n    setRegion(val);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n\r\n      <FormControl className={classes.formControl}>\r\n        <Select_Ant\r\n          showSearch\r\n          style={{ width: 200 }}\r\n          placeholder=\"Seleccione una empresa\"\r\n          optionFilterProp=\"children\"\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          \r\n          onSelect={onSelect}\r\n        >\r\n          {empresa.map((x) => {\r\n            return <Option value={x.id}>{x.empresa}</Option>;\r\n          })}\r\n\r\n        </Select_Ant>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SelectOrigen = (props) => {\r\n  const {\r\n    setRegion,\r\n    setComuna,\r\n    //setRegionDestino,\r\n    //setComunaDestino,\r\n    //setDireccion,\r\n\r\n    empresa,\r\n    //setEmpresa,\r\n  } = props;\r\n\r\n  const [age, setAge] = React.useState(\"\");\r\n  const [nameComuna, setNameComuna] = React.useState(\"\");\r\n  const [comunas, setComunas] = React.useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    setAge(event.target.value);\r\n    setComunas(event.target.value.comunas);\r\n    setRegion(event.target.value.region);\r\n  };\r\n\r\n  const handleChange2 = (event) => {\r\n    setNameComuna(event.target.value);\r\n    setComuna(event.target.value);\r\n  };\r\n\r\n  const handleDireccion = (event) => {\r\n    console.log(event.target.value);\r\n    //setDireccion(event.target.value);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    console.log(\"Listado de empresas => \", empresa)\r\n  }, []);\r\n\r\n  const  onSelect = (val) => {\r\n    console.log(val)\r\n\r\n    setRegion(val);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">Regin</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={age}\r\n          onChange={handleChange}\r\n        >\r\n          {regiones.map((x) => {\r\n            return (\r\n              <MenuItem value={x} key={x.numero}>\r\n                {x.region}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n      \r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label1\">Comuna</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label1\"\r\n          id=\"demo-simple-select1\"\r\n          value={nameComuna}\r\n          onChange={handleChange2}\r\n        >\r\n          {comunas.map((x) => {\r\n            return (\r\n              <MenuItem value={x} key={x.numero}>\r\n                {x}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nfunction getSteps() {\r\n  return [\r\n    \"Seleccione fecha\",\r\n    \"Seleccione Conductor\",\r\n    \"Seleccione Camin\",\r\n    \"Seleccione Origen\",\r\n    \"Seleccione Destino\",\r\n    \"Confirmar Datos\",\r\n  ];\r\n}\r\n\r\nexport default function HorizontalLabelPositionBelowStepper(props) {\r\n  const {\r\n    setDate,\r\n    setTime,\r\n    setSelectedUser,\r\n    setSelectedCamion,\r\n    setRegion,\r\n    setComuna,\r\n    setRegionDestino,\r\n    setComunaDestino,\r\n    setDireccion,\r\n    setConductor,\r\n    setEmpresa,\r\n\r\n    date,\r\n    selectedUser,\r\n    selectedCamion,\r\n    region,\r\n    comuna,\r\n    regionDestino,\r\n    //comunaDestino,\r\n    //direccion,\r\n    empresa,\r\n\r\n    selectedItem,\r\n    setSelectedItem,\r\n    user__id,\r\n\r\n    dataCamionFecha,\r\n    itemToDelete,\r\n\r\n    setOpenModalViaje\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const steps = getSteps();\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    //setActiveStep(0);\r\n\r\n    /**REGISTRAR VIAJE */\r\n\r\n    if (selectedItem) {\r\n      var cityRef = db.collection(\"usuario\").doc(user__id);\r\n      cityRef\r\n        .update({\r\n          viajes: fire.firestore.FieldValue.arrayRemove(selectedItem),\r\n        })\r\n        .then(() => {\r\n\r\n          if (selectedUser) {\r\n            var cityRef = db\r\n              .collection(\"usuario\")\r\n              .doc(selectedUser.id); /** cambiar */\r\n          } else {\r\n            var cityRef = db.collection(\"usuario\").doc(user__id);\r\n          }\r\n          \r\n          cityRef.update({\r\n            viajes: fire.firestore.FieldValue.arrayUnion(selectedItem),\r\n          });\r\n\r\n          console.log(\"VIAJE Modificado => \", new__viaje);\r\n\r\n          setSelectedUser(null);\r\n\r\n          var men = \"VIAJE EDITADO EXITOSAMENTE.\";\r\n          //setOpenModalCamion(false);\r\n          enqueueSnackbar(men, {\r\n            variant: \"warning\",\r\n            preventDuplicate: true,\r\n          });\r\n        });\r\n\r\n        setOpenModalViaje(false);\r\n    } else {\r\n      console.log(\"REGISTRAR VIAJE !!\");\r\n\r\n      var identifier = selectedUser.rut.slice(-4);\r\n      var formatDate = dayjs()\r\n        .locale(\"es\")\r\n        .format(\"DDMMYYYYhhmmss-\" + identifier);\r\n\r\n      var new__viaje = {\r\n        id: formatDate,\r\n        fecha: fire.firestore.Timestamp.fromDate(new Date(date)),\r\n        camion:\r\n          selectedCamion.modelo +\r\n          \" / \" +\r\n          selectedCamion.marca +\r\n          \" / \" +\r\n          selectedCamion.patente,\r\n        origen: region + \", \" + comuna,\r\n        destino: regionDestino,\r\n        id_camion: selectedCamion.id,\r\n      };\r\n\r\n      var cityRef = db.collection(\"usuario\").doc(selectedUser.id);\r\n\r\n      cityRef\r\n        .update({\r\n          viajes: fire.firestore.FieldValue.arrayUnion(new__viaje),\r\n        })\r\n        .then(() => {\r\n          var camionRef = db.collection(\"camion\").doc(selectedCamion.id);\r\n\r\n          camionRef\r\n            .update({\r\n              disponible: false,\r\n            })\r\n            .then(() => {\r\n              console.log(\"Document successfully updated!\");\r\n            })\r\n            .catch((error) => {\r\n              // The document probably doesn't exist.\r\n              console.error(\"Error updating document: \", error);\r\n            });\r\n        });\r\n\r\n      var fechaDisp = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY\");\r\n\r\n      let disp = {\r\n        id: formatDate,\r\n        fecha: fechaDisp,\r\n      };\r\n\r\n      var camionRef = db.collection(\"camion\").doc(selectedCamion.id);\r\n\r\n      camionRef.update({\r\n        disp: fire.firestore.FieldValue.arrayUnion(disp),\r\n      });\r\n\r\n      console.log(\"VIAJE GENERADO => \", new__viaje);\r\n\r\n      /** limpiar campos */\r\n      setSelectedUser(null);\r\n\r\n      var men = \"Viaje agregado exitosamente.\";\r\n      //setOpenModalCamion(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n      });\r\n\r\n      setOpenModalViaje(false);\r\n    }\r\n  };\r\n\r\n  function getStepContent(stepIndex) {\r\n    switch (stepIndex) {\r\n      case 0:\r\n        return (\r\n          <DatePicker\r\n            setDate={setDate}\r\n            setTime={setTime}\r\n            selectedItem={selectedItem}\r\n            setSelectedItem={setSelectedItem}\r\n          />\r\n        );\r\n      case 1:\r\n        return (\r\n          <DataTable_select_conductor\r\n            setSelectedUser={setSelectedUser}\r\n            selectedItem={selectedItem}\r\n            setConductor={setConductor}\r\n          />\r\n        );\r\n      case 2:\r\n        return (\r\n          <DataTable_select_viajer\r\n            setSelectedCamion={setSelectedCamion}\r\n            dataCamionFecha={dataCamionFecha}\r\n            date={date}\r\n            selectedItem={selectedItem}\r\n          />\r\n        );\r\n      case 3:\r\n        return (\r\n          <SelectOrigen\r\n            setRegion={setRegion}\r\n            setComuna={setComuna}\r\n            selectedItem={selectedItem}\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n          />\r\n        );\r\n      case 4:\r\n        return (\r\n          <SelectDestino\r\n            setRegion={setRegionDestino}\r\n            setComuna={setComunaDestino}\r\n            selectedItem={selectedItem}\r\n            setDireccion={setDireccion}\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n          />\r\n        );\r\n      default:\r\n        return \"Unknown stepIndex\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {selectedItem ? (\r\n        <Alert\r\n          message=\"Dirigase al paso que desea editar e ingrese los datos nuevos.\"\r\n          type=\"info\"\r\n        />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Stepper activeStep={activeStep} alternativeLabel>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <div>\r\n        {activeStep === steps.length ? (\r\n          <div>\r\n            <Typography className={classes.instructions}>\r\n              Asegurese de que todos los datos son correctos antes de completar\r\n              el registro.\r\n            </Typography>\r\n            <Button\r\n              disabled={activeStep === 0}\r\n              onClick={handleBack}\r\n              className={classes.backButton}\r\n            >\r\n              Atras\r\n            </Button>\r\n             {\r\n               /**\r\n                * date,\r\n                  selectedUser,\r\n                  selectedCamion,\r\n                  region,\r\n                  comuna,\r\n                  regionDestino,\r\n                  comunaDestino,\r\n                  direccion,\r\n                  empresa,\r\n                */\r\n             }\r\n             {selectedItem ? \r\n              <Button variant=\"contained\" color=\"secondary\" onClick={handleReset}>\r\n                Modificar Viaje\r\n              </Button>\r\n             : \r\n\r\n             <Button variant=\"contained\" color=\"secondary\" onClick={handleReset} \r\n              disabled={ \r\n                Object.entries(date).length === 0 || \r\n                selectedUser === null || \r\n                selectedCamion === null || \r\n                region === \"\" || \r\n                comuna === \"\" || \r\n                regionDestino === \"\" ? true : false }>\r\n\r\n              Registrar Viaje\r\n             </Button>\r\n\r\n             }\r\n\r\n\r\n            <Button variant=\"contained\" color=\"inherit\" onClick={() => console.log(\"==> \", regionDestino)}>\r\n              Comprobar Datos\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Typography className={classes.instructions}>\r\n              {getStepContent(activeStep)}\r\n            </Typography>\r\n            <div>\r\n              <Button\r\n                disabled={activeStep === 0}\r\n                onClick={handleBack}\r\n                className={classes.backButton}\r\n              >\r\n                Atras\r\n              </Button>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\r\n                {activeStep === steps.length - 1 ? \"Confirmar\" : \"Siguiente\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nimport {db} from \"../../../db/firebase\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nfunction SelectUsuario(props) {\r\n  const {conductor, setConductor, user__id, selectedItem, setEmailName, setEmailCorreo} = props;\r\n  const [usuario, setUsuario] = useState([]);\r\n\r\n  function onSelect(val, child) {\r\n    console.log(\"select:\", child.email);\r\n    setConductor(val);\r\n    setEmailName(child.children);\r\n    setEmailCorreo(child.email);\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT USUARIO\");\r\n    let lista =[];\r\n    /*\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    console.log(data);\r\n    setUsuario(data);\r\n    */\r\n    await db.collection(\"usuario\")\r\n      .where(\"email\", \"!=\", \"administrador@trudistic.cl\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach(x => {\r\n          lista.push(x.data());\r\n        })\r\n        const filteredEvents = lista.filter(({ disabled }) => disabled !== \"true\");\r\n        \r\n        setUsuario(filteredEvents);\r\n\r\n      });\r\n\r\n      if(selectedItem){\r\n        setConductor(user__id);\r\n      }\r\n\r\n  }, []);\r\n\r\n  return (\r\n      <Select\r\n        className=\"Input-select\"\r\n        showSearch\r\n        placeholder=\"Seleccione usuario\"\r\n        optionFilterProp=\"children\"\r\n        onSelect={onSelect}\r\n        filterOption={(input, option) =>\r\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n        getPopupContainer={node => node.parentNode}\r\n        value={conductor ? conductor : null}\r\n      >\r\n        {usuario.map((x) => {\r\n          return <Option value={x.id} key={x.email} email={x.email}>{x.nombres + \" \"+ x.apellidos}</Option>;\r\n        })}\r\n      </Select>\r\n  );\r\n}\r\n\r\nexport default SelectUsuario;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nfunction SelectCamion(props) {\r\n  const {selectedItem, camionId, setCamionId} = props;\r\n  const [camion, setCamion] = useState([]);\r\n\r\n  function onSelect(val) {\r\n    console.log(\"select:\", val);\r\n    setCamionId(val);\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT CAMION\");\r\n    const camionRef = db.collection('camion');\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n        console.log('No matching documents.');\r\n        return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach(doc => {\r\n        var c = {\r\n          id : doc.id,\r\n          modelo : doc.data().modelo,\r\n          marca : doc.data().marca,\r\n          patente : doc.data().patente,\r\n          disponible : doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n          estado : doc.data().estado\r\n        }\r\n        camiones.push(c);\r\n    });\r\n    setCamion(camiones);\r\n    if(selectedItem){\r\n      setCamionId(selectedItem.id_camion);\r\n    }\r\n    \r\n  }, []);\r\n\r\n  return (\r\n      <Select\r\n        className=\"Input-select\"\r\n        showSearch\r\n        placeholder=\"Seleccione camion\"\r\n        optionFilterProp=\"children\"\r\n        onSelect={onSelect}\r\n        filterOption={(input, option) =>\r\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n        getPopupContainer={node => node.parentNode}\r\n        value={camionId ? camionId : null}\r\n      >\r\n        {camion.map((x) => {\r\n          return <Option value={x.id} key={x.id} hidden={x.estado === \"true\" ?true:false}>{x.marca +\" \"+x.modelo+\" \"+x.patente}</Option>;\r\n        })}\r\n      </Select>\r\n  );\r\n}\r\n\r\nexport default SelectCamion;","import React, { useEffect, useState } from \"react\";\r\n\r\n//import { db } from \"../../../db/firebase\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\nimport \"./estilos_form_admin_viaje.css\"\r\nlet regiones_data = require(\"../../regiones.json\");\r\n\r\nconst { Option } = Select;\r\n\r\nfunction SelectOrigen(props) {\r\n  const {selectedItem, setOrigen} = props;\r\n\r\n  const [regiones, setRegiones] = useState([]);\r\n  const [comunas, setComunas] = useState([]);\r\n\r\n  const [selectedRegion, setSelectedRegion] = useState('');\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n  const [isSelected, setIsSelected] = useState(false);\r\n\r\n  const [disabled, setDisable] = useState(true);\r\n\r\n  function onSelect(val) {\r\n    console.log(\"select:\", val);\r\n    setSelectedRegion(val);\r\n    setIsSelected(true);\r\n  }\r\n\r\n  function onSelectComuna(val) {\r\n    console.log(\"select:\", val);\r\n    setSelectedComuna(val);\r\n\r\n    let origen = selectedRegion +\", \"+val;\r\n\r\n    console.log(\"origen=> \", origen);\r\n    setOrigen(origen);\r\n  }\r\n\r\n  function submit (){\r\n    console.log(\"region => \", selectedRegion);\r\n    console.log(\"comuna => \", selectedComuna);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(selectedRegion !== ''){\r\n      setComunas(comunas => comunas = []);\r\n        regiones.forEach(x => {\r\n            if(selectedRegion === x.region){\r\n                setSelectedComuna(x.comunas[0]);\r\n                setComunas(x.comunas);\r\n                setDisable(false);\r\n            }\r\n        });\r\n        setIsSelected(false);\r\n    }\r\n    \r\n  }, [isSelected]);\r\n\r\n  useEffect(async () => {\r\n    await setRegiones(regiones_data);\r\n\r\n    if(selectedItem){\r\n      let split = selectedItem.origen.split(',');\r\n\r\n      console.log(split[0] + \" \" + split[1]);\r\n\r\n      setSelectedRegion(split[0]);\r\n      setSelectedComuna(split[1]);\r\n\r\n      let origen = split[0]+\",\"+split[1];\r\n\r\n      setOrigen(origen);\r\n\r\n      regiones.forEach(x => {\r\n        if(selectedRegion === x.region){\r\n            setComunas(x.comunas);\r\n            setDisable(false);\r\n        }\r\n    });\r\n      setDisable(false);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Form-input-select-2\">\r\n      \r\n      <div style={{display : \"flex\",flexDirection : \"column\", width : \"100%\"}}>\r\n        <span className=\"Label\">Regin Origen</span>\r\n        <Select\r\n          className=\"Input-select-2\"\r\n          showSearch\r\n          placeholder=\"Seleccione regin\"\r\n          optionFilterProp=\"children\"\r\n          onSelect={onSelect}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          value={selectedRegion ? selectedRegion : null}\r\n        >\r\n          {regiones.map((x) => {\r\n            return <Option value={x.region} key={x.region}>{x.region}</Option>;\r\n          })}\r\n        </Select>\r\n      </div>\r\n      \r\n      <div style={{display : \"flex\",flexDirection : \"column\", width : \"100%\"}}>\r\n        <span className=\"Label\">Comuna Origen</span>\r\n        <Select\r\n\r\n          className=\"Input-select-2\"\r\n          disabled={disabled}\r\n          showSearch\r\n          placeholder=\"Seleccione comuna\"\r\n          optionFilterProp=\"children\"\r\n          onSelect={onSelectComuna}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          value={selectedComuna ? selectedComuna : null}\r\n        >\r\n          {comunas.map((x) => {\r\n            return <Option value={x} key={x}>{x}</Option>;\r\n          })}\r\n        </Select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectOrigen;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction onSelect(val) {\r\n  console.log(\"select:\", val);\r\n}\r\n\r\nfunction SelectEmpresa(props) {\r\n  const {\r\n    selectedItem,\r\n    destino,\r\n    setDestino,\r\n    setEmailDestino,\r\n    setEmailDireccion,\r\n  } = props;\r\n\r\n  const [empresa, setEmpresa] = useState([]);\r\n\r\n  function onSelect(val, child) {\r\n    console.log(\"select:\", child);\r\n    setDestino(val);\r\n    setEmailDestino(child.children);\r\n    setEmailDireccion(child.direccion);\r\n  }\r\n\r\n  async function getEmpresaName(uid){\r\n      return uid;\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT EMPRESA\");\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        empresa: doc.data().empresa,\r\n        region: doc.data().region,\r\n        comuna: doc.data().comuna,\r\n        direccion: doc.data().direccion,\r\n        estado : doc.data().estado\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setEmpresa(empresas);\r\n\r\n    if (selectedItem) {\r\n      \r\n      setDestino(selectedItem.destino);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Select\r\n      className=\"Input-select\"\r\n      showSearch\r\n      placeholder=\"Seleccione empresa\"\r\n      optionFilterProp=\"children\"\r\n      onSelect={onSelect}\r\n      filterOption={(input, option) =>\r\n        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n      }\r\n      getPopupContainer={(node) => node.parentNode}\r\n      value={destino ? destino : null}\r\n    >\r\n      {empresa.map((x) => {\r\n        if(destino){\r\n          if(x.id === destino){\r\n            setEmailDestino(x.empresa);\r\n            setEmailDireccion(x.direccion);\r\n          }\r\n        }\r\n        \r\n          \r\n          return (\r\n            <Option value={x.id} key={x.id} direccion={x.direccion} hidden={x.estado === \"true\" ?true:false}>{x.empresa}</Option>\r\n          );\r\n        \r\n      })}\r\n    </Select>\r\n  );\r\n}\r\n\r\nexport default SelectEmpresa;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { fire } from \"../../../db/firebase\";\r\n// date picker.\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport DatedayjsUtils from \"@date-io/dayjs\";\r\n\r\nimport SELECT_USUARIO from \"./Select\";\r\nimport SELECT_CAMION from \"./SelectCamion\";\r\nimport SELECT_ORIGEN from \"./SelectOrigen\";\r\nimport SELECT_EMPRESA from \"./SelectEmpresa\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport emailjs from \"emailjs-com\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_form_admin_viaje.css\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { Backdrop, CircularProgress } from \"@material-ui/core\";\r\nrequire(\"dayjs/locale/es\");\r\nvar customParseFormat = require(\"dayjs/plugin/customParseFormat\");\r\ndayjs.extend(customParseFormat);\r\n\r\nconst DatePicker = (props) => {\r\n  const {\r\n    /*setDate, selectedItem, setSelectedItem*/ selectedItem,\r\n    setFechaHora,\r\n  } = props;\r\n\r\n  const [date, setDate] = useState(new Date());\r\n  const [time, setTime] = useState(new Date());\r\n  //const [selectedViaje, setSelectedViaje] = React.useState(null);\r\n\r\n  const handleDateChange = (date) => {\r\n    var formatDate = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY HH:m A\");\r\n\r\n    setDate(date);\r\n    console.log(\"date => \", formatDate);\r\n    console.log(\r\n      \"firestamp => \",\r\n      fire.firestore.Timestamp.fromDate(new Date(date)).toDate()\r\n    );\r\n    setFechaHora(fire.firestore.Timestamp.fromDate(new Date(date)).toDate());\r\n    //setDate(date);\r\n    /*\r\n      if (selectedItem) {\r\n        console.log(\"!! SELECTED ITEM !!\");\r\n        selectedItem.fecha = fire.firestore.Timestamp.fromDate(\r\n          new Date(date)\r\n        ).toDate();\r\n        console.log(selectedItem);\r\n      }\r\n      */\r\n  };\r\n  useEffect(() => {\r\n    console.log(\"DATEPICKER RENDER\");\r\n    if (selectedItem) {\r\n      setDate(selectedItem.fecha);\r\n      setFechaHora(selectedItem.fecha);\r\n    }\r\n  }, []);\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DatedayjsUtils} locale=\"es\">\r\n      <KeyboardDatePicker\r\n        variant=\"inline\"\r\n        margin=\"normal\"\r\n        id=\"date-picker-dialog\"\r\n        label=\"Fecha\"\r\n        format={\"DD, MMMM-YYYY\"}\r\n        value={date}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n          \"aria-label\": \"change date\",\r\n        }}\r\n      />\r\n      <KeyboardTimePicker\r\n        margin=\"normal\"\r\n        id=\"time-picker\"\r\n        label=\"Hora\"\r\n        value={date}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n          \"aria-label\": \"change time\",\r\n        }}\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n};\r\n\r\nfunction Form_admin_viaje(props) {\r\n  const { selectedItem, user__id, closeSlideMenu, setOpenModalViaje } = props;\r\n\r\n  const [fecha_hora, setFechaHora] = useState(\"\");\r\n  const [conductor, setConductor] = useState(\"\");\r\n  const [camionId, setCamionId] = useState(\"\");\r\n  const [origen, setOrigen] = useState(\"\");\r\n  const [destino, setDestino] = useState(\"\");\r\n\r\n  const [email_name, setEmailName] = useState(\"\");\r\n  const [email_destino, setEmailDestino] = useState(\"\");\r\n  const [email_direccion, setEmailDireccion] = useState(\"\");\r\n  const [email_correo, setEmailCorreo] = useState(\"\");\r\n\r\n  const [error, setError] = useState(false);\r\n  const [notificar, setNotificar] = useState(true);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  function isChecked(e) {\r\n    console.log(e.target.checked);\r\n    setNotificar(e.target.checked);\r\n  }\r\n  function submit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    console.log(\"fecha y hora => \", fecha_hora);\r\n    console.log(\"conductor => \", conductor);\r\n    console.log(\"camion => \", camionId);\r\n    console.log(\"origen => \", origen);\r\n    console.log(\"destino => \", destino);\r\n    console.log(selectedItem);\r\n\r\n    var identifier = conductor.slice(-4);\r\n    var formatDate = dayjs()\r\n      .locale(\"es\")\r\n      .format(\"DDMMYYYYhhmmss-\" + identifier);\r\n\r\n    let viaje = {\r\n      id: formatDate,\r\n      fecha: fecha_hora,\r\n      camion: camionId, // selectedCamion.modelo + \" / \" + selectedCamion.marca + \" / \" + selectedCamion.patente,\r\n      origen: origen,\r\n      destino: destino,\r\n      id_camion: camionId,\r\n    };\r\n\r\n    if (selectedItem) {\r\n      var cityRef = db.collection(\"usuario\").doc(user__id);\r\n      /** Remuevo el viaje a actualizar */\r\n      cityRef\r\n        .update({ viajes: fire.firestore.FieldValue.arrayRemove(selectedItem) })\r\n        .then(() => {\r\n          /** Selecciono al usuario para modificar sus viajes */\r\n          var cityRef = db.collection(\"usuario\").doc(conductor);\r\n\r\n          /** Agrego el viaje modificado */\r\n          cityRef.update({\r\n            viajes: fire.firestore.FieldValue.arrayUnion(viaje),\r\n          });\r\n\r\n          //setSelectedUser(null);\r\n\r\n          var men = \"Viaje editado exitosamente.\";\r\n          enqueueSnackbar(men, {\r\n            variant: \"warning\",\r\n            preventDuplicate: true,\r\n            autoHideDuration: 3000,\r\n          });\r\n        });\r\n\r\n      if (notificar === true) {\r\n        emailjs\r\n          .sendForm(\r\n            \"service_3t2jqug\",\r\n            \"template_60oxr8w\",\r\n            e.target,\r\n            \"user_CzJpNEaTEgmDCaNX3wWLO\"\r\n          )\r\n          .then(\r\n            (result) => {\r\n              console.log(result.text);\r\n            },\r\n            (error) => {\r\n              console.log(error.text);\r\n            }\r\n          );\r\n      }\r\n\r\n      closeSlideMenu();\r\n      setOpenModalViaje(false);\r\n      //(false);\r\n      setLoading(false);\r\n    } else {\r\n      console.log(\"REGISTRAR VIAJE !!\");\r\n\r\n      var new__viaje = {\r\n        id: formatDate,\r\n        fecha: fecha_hora,\r\n        camion: camionId,\r\n        origen: origen,\r\n        destino: destino,\r\n        id_camion: camionId,\r\n      };\r\n\r\n      if (\r\n        new__viaje.fecha !== \"\" &&\r\n        new__viaje.camion !== \"\" &&\r\n        new__viaje.origen !== \"\" &&\r\n        new__viaje.destino !== \"\" &&\r\n        new__viaje.id_camion !== \"\"\r\n      ) {\r\n        var cityRef = db.collection(\"usuario\").doc(conductor);\r\n\r\n        cityRef\r\n          .update({ viajes: fire.firestore.FieldValue.arrayUnion(new__viaje) })\r\n          .then(() => {});\r\n\r\n        console.log(\"VIAJE GENERADO => \", new__viaje);\r\n\r\n        var men = \"Viaje agregado exitosamente.\";\r\n\r\n        enqueueSnackbar(men, {\r\n          variant: \"success\",\r\n          preventDuplicate: true,\r\n          autoHideDuration: 3000,\r\n        });\r\n\r\n        //setOpenModalViaje(false);\r\n        if (notificar === true) {\r\n          emailjs\r\n            .sendForm(\r\n              \"service_3t2jqug\",\r\n              \"template_60oxr8w\",\r\n              e.target,\r\n              \"user_CzJpNEaTEgmDCaNX3wWLO\"\r\n            )\r\n            .then(\r\n              (result) => {\r\n                console.log(result.text);\r\n              },\r\n              (error) => {\r\n                console.log(error.text);\r\n              }\r\n            );\r\n        }\r\n        setOpenModalViaje(false);\r\n        closeSlideMenu();\r\n      } else {\r\n        setError(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  function tests(e) {\r\n    e.preventDefault();\r\n\r\n    var fecha = dayjs(fecha_hora).locale(\"es\").format(\"DD MMMM YYYY HH:mm A\");\r\n\r\n    emailjs\r\n      .sendForm(\r\n        \"service_3t2jqug\",\r\n        \"template_60oxr8w\",\r\n        e.target,\r\n        \"user_CzJpNEaTEgmDCaNX3wWLO\"\r\n      )\r\n      .then(\r\n        (result) => {\r\n          console.log(result.text);\r\n        },\r\n        (error) => {\r\n          console.log(error.text);\r\n        }\r\n      );\r\n  }\r\n\r\n  return (\r\n    <div className=\"Root\">\r\n      \r\n      <div className=\"Form-description\">\r\n      <Backdrop open={loading} className=\"Backdrop\">\r\n        <CircularProgress color=\"secondary\" />\r\n      </Backdrop>\r\n        {error ? (\r\n          <div\r\n            className=\"alert alert-danger alert-dismissible fade show\"\r\n            role=\"alert\"\r\n          >\r\n            <strong>Error</strong> Todos los campos deben ser llenados.\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n\r\n      <div className=\"Form-content\">\r\n        <div className=\"Form-input\">\r\n          <DatePicker selectedItem={selectedItem} setFechaHora={setFechaHora} />\r\n        </div>\r\n        <div className=\"Form-input-select\">\r\n          <span className=\"Label\">Usuario</span>\r\n          <SELECT_USUARIO\r\n            conductor={conductor}\r\n            setConductor={setConductor}\r\n            user__id={user__id}\r\n            selectedItem={selectedItem}\r\n            setEmailName={setEmailName}\r\n            setEmailCorreo={setEmailCorreo}\r\n            user__id={user__id}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"Form-input-select\">\r\n          <span className=\"Label\">Camin</span>\r\n          <SELECT_CAMION\r\n            selectedItem={selectedItem}\r\n            camionId={camionId}\r\n            setCamionId={setCamionId}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexDirection: \"column\" }}>\r\n          <SELECT_ORIGEN selectedItem={selectedItem} setOrigen={setOrigen} />\r\n        </div>\r\n\r\n        <div className=\"Form-input-select\">\r\n          <span className=\"Label\">Empresa Destino</span>\r\n          <SELECT_EMPRESA\r\n            selectedItem={selectedItem}\r\n            destino={destino}\r\n            setDestino={setDestino}\r\n            setEmailDestino={setEmailDestino}\r\n            setEmailDireccion={setEmailDireccion}\r\n          />\r\n        </div>\r\n        <div className=\"Form-checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            classNames=\"form-check-input\"\r\n            id=\"exampleCheck1\"\r\n            onChange={(e) => isChecked(e)}\r\n            checked={notificar}\r\n          />\r\n          <label className=\"form-check-label\" for=\"exampleCheck1\">\r\n            Notificar por correo\r\n          </label>\r\n        </div>\r\n        <div className=\"Form-input-select\">\r\n          <form onSubmit={submit}>\r\n            <input\r\n              type=\"hidden\"\r\n              value={email_correo}\r\n              name=\"email\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\r\n                selectedItem\r\n                  ? \"Viaje Modificado o Reprogramado\"\r\n                  : \"Nuevo Viaje Programado\"\r\n              }\r\n              name=\"subject\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\"Estimado/a, \" + email_name}\r\n              name=\"name\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\r\n                selectedItem\r\n                  ? selectedItem.fecha !== fecha_hora\r\n                    ? \"Su viaje del da \" +\r\n                      dayjs(selectedItem.fecha)\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY HH:mm A\") +\r\n                      \" ha sido cambiado a la siguiente fecha => \" +\r\n                      dayjs(fecha_hora)\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY HH:mm A\")\r\n                    : \"Su viaje para el da \" +\r\n                      dayjs(selectedItem.fecha)\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY HH:mm A\") +\r\n                      \" ha sido modificado\"\r\n                  : \"Se le ha programado un nuevo viaje para el da \" +\r\n                    dayjs(fecha_hora)\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY HH:mm A\")\r\n              }\r\n              name=\"fecha\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\"Empresa: \" + email_destino}\r\n              name=\"empresa\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\"Direccin: \" + email_direccion}\r\n              name=\"direccion\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value=\"Para mas detalles visite trudistics.cl\"\r\n              name=\"mensaje\"\r\n              required\r\n            ></input>\r\n            <button\r\n              type=\"submit\"\r\n              className={selectedItem ? \"btn btn-warning\" : \"btn btn-primary\"}\r\n              required\r\n            >\r\n              {selectedItem ? \"Modificar Viaje\" : \"Agregar Viaje\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form_admin_viaje;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Button } from \"@material-ui/core\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\nimport StepperViaje from \"../../../components/Stepper\";\r\n\r\n// form\r\nimport FORM_VIAJES from \"./Form_admin_viaje\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nexport default function ModalCamionDos(props) {\r\n  const [date, setDate] = useState({});\r\n  const [time, setTime] = useState(\"\");\r\n\r\n  const [region, setRegion] = useState(\"\");\r\n  const [comuna, setComuna] = useState(\"\");\r\n\r\n  const [regionDestino, setRegionDestino] = useState(\"\");\r\n  const [comunaDestino, setComunaDestino] = useState(\"\");\r\n\r\n  const [empresa, setEmpresa] = useState(null);\r\n\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedCamion, setSelectedCamion] = useState(null);\r\n\r\n  const {\r\n    //title,\r\n    //description,\r\n    //children,\r\n    openModalViaje,\r\n    setOpenModalViaje,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    user__id,\r\n    conductor,\r\n    setConductor,\r\n\r\n    dataCamionFecha,\r\n\r\n    itemToDelete,\r\n\r\n    direccion,\r\n    setDireccion,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n        setEmpresa(list__empresas);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  }, []);\r\n\r\n  var formatDate = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\");\r\n\r\n  const ItemContent = () => {\r\n    return <Box style={{ display: \"flex\", width: \"100%\" }}></Box>;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalViaje}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle\r\n          id=\"form-dialog-title\"\r\n          className={selectedItem ? \"bg-warning\" : \"bg-primary\"}\r\n        >\r\n          {selectedItem ? (\r\n            <span className=\"text-dark\">Editar Viaje</span>\r\n          ) : (\r\n            <span className=\"text-white\">Agregar Viaje</span>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <ItemContent />\r\n          {/*\r\n          <StepperViaje \r\n            setDate={setDate} \r\n            setTime={setTime} \r\n            setSelectedUser={setSelectedUser} \r\n            setSelectedCamion={setSelectedCamion}\r\n\r\n            setRegion={setRegion}\r\n            setComuna={setComuna}\r\n\r\n            setRegionDestino={setRegionDestino}\r\n            setComunaDestino={setComunaDestino}\r\n            setDireccion={setDireccion}\r\n            setConductor={setConductor}\r\n\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n\r\n            date={date} \r\n            selectedUser={selectedUser} \r\n            selectedCamion={selectedCamion}\r\n            region={region}\r\n            comuna={comuna}\r\n            regionDestino={regionDestino}\r\n            comunaDestino={comunaDestino}\r\n            direccion={direccion}\r\n            selectedItem={selectedItem}\r\n            user__id={user__id}\r\n            dataCamionFecha={dataCamionFecha}\r\n            setSelectedItem={setSelectedItem}\r\n\r\n            itemToDelete={itemToDelete}\r\n\r\n            setOpenModalViaje={setOpenModalViaje}\r\n          />\r\n          */}\r\n          <FORM_VIAJES selectedItem={selectedItem} user__id={user__id} closeSlideMenu={closeSlideMenu} setOpenModalViaje={setOpenModalViaje} user__id={user__id}/>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              closeSlideMenu();\r\n              setOpenModalViaje(false);\r\n              setTimeout(() => {\r\n                setSelectedItem(null);\r\n              }, 500);\r\n            }}\r\n            color=\"secondary\"\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_VIAJE_ANT from \"../data_tables/DataTable_viajes_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\n//import ModalViaje from \"./ModalViaje\";\r\nimport ModalViaje_copy from \"./ModalViaje_copy\";\r\n\r\nimport { db, fire } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_admin_viaje.css\";\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\nimport * as dayjs from \"dayjs\";\r\nconst Admin_viajes = () => {\r\n\r\n  /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n  const [user__id, setUser__id] = useState(\"\");\r\n\r\n  const [camion__id, setCamion__id] = useState(\"\");\r\n  const [fecha_camion, setFechaCamion] = useState(\"\");\r\n  const [itemToDelete, setItemToDelete] = useState(null);\r\n\r\n  const [direccion, setDireccion] = useState(\"Direccin no asignada.\");\r\n\r\n  /**  */\r\n  const [openModalViaje, setOpenModalViaje] = useState(null);\r\n\r\n  const [dataCamionFecha, setDataCamionFecha] = useState(null);\r\n\r\n  const [mensaje_accion, setMensajeAccion] = useState(null);\r\n\r\n  const [conductor, setConductor] = useState(\"\");\r\n  const [email_destino, setEmailDestino] = useState(\"\");\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__viaje = () => {\r\n    console.log(\" => \",user__id);\r\n    console.log(\"=> \",fecha_camion);\r\n  \r\n    var cityRef = db.collection(\"usuario\").doc(user__id);\r\n    \r\n    cityRef.update({\r\n      viajes: fire.firestore.FieldValue.arrayRemove(selectedItem)\r\n    });\r\n\r\n    var camionRef = db.collection(\"camion\").doc(camion__id);\r\n    console.log(selectedItem.id)\r\n    console.log(selectedItem.fecha_camion)\r\n    var disp = {\r\n      id : selectedItem.id,\r\n      fecha : fecha_camion,\r\n    }\r\n\r\n    camionRef.update({\r\n      disp : fire.firestore.FieldValue.arrayRemove(disp)\r\n    })\r\n\r\n    var men = \"VIAJE con FECHA: => \"+dayjs(selectedItem.fecha)\r\n    .locale(\"es\")\r\n    .format(\"DD MMMM YYYY HH:m A\").toLowerCase()+\" ELIMINADO.\";\r\n      enqueueSnackbar(men, {\r\n        variant: \"error\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Crear Viaje\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalViaje(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Viaje\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalViaje(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Viaje\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      \r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n      \r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>VIAJES</span></div>\r\n      <div className=\"table\">\r\n\r\n          <TABLA_VIAJE_ANT\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            setUser__id = {setUser__id}\r\n            user__id = {user__id}\r\n            setCamion__id = {setCamion__id}\r\n            setDataCamionFecha = {setDataCamionFecha}\r\n            setFechaCamion={setFechaCamion}\r\n            setItemToDelete={setItemToDelete}\r\n            mensaje_accion={mensaje_accion}\r\n\r\n            setConductor={setConductor}\r\n            setDireccion={setDireccion}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n            setEmailDestino={setEmailDestino}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalViaje_copy\r\n          title={\"Viaje\"}\r\n          description={\"Descripcin de la accion a realizar\"}\r\n          openModalViaje={openModalViaje}\r\n          setOpenModalViaje={setOpenModalViaje}\r\n          setSelectedItem={setSelectedItem}\r\n          selectedItem={selectedItem}\r\n          user__id={user__id}\r\n          dataCamionFecha={dataCamionFecha}\r\n          itemToDelete={itemToDelete}\r\n          conductor={conductor}\r\n          setConductor={setConductor}\r\n\r\n          direccion={direccion}\r\n          setDireccion={setDireccion}\r\n          closeSlideMenu={closeSlideMenu}\r\n          user__id={user__id}\r\n\r\n          \r\n          \r\n        >\r\n        </ModalViaje_copy>\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"Quieres borrar este viaje?\"}\r\n          description={\"Esta accin borrar permanentemente los datos de este viaje.\"}\r\n          action={delete__viaje}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          men={selectedItem ? dayjs(selectedItem.fecha)\r\n            .locale(\"es\")\r\n            .format(\"DD MMMM YYYY HH:m A\").toLowerCase() : null}\r\n          email_destino={email_destino}\r\n          closeSlideMenu={closeSlideMenu}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_viajes;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {\r\n      \r\n    },\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n      \r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \" : {\r\n      background: DATATABLE_BG_COLOR,\r\n      color : DATATABLE_TEXT_COLOR,\r\n      \r\n   },\r\n   boxShadow : '4px 4px 10px 10px rgba(0,0,0,0.1)',\r\n   backgroundColor: \"#fff\",\r\n  },\r\n\r\n  row: {},\r\n}));\r\n\r\nconst DataTable_empresa = (props) => {\r\n\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    mensaje_accion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu\r\n  } = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  \r\n\r\n  const columns = [\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"empresa\",\r\n      key : \"empresa\",\r\n      render: (text, empresa) => <strong  onClick={() => ver_empresa_map(empresa)}>{text}</strong>,\r\n      sorter: (a, b) => a.empresa.localeCompare(b.empresa),\r\n    },\r\n    {\r\n      title: \"Direccion\",\r\n      dataIndex: \"direccion\",\r\n      key: \"direccion\",\r\n    },\r\n    {\r\n      title: \"Telefono\",\r\n      dataIndex: \"telefono\",\r\n      key: \"telefono\",\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      dataIndex: \"estado\",\r\n      key: \"estado\",\r\n      render: (estado) =>\r\n      estado === \"true\" ? (<strong style={{ color: \"red\" }}>Inactivo</strong>) : (<strong className=\"text-primary\">Activo</strong>),\r\n    },\r\n    {\r\n      title: \"Accin\",\r\n      dataIndex: \"accion\",\r\n      key: \"accion\",\r\n      render: (text, empresa) => <button className=\"btn btn-primary\" onClick={() => ver_empresa_map(empresa)}>Ver en el Mapa</button>,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(empresa){\r\n    console.log(\"Ver empresa\", empresa);\r\n    // abrir modal\r\n    //entregar lat y lng\r\n\r\n    await setEmpresaCor({lat : empresa.latitud, lng :empresa.longitud });\r\n\r\n    console.log(empresa_cor);\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n  \r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const query = db.collection(\"empresa\");\r\n  const observerEmpresa = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(selectedRows[0].direccion);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__empresa = async () => {\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        direccion: doc.data().direccion,\r\n        empresa: doc.data().empresa,\r\n        telefono : doc.data().telefono,\r\n        latitud : doc.data().latitud ? doc.data().latitud : \"\",\r\n        longitud : doc.data().longitud ?doc.data().longitud : \"\" ,\r\n        estado : doc.data().estado,\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setTimeout(function () {\r\n      const filteredEvents = empresas.sort((a, b) => a.estado.localeCompare(b.estado) || a.empresa.localeCompare(b.empresa)) \r\n      setData(filteredEvents);\r\n      setIsLoaded(false);\r\n    }, 1000);\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    get__empresa();\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"middle\"\r\n        pagination={{ position: [\"bottomCenter\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={classes.row}\r\n        loading={isLoaded}\r\n        onHeaderRow={(record, index) => {\r\n          return {\r\n            onClick: (e) => {\r\n              let tr = e.target.parentNode;\r\n              console.log(\"event\", tr);\r\n            }\r\n\r\n          };\r\n        }}\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_empresa;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function ModalCamionDos(props) {\r\n  const {\r\n    title,\r\n    description,\r\n    children,\r\n    openModalEmpresa,\r\n    setOpenModalEmpresa,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalEmpresa}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth={true}\r\n        maxWidth={\"xs\"}\r\n      >\r\n        <DialogTitle\r\n          id=\"form-dialog-title\"\r\n          className={selectedItem ? \"bg-warning\" : \"bg-primary\"}\r\n        >\r\n          {selectedItem ? (\r\n            <span className=\"text-dark\">Editar Empresa</span>\r\n          ) : (\r\n            <span className=\"text-white\">Agregar Empresa</span>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{description}</DialogContentText>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setOpenModalEmpresa(false);\r\n              closeSlideMenu();\r\n              setTimeout(() => {\r\n                setSelectedItem(null);\r\n              }, 500);\r\n            }}\r\n            color=\"secondary\"\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport React, { useState } from 'react'\r\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow} from \"react-google-maps\";\r\nimport usePlacesAutocomplete, {getGeocode, getLatLng,} from \"use-places-autocomplete\";\r\nimport { Loader } from \"@googlemaps/js-api-loader\"\r\n//import useOnclickOutside from \"react-cool-onclickoutside\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nfunction Map(props) {\r\n    const {markerSearch, setMarkerSearch, setEmpresaMarker, empresaMarker} = props;\r\n    const [marker, setMarker] = useState({lat: -23.5325518, lng :-70.399952});\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    return (\r\n            <GoogleMap \r\n                defaultZoom={18} \r\n                defaultCenter={{lat: markerSearch.lat, lng : markerSearch.lng}}\r\n                onClick={(event) => {\r\n                    setMarkerSearch({\r\n                        lat: event.latLng.lat(),\r\n                        lng : event.latLng.lng(),\r\n                    });\r\n                    console.log(event);\r\n                }}\r\n                \r\n                center={{lat: markerSearch.lat, lng : markerSearch.lng}} \r\n            >\r\n                <Marker \r\n                    position={{lat: markerSearch.lat, lng : markerSearch.lng}} \r\n                    onClick={() => {\r\n                        setSelected(markerSearch);\r\n                    }}\r\n                    onPositionChanged={() => {\r\n                        console.log(\"POSITION CHANGED !!\");\r\n                        setEmpresaMarker(markerSearch);\r\n                    }}\r\n\r\n                />\r\n\r\n                {selected ? \r\n                <InfoWindow \r\n                    position={{lat: markerSearch.lat, lng : markerSearch.lng}}\r\n                    onCloseClick={() => {\r\n                        setSelected(null);\r\n                    }} \r\n                >\r\n                    <div>\r\n                        <h5>ej: Groot Limitada</h5>\r\n                    </div>\r\n                </InfoWindow> : null}\r\n            </GoogleMap>\r\n    )\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function GMap(props){\r\n    const {setEmpresaMarker, empresaMarker , setDireccion} = props;\r\n    const [markerSearch, setMarkerSearch] = useState({lat: -23.5325518, lng :-70.399952});\r\n    return (\r\n        <div style={{width : \"90vw\" , height : \"100vh\"}}>\r\n            <div className=\"Search-wrapper\">\r\n                <Search setMarkerSearch={setMarkerSearch} setEmpresaMarker={setEmpresaMarker} setDireccion={setDireccion}/>\r\n            </div>\r\n            \r\n            <WrappedMap \r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places`}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div style={{ height: `400px` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                markerSearch={markerSearch}\r\n                setMarkerSearch={setMarkerSearch}\r\n                empresaMarker={empresaMarker}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Search(props){\r\n    const {setMarkerSearch, setEmpresaMarker, setDireccion} = props;\r\n    const {ready, value, suggestions: {status, data}, setValue, clearSuggestions} = usePlacesAutocomplete({\r\n        requestOptions: {\r\n            location: {lat: () =>  -23.5325518, lng :() => -70.399952},\r\n            radius: 200 * 1000,\r\n        }\r\n    });\r\n    \r\n      const handleInput = (e) => {\r\n        // Update the keyword of the input element\r\n        setValue(e.target.value);\r\n        console.log(e.target.value);\r\n      };\r\n    \r\n      const handleSelect = ({ description }) => () => {\r\n        // When user selects a place, we can replace the keyword without request data from API\r\n        // by setting the second parameter to \"false\"\r\n        setValue(description, false);\r\n        console.log(description);\r\n        setDireccion(description);\r\n        clearSuggestions();\r\n    \r\n        // Get latitude and longitude via utility functions\r\n        getGeocode({ address: description })\r\n          .then((results) => getLatLng(results[0]))\r\n          .then(({ lat, lng }) => {\r\n                setEmpresaMarker({ lat, lng });\r\n                setMarkerSearch({ lat, lng });\r\n                console.log(\" Coordinates: \", { lat, lng });\r\n            })\r\n          .catch((error) => {\r\n            console.log(\" Error: \", error);\r\n          });\r\n      };\r\n\r\n      const renderSuggestions = () =>\r\n        data.map((suggestion) => {\r\n            const {\r\n                place_id,\r\n                structured_formatting: { main_text, secondary_text },\r\n            } = suggestion;\r\n\r\n            return (\r\n                <li key={place_id} onClick={handleSelect(suggestion)} className=\"List-item\">\r\n                    <strong className=\"List-text\">{main_text}</strong> <small className=\"List-text\">{secondary_text}</small>\r\n                </li>\r\n            );\r\n        });\r\n\r\n    return (\r\n        <div className=\"Input-wrapper\">\r\n            <input\r\n                value={value}\r\n                onChange={handleInput}\r\n                disabled={!ready}\r\n                placeholder=\"Escriba una direccin\"\r\n                className=\"Input-search\"\r\n            />\r\n            {/* We can use the \"status\" to decide whether we should display the dropdown or not */}\r\n            {status === \"OK\" && <ul>{renderSuggestions()}</ul>}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport Map from \"./Map\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nexport default function ModalMap(props) {\r\n\r\n  const {openModalMap, setOpenModalMap, setEmpresaMarker, empresaMarker, setDireccion } = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalMap}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth\r\n        maxWidth={'xl'}\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\" className=\"Modal-header\">\r\n          <span className=\"Modal-title\">Ubicacin</span>\r\n        </DialogTitle>\r\n        <DialogContent className=\"Map-wrapper\">\r\n          <DialogContentText>\r\n            Descripcin de las acciones\r\n          </DialogContentText>\r\n\r\n          <Map setEmpresaMarker={setEmpresaMarker} empresaMarker={empresaMarker} setDireccion={setDireccion}/>\r\n\r\n        </DialogContent>\r\n        <DialogActions className=\"Modal-actions\">\r\n          <Button onClick={() => setOpenModalMap(false)} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, {  useEffect, useState } from \"react\";\r\nimport { TextField} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\n\r\nimport ModalMap from \"../google-maps/Modal-map\";\r\n\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nlet regiones = require(\"../../app/regiones.json\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#c7bfa4\",\r\n\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    width : \"100%\",\r\n  },\r\n\r\n  inputs: {\r\n    marginBottom: 15,\r\n  },\r\n\r\n  input_estado : {\r\n    fontSize : 16,\r\n    width : \"100%\",\r\n    height : 30,\r\n    marginBottom: 15,\r\n  },\r\n}));\r\n\r\nconst FormEmpresa = (props) => {\r\n  const { selectedItem, setSelectedItem, setOpenModalEmpresa, closeSlideMenu } = props;\r\n\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const [ comunas , setComunas ] = useState([\"Comunas...\"]);\r\n\r\n  const [nombreRegion, setNombreRegion] = useState('');\r\n  const [nombreComuna, setNombreComuna] = useState('');\r\n  \r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const [empresaMarker, setEmpresaMarker] = useState(null);\r\n\r\n  const [selectedRegion, setSelectedRegion] = useState('');\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n\r\n  const [direccion, setDireccion] = useState('');\r\n\r\n  const classes = useStyles();\r\n\r\n  const register__empresa = async (new_empresa) => {\r\n    console.log(empresaMarker);\r\n    console.log(new_empresa);\r\n    const res = await db.collection(\"empresa\").add({\r\n      direccion: direccion,\r\n      empresa: new_empresa.empresa,\r\n      telefono : new_empresa.telefono,\r\n      latitud : empresaMarker ? empresaMarker.lat : \"\",\r\n      longitud : empresaMarker ? empresaMarker.lng : \"\",\r\n      estado : new_empresa.estado,\r\n    });\r\n\r\n    console.log(\"Added document with ID: \", res.id);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const edit__empresa = async (data) => {\r\n    const camionRef = db.collection(\"empresa\").doc(selectedItem.id);\r\n\r\n    // Set the 'capital' field of the city\r\n    const res = await camionRef.update({\r\n      direccion: direccion,\r\n      empresa: data.empresa,\r\n      telefono : data.telefono,\r\n      latitud : empresaMarker ? empresaMarker.lat : selectedItem.latitud,\r\n      longitud : empresaMarker ? empresaMarker.lng : selectedItem.longitud,\r\n      estado : data.estado,\r\n    });\r\n\r\n    closeSlideMenu();\r\n  };\r\n\r\n  function onChange(value) {\r\n    regiones.map(x => {\r\n        if(x.numero === value){\r\n            console.log(\"region => \"+x.region)\r\n            setNombreRegion(x.region);\r\n            setComunas(x.comunas);\r\n        }\r\n    })\r\n    //setComunas(key.key);\r\n  }\r\n\r\n  function onChangeComuna(value) {\r\n    console.log(`comuna  ${value}`);\r\n    setNombreComuna(value);\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(empresaMarker);\r\n    \r\n    if (selectedItem) {\r\n      var men = \"Empresa NOMBRE: \" + selectedItem.empresa + \" editada exitosamente.\";\r\n      edit__empresa(data);\r\n      setOpenModalEmpresa(false);\r\n      setSelectedItem(null);\r\n\r\n      enqueueSnackbar(men, {\r\n        variant: \"info\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    } else {\r\n      register__empresa(data);\r\n      var men = \"Empresa NOMBRE: \" + data.empresa + \" creada exitosamente.\";\r\n      setOpenModalEmpresa(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n    }\r\n    \r\n  };\r\n\r\n  const handleMap = () => {\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  useEffect(async () => {\r\n\r\n    if(selectedItem){\r\n      await setDireccion(selectedItem.direccion);\r\n      setSelectedRegion(selectedItem.region);\r\n      setSelectedComuna(selectedItem.comuna);\r\n\r\n      regiones.forEach(x => {\r\n        if(selectedRegion === x.region){\r\n            setComunas(x.comunas);\r\n        }\r\n    });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form onSubmit={handleSubmit(onSubmit)} className={classes.root}>\r\n        <TextField\r\n          id=\"direccion\"\r\n          name=\"direccion\"\r\n          label=\"Direccin\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          value={direccion}\r\n          disabled\r\n          onClick = {handleMap }\r\n          fullWidth\r\n        />\r\n        <TextField\r\n          id=\"empresa\"\r\n          name=\"empresa\"\r\n          label=\"Empresa\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.empresa : \"\"}\r\n          fullWidth\r\n        />\r\n        <TextField\r\n          id=\"telefono\"\r\n          name=\"telefono\"\r\n          label=\"Telefono\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.telefono : \"\"}\r\n          fullWidth\r\n        />\r\n        <select\r\n          name=\"estado\"\r\n          ref={register({ required: true })}\r\n          defaultValue={selectedItem ? selectedItem.estado : null}\r\n          className={classes.input_estado}\r\n        >\r\n          <option value=\"false\">Activo</option>\r\n          <option value=\"true\">Inactivo</option>\r\n        </select>\r\n\r\n        <button type=\"submit\" className={selectedItem ? \"btn btn-outline-warning\" : \"btn btn-outline-primary\"}>\r\n          <span>{selectedItem ? \"Editar Empresa\" : \"Registrar Empresa\"}</span>\r\n        </button>\r\n      </form>\r\n      <ModalMap openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} setEmpresaMarker={setEmpresaMarker} empresaMarker={empresaMarker} setDireccion={setDireccion}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormEmpresa;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_EMPRESA from \"../data_tables/DataTable_empresa\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\nimport ModalEmpresa from \"../../../components/modals/ModalEmpresa\";\r\nimport FormEmpresa from \"../../../components/forms/FormEmpresa\";\r\n\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_admin_empresa.css\";\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nconst Admin_empresas = () => {\r\n   /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n  const [openModalEmpresa, setOpenModalEmpresa] = useState(null);\r\n  const [mensaje_accion, setMensajeAccion] = useState([]);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__empresa = async () => {\r\n    const res = await db.collection(\"empresa\").doc(selectedItem.id).delete();\r\n    var men = \"Empresa NOMBRE: \" + selectedItem.empresa + \" ha sido eliminada.\";\r\n    enqueueSnackbar(men, {\r\n      variant: \"error\",\r\n      autoHideDuration: 3000,\r\n    });\r\n    setMensajeAccion({mensaje : men, type : \"error\"})\r\n\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Agregar Empresa\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalEmpresa(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Empresa\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalEmpresa(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Empresa\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesin\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        \r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>EMPRESAS</span></div>\r\n        <div className=\"table\">\r\n          {/** Tabla camiones */}\r\n          <TABLA_EMPRESA\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            mensaje_accion = {mensaje_accion}\r\n            \r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalEmpresa\r\n          title={\"Empresa\"}\r\n          description={\"Descripcin de la accion a realizar\"}\r\n          selectedItem={selectedItem}\r\n          openModalEmpresa={openModalEmpresa}\r\n          setOpenModalEmpresa={setOpenModalEmpresa}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        >\r\n          <FormEmpresa\r\n            selectedItem={selectedItem}\r\n            setOpenModalEmpresa={setOpenModalEmpresa}\r\n            setSelectedItem={setSelectedItem}\r\n            closeSlideMenu={closeSlideMenu}\r\n          />\r\n        </ModalEmpresa>\r\n\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"Quieres borrar esta empresa?\"}\r\n          description={\"Esta accin borrar permanentemente los datos de esta empresa.\"}\r\n          men={selectedItem ? selectedItem.empresa : null}\r\n          action={delete__empresa}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        ></ConfirmAlert>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_empresas;","import React from \"react\";\n\nimport { ProvideAuth } from \"./db/use-auth\";\nimport { usuarioActual } from \"./db/auth\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\n\n\n/* Import de paginas*/\nimport INDEX from \"./app/index\";\nimport CONDUCTOR_HOME from \"./app/conductor/Conductor_home\";\nimport CONDUCTOR_VIAJES from \"./app/conductor/Conductor_viajes\";\n\nimport ADMIN_HOME from \"./app/admin/VISTA_ADMIN_HOME/Vista_admin_home\";\nimport ADMIN_CONDUCTORES from \"./app/admin/VISTA_ADMIN_USUARIO/Vista_admin_usuarios\";\nimport ADMIN_CAMIONES from \"./app/admin/VISTA_ADMIN_CAMION/Vista_admin_camiones\";\nimport ADMIN_VIAJES from \"./app/admin/VISTA_ADMIN_VIAJE/Vista_admin_viajes\";\nimport ADMIN_EMPRESAS from \"./app/admin/VISTA_ADMIN_EMPRESA/Vista_admin_empresas\";\n\nfunction App() {\n  usuarioActual();\n\n  return (\n    <div className=\"App\">\n      <ProvideAuth>\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={(props) => <INDEX {...props} />} />\n\n            {/**ROUTE PARA CONDUCTOR */}\n            <PrivateRouteConductor path=\"/conductor/home\">\n              <CONDUCTOR_HOME />\n            </PrivateRouteConductor>\n\n            <PrivateRouteConductor path=\"/conductor/viajes\">\n              <CONDUCTOR_VIAJES />\n            </PrivateRouteConductor>\n\n            {/**ROUTE PARA ADMIN */}\n\n            <PrivateRoute path=\"/admin/home\">\n              <ADMIN_HOME />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/conductores\">\n              <ADMIN_CONDUCTORES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/camiones\">\n              <ADMIN_CAMIONES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/viajes\">\n              <ADMIN_VIAJES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/empresa\">\n              <ADMIN_EMPRESAS />\n            </PrivateRoute>\n\n          </Switch>\n        </Router>\n      </ProvideAuth>\n    </div>\n  );\n\n  function PrivateRoute({ children, ...rest }) {\n    let auth = localStorage.getItem(\"user\");\n    let isAdmin = localStorage.getItem(\"isAdmin\");\n\n    console.log(\"ADMIN??? \" + isAdmin);\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n          auth ? (\n            isAdmin === \"true\" ? (\n              children\n            ) : (\n              <Redirect\n                to={{\n                  pathname: \"/conductor/home\",\n                  state: { code: \"100\", from: location },\n                }}\n              />\n            )\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: { code: \"100\", from: location },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n\n  function PrivateRouteConductor({ children, ...rest }) {\n    let auth = localStorage.getItem(\"user\");\n    let isAdmin = localStorage.getItem(\"isAdmin\");\n\n    console.log(\"ADMIN??? \" + isAdmin);\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n          auth ? (\n            isAdmin === \"true\" ? (\n              <Redirect\n                to={{\n                  pathname: \"/admin/home\",\n                  state: { code: \"100\", from: location },\n                }}\n              />\n            ) : (\n              children\n            )\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: { code: \"100\", from: location },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { SnackbarProvider } from \"notistack\";\nimport Grow from '@material-ui/core/Grow';\n\n/** ANT DESIGN IMPORT */\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n    <SnackbarProvider\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"center\",\n      }}\n      TransitionComponent={Grow}\n    >\n      <App />\n    </SnackbarProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}