{"version":3,"sources":["db/firebase.js","db/use-auth.js","db/auth.js","components/FlashMessage.js","app/index.js","variables.js","components/Header.js","app/conductor/Conductor_home.js","components/Side_menu.js","components/items/Menu_items.js","components/DrawerPerfilUsuario.js","components/StatusTag.js","components/google-maps/MapOnlyView.js","components/google-maps/Modal-map-onlyView.js","components/modals/ModalReporte.js","app/admin/data_tables/DataTable_conductor_viajes_ant.js","app/conductor/Conductor_viajes.js","components/DrawerSettings.js","app/admin/VISTA_ADMIN_HOME/Vista_admin_home.js","components/Alert.js","components/modals/ModalConductor.js","components/FormErrorMessage.js","components/forms/FormConductor.js","app/admin/data_tables/DataTable_conductor_ant.js","app/admin/VISTA_ADMIN_USUARIO/Vista_admin_usuarios.js","app/admin/data_tables/DataTable_camion_ant.js","components/ConfirmAlert.js","components/modals/ModalCamion.js","components/forms/FormCamion.js","app/admin/VISTA_ADMIN_CAMION/Vista_admin_camiones.js","app/admin/data_tables/DataTable_viajes_ant.js","app/admin/data_tables/DataTable_select_conductor.js","app/admin/data_tables/DataTable_select_viaje.js","components/Stepper.js","app/admin/VISTA_ADMIN_VIAJE/Select.js","app/admin/VISTA_ADMIN_VIAJE/SelectCamion.js","app/admin/VISTA_ADMIN_VIAJE/SelectOrigen.js","app/admin/VISTA_ADMIN_VIAJE/SelectEmpresa.js","app/admin/VISTA_ADMIN_VIAJE/Form_admin_viaje.js","app/admin/VISTA_ADMIN_VIAJE/ModalViaje_copy.js","app/admin/VISTA_ADMIN_VIAJE/Vista_admin_viajes.js","app/admin/data_tables/DataTable_empresa.js","components/modals/ModalEmpresa.js","components/google-maps/Map.js","components/google-maps/Modal-map.js","components/forms/FormEmpresa.js","app/admin/VISTA_ADMIN_EMPRESA/Vista_admin_empresas.js","App.js","reportWebVitals.js","index.js"],"names":["fb","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","fire","db","firestore","storage","auth","authContext","createContext","ProvideAuth","children","useState","user","setUser","history","useHistory","signin","email","password","signInWithEmailAndPassword","then","response","currentUser","getIdTokenResult","idTokenResult","claims","admin","console","log","localStorage","setItem","push","catch","error","signup","createUserWithEmailAndPassword","signout","signOut","sendPasswordResetEmail","confirmPasswordReset","code","useEffect","unsubscribe","onAuthStateChanged","useProvideAuth","Provider","value","cerrar__sesion","removeItem","Alert","props","elevation","variant","FlashMessage","open","setOpen","menCode","setMenCode","mensaje","setMensaje","severity","setSeverity","handleClick","handleClose","event","reason","state","child","location","window","replaceState","document","title","codeError","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","useStyles","makeStyles","theme","root","height","width","backgroundColor","fontFamily","container","display","flexDirection","justifyContent","alignItems","cnt__login","cnt__logo","breakpoints","down","logo","cnt_form","border","borderRadius","padding","form","fontSize","marginBottom","marginbottom","color","form__text","paddingBottom","form__button","marginTop","Index","classes","email_recover","setEmailRecover","email_not_exist","setEmailNotExist","email_exist","setEmailExist","setCodeError","useForm","register","handleSubmit","errors","amount","weight","weightRange","showPassword","values","setValues","a","exist","collection","where","get","querySnapshot","forEach","doc","emailAddress","prop","className","Box","src","noValidate","autoComplete","onSubmit","data","txtCorreo","txtPassword","cred","uid","message","Input","name","label","inputRef","required","startAdornment","InputAdornment","position","fullWidth","type","target","IconButton","aria-label","onClick","onMouseDown","preventDefault","Visibility","VisibilityOff","style","htmlType","data-bs-toggle","data-bs-target","class","id","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","placeholder","onChange","e","handleInputEmail","marginLeft","recover_password","INFO_BG_COLOR","INFO_TEXT_COLOR","DATATABLE_BG_COLOR","DATATABLE_TEXT_COLOR","CARDS_ADMIN_BG_COLOR","background","boxShadow","top","cnt_avatar","paddingRight","cnt_avatar_dos","cnt_links","__icon_mobile","paddingLeft","icons","textDecoration","icon_mobile","menu_mobile","up","displayName","marginRight","links","nav__links","fontWeight","transition","borderBottom","avatar","username","icon","__active_nav","navigation_mobile","zIndex","Header","openSlideMenu","openNavigationMobileMenu","usuario","setUsuario","getItem","docRef","exists","onSnapshot","LINKS_ADMIN","text","linkTo","LINKS_CONDUCTOR","isAdmin","href","map","x","to","activeClassName","alt","photoURL","nombres","toUpperCase","flexWrap","__header","__content","Conductor_home","viajes","setViajes","dayjs","fecha","toDate","isBefore","locale","format","isSame","isAfter","length","footer","container_icon","center","Side_menu","closeSlideMenu","itemList","Divider","listItem","overflow","paddingTop","listItemIcon","listItemText","topItemList","bottomItemList","item","MenuTest","List","admin_items","index","ListItem","button","disabled","isDisabled","ListItemIcon","ListItemText","admin_settings","DrawerPerfilUsuario","visible","setVisible","newPass","setNewPass","actualPass","setActualPass","setDisabled","errorPass","setErrorPass","succefulPass","setSuccesfulPass","setErrorMessage","passActual","file","useRef","photoUrl","setPhotoUrl","foto_error","setFotoError","disabledLoad","setDisabledLoad","uploadPhoto","file_img","current","files","reader","FileReader","onloadend","result","readAsDataURL","placement","closable","ref","userRef","storageRef","pathName","avatarRef","put","contentType","snapshot","getDownloadURL","update","setTimeout","cambiar_foto","rut","apellidos","telefono","role","aria-describedby","minLength","autocomplete","onKeyUp","verify","test","passListener","pass_actual","newPassword","updatePassword","statusMap","true","false","StatusTag","status","WrappedMap","withScriptjs","withGoogleMap","empresaMarker","lat","lng","selected","setSelected","defaultZoom","defaultCenter","onCloseClick","GMap","googleMapURL","loadingElement","containerElement","mapElement","ModalMap_onlyView","empresa_cor","openModalMap","setOpenModalMap","Dialog","maxWidth","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","appBar","spacing","flex","viewer","styles","StyleSheet","create","page","header","borderTopWidth","borderLeftWidth","borderRightWidth","marginHorizontal","row","borderBottomWidth","cell","borderLeft","cell_2","borderRight","head_cell","head_text","section","section_top","text_description","image","Transition","React","forwardRef","Slide","direction","FullScreenDialog","MyDocument","size","conductor","camion","direccion","destino","estado","fullScreen","TransitionComponent","AppBar","Toolbar","edge","Typography","autoFocus","Option","require","Select","RangePicker","DatePicker","borderWidth","borderColor","borderStyle","filter__section","label__container","filter__container","button__container","filter","filter__title","DataTable_conductor_viajes_ant","setIsSelected","setSelectedItem","selectedItem","setSize","edit","setEdit","setX","rowClassname","isLoaded","setIsLoaded","setData","filterData","setFilterData","setEmpresaCor","conductor_id","setConductorId","rango_fechas","setRangoFechas","filter_empresa","setFilterEmpresa","filter_estado","setFilterEstado","empresaList","setEmpresaList","setConductoresList","conductorLabel","setConductorLabel","rangoLabel","setRangoLabel","empresaLabel","setEmpresaLabel","estadoLabel","setEstadoLabel","removeFilter","setRemoveFilter","setFecha","setFilterState","columns","dataIndex","key","render","sorter","b","fechaSorter","defaultSortOrder","empresa","ver_empresa_map","empresa_latitud","empresa_longitud","record","lon","docChanges","change","err","get__viajes","data_camiones","item__list","data_camiones__list","formatDate","formatDate2","camionRef","id_camion","camion_info","modelo","patente","empresa_name","latitud","longitud","origen","empresa_id","id_user","fecha_camion","filter_general","finalFilter","sort","filteredEvents","isBetween","list__empresas","region","comuna","conductor_list","Chip","onDelete","clickable","date","dateString","locale_","showSearch","optionFilterProp","onSearch","val","onSelect","filterOption","input","option","toLowerCase","indexOf","rowKey","dataSource","scroll","pagination","bordered","rowClassName","loading","Conductor_viajes","ultimo_viaje","setUltimoViaje","proximo_viaje","setProximoViaje","acutal_viaje","setActualViaje","filtro_ultimo","filtro_proximo","sorted_filtro_ultimo","sorted_filtro_proximo","ultimo","find","element","proximo","actual","ultimoRef","actualRef","proximoRef","CONDUCTOR_ITEMS","menu_lateral","content","selectedUser","DrawerSettings","onChangeNewPass","weekOfYear","Admin_home","ADMIN_SETTINGS","dataViajes","setDataViajes","dataUsuarios","setDataUsuarios","dataEmpresas","setDataEmpresas","get__camion","empty","camiones","c","marca","disponible","get__empresas","empresas","fetch","method","mode","res","json","opacity","AlertDialogSlide","openAlert","setOpenAlert","setSelectedUser","useSnackbar","enqueueSnackbar","closeSnackbar","buttonDisabled","setButtonDisabled","delete__user","body","JSON","stringify","headers","men","description","compare","justifySelf","openModalConductor","setOpenModalConductor","FormErrorMessage","align","container_wrap","input__email","container__nombres","columnGap","container__rut_telefono_domicilio","container__inputFile","container__avatar","input__nombres","input__rut_telefono","input__domicilio","input__file","backdrop","drawer","estado_input","FormConductor","setLoading","edit__user","edit_user","preventDuplicate","register__user","new_user","random_pass","setRandomPass","Backdrop","CircularProgress","email_split","split","slice","emailjs","sendForm","Avatar","TextField","pattern","defaultValue","buscador","localeCompare","DataTable_conductor_ant","selectRows","setSelectRows","functionBuscar","setError","filter_nombres","setFilterNombres","setSelectedRowKeys","rowSelection","selectedRowKeys","selectedRows","getCheckboxProps","Text","Link","includes","onChangeNombre","Admin_conductores","ADMIN_CONDUCTOR_ITEMS","DataTable_camion_ant","mensaje_accion","filteredData","ConfirmAlert","action","email_destino","ModalCamionDos","openModalCamion","setOpenModalCamion","inputs","input_estado","register__camion","new_camion","add","edit__camion","option_text","setMensajeAccion","delete__camion","delete","FormCamion","DataTable_viajes_ant","setUser__id","user__id","setCamion__id","setDataCamionFecha","setFechaCamion","setItemToDelete","setConductor","setDireccion","setEmailDestino","conductores_list","selected__viaje","delete__viaje","conductor_item","empresaRef","empresa_info","idEmpresa","backButton","instructions","select","formControl","margin","minWidth","selectEmpty","Select_Ant","SelectUsuario","setEmailName","setEmailCorreo","lista","getPopupContainer","node","parentNode","SelectCamion","camionId","setCamionId","setCamion","hidden","regiones_data","SelectOrigen","setOrigen","regiones","setRegiones","comunas","setComunas","selectedRegion","setSelectedRegion","selectedComuna","setSelectedComuna","isSelected","setDisable","SelectEmpresa","setDestino","setEmailDireccion","setEmpresa","customParseFormat","setFechaHora","Date","setDate","handleDateChange","Timestamp","fromDate","utils","DatedayjsUtils","KeyboardButtonProps","Form_admin_viaje","setOpenModalViaje","fecha_hora","email_name","email_direccion","email_correo","notificar","setNotificar","classNames","checked","isChecked","for","identifier","viaje","FieldValue","arrayRemove","arrayUnion","new__viaje","openModalViaje","dataCamionFecha","itemToDelete","ItemContent","Admin_viajes","camion__id","disp","DataTable_empresa","get__empresa","onHeaderRow","tr","openModalEmpresa","setOpenModalEmpresa","markerSearch","setMarkerSearch","setEmpresaMarker","latLng","onPositionChanged","Search","usePlacesAutocomplete","requestOptions","radius","ready","suggestions","setValue","clearSuggestions","handleSelect","getGeocode","address","results","getLatLng","suggestion","place_id","structured_formatting","main_text","secondary_text","ModalMap","FormEmpresa","register__empresa","new_empresa","edit__empresa","Admin_empresas","delete__empresa","App","path","exact","component","PrivateRouteConductor","PrivateRoute","rest","pathname","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Grow","getElementById"],"mappings":"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","file":"static/js/main.1ab9db7a.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\n\r\n// Add the Firebase services that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCybTK1kaKZtP99G0K8o0IMWgL-vBylbuQ\",\r\n    authDomain: \"trudistics.firebaseapp.com\",\r\n    projectId: \"trudistics\",\r\n    storageBucket: \"trudistics.appspot.com\",\r\n    messagingSenderId: \"228483098144\",\r\n    appId: \"1:228483098144:web:a4d59c637b6bc26ce9fe45\"\r\n  };\r\n\r\n  const fb = firebase.initializeApp(firebaseConfig);\r\n  export const fire = firebase;\r\n  export const db = fb.firestore();\r\n  export const storage = fb.storage();\r\n  export const auth = fb.auth();","import React, { useState, useEffect, useContext, createContext } from \"react\";\r\nimport { auth } from \"./firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// Add your Firebase credentials\r\n\r\nconst authContext = createContext();\r\n\r\n// Provider component that wraps your app and makes auth object ...\r\n// ... available to any child component that calls useAuth().\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\n// Hook for child components to get the auth object ...\r\n// ... and re-render when it changes.\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n};\r\n\r\n// Provider hook that creates auth object and handles state\r\nfunction useProvideAuth() {\r\n  const [user, setUser] = useState(null);\r\n  let history = useHistory();\r\n  // Wrap any Firebase methods we want to use making sure ...\r\n  // ... to save the user to state.\r\n  const signin = (email, password) => {\r\n    return auth.signInWithEmailAndPassword(email, password).then((response) => {\r\n      auth.currentUser\r\n        .getIdTokenResult()\r\n        .then((idTokenResult) => {\r\n          // Confirm the user is an Admin.\r\n          if (!!idTokenResult.claims.admin) {\r\n            // Show admin UI.\r\n            console.log(\"SOY ADMIN\")\r\n            localStorage.setItem(\"user\", response.user);\r\n            localStorage.setItem(\"isAdmin\", true)\r\n            history.push(\"/admin/home\");\r\n          } else {\r\n            // Show regular user UI.\r\n            console.log(\"NO SOY ADMIN\")\r\n            localStorage.setItem(\"user\", response.user);\r\n            localStorage.setItem(\"isAdmin\", false)\r\n            history.push(\"/conductor/home\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      localStorage.setItem(\"user\", response.user);\r\n      setUser(response.user);\r\n      return response.user;\r\n    });\r\n  };\r\n\r\n  const signup = (email, password) => {\r\n    return auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((response) => {\r\n        setUser(response.user);\r\n        return response.user;\r\n      });\r\n  };\r\n\r\n  const signout = () => {\r\n    return auth.signOut().then(() => {\r\n        console.log(\"!!! Sesión Cerrada\");\r\n        history.push(\"/\")\r\n    });\r\n  };\r\n\r\n  const sendPasswordResetEmail = (email) => {\r\n    return auth.sendPasswordResetEmail(email).then(() => {\r\n      return true;\r\n    });\r\n  };\r\n\r\n  const confirmPasswordReset = (code, password) => {\r\n    return auth.confirmPasswordReset(code, password).then(() => {\r\n      return true;\r\n    });\r\n  };\r\n\r\n  // Subscribe to user on mount\r\n  // Because this sets state in the callback it will cause any ...\r\n  // ... component that utilizes this hook to re-render with the ...\r\n  // ... latest auth object.\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        setUser(user);\r\n      } else {\r\n        setUser(false);\r\n      }\r\n    });\r\n\r\n    // Cleanup subscription on unmount\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Return the user object and auth methods\r\n  return {\r\n    user,\r\n    signin,\r\n    signup,\r\n    signout,\r\n    sendPasswordResetEmail,\r\n    confirmPasswordReset,\r\n  };\r\n}\r\n","import { auth, db } from \"./firebase\";\r\n\r\n\r\n\r\nexport const usuarioActual = () => {\r\n  auth.onAuthStateChanged(function (user) {\r\n    if (user) {\r\n      console.log(\"OBSERVADOR|||| !! SESION ACTIVA !! EMAIL --> \" + user.email);\r\n      \r\n    } else {\r\n      console.log(\"OBSERVADOR|||| !! SESION INACTIVA !! \");\r\n    }\r\n  });\r\n};\r\n\r\nexport const registrar__usuario = (email, password) => {\r\n  // -> objeto con los datos del usuario.\r\n  //ej : rut, nombres, apellidos, telefono, email, pass\r\n  auth\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then((cred) => {\r\n      return db.collection(\"usuario\").doc(cred.user.uid).set({\r\n        rut: \"11-1\",\r\n        nombres: \"Angelica Victoria\",\r\n        apellidos: \"Camilo Arriagada\",\r\n        telefono: \"9 72117744\",\r\n      });\r\n    })\r\n    .then(() => {\r\n      console.log(\"<---- registrar__usuario OK ------>\");\r\n      console.log(\"!! Limpiar formulario o algo\");\r\n    })\r\n    .catch((error) => {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      console.log(\"!!! ERROR CODE : !!!\" + errorCode);\r\n      console.log(\"!!! ERRORMESSAGE :  !!!\" + errorMessage);\r\n      // ..\r\n    });\r\n};\r\n\r\nexport const iniciar__sesion = (email, password) => auth.signInWithEmailAndPassword(email, password);\r\n\r\nexport const cerrar__sesion = () => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      console.log(\"!!! Sesión Cerrada\");\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem(\"isAdmin\");\r\n      localStorage.removeItem('password');\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n","import React , {useEffect, useState} from \"react\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default function FlashMessage(props) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [menCode, setMenCode] = useState(0);\r\n  const [mensaje, setMensaje] = useState('');\r\n\r\n  const [severity, setSeverity] = useState('');\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  var state = props.child.location.state;\r\n\r\n  useEffect(() => {\r\n    console.log(\"Flash Message montado !!\");\r\n    \r\n    if(state){\r\n      if(state.code !== menCode){\r\n          console.log(state.code);\r\n        switch(state.code){\r\n            case '100':\r\n                setMensaje(\"\")\r\n                setMensaje(\"Error \"+state.code+\": Acceso no autorizado.\")\r\n                setSeverity(\"error\")\r\n                break;\r\n            default:\r\n                setMensaje(\"Error 1000: Error desconocido. ->\"+state.code)\r\n                break;\r\n        }\r\n        setMenCode(state.code);\r\n        console.log(\"codigo seteado paso 1 !! -> CODE = \"+menCode);\r\n        handleClick()\r\n      }\r\n      \r\n      /** borra el historial, del codigo */\r\n      window.history.replaceState({}, document.title);\r\n      \r\n    }\r\n\r\n    if (props.codeError) {\r\n      switch(props.codeError){\r\n        case \"auth/invalid-email\":\r\n          setMensaje(\"Formato de correo invalido.\")\r\n          break;\r\n        case \"auth/user-not-found\":\r\n          setMensaje(\"No hay ningún registro de usuario correspondiente a este correo.\")\r\n          break;\r\n        case \"auth/wrong-password\":\r\n          setMensaje(\"La contraseña no es válida.\")\r\n          break;\r\n        case \"auth/too-many-requests\":\r\n          setMensaje(\" El acceso a esta cuenta se ha desactivado temporalmente debido a los numerosos intentos fallidos de inicio de sesión. Contacte con administrador\")\r\n          break;\r\n        default:\r\n          setMensaje(\"Error desconocido.\")\r\n          break;\r\n      }\r\n      setSeverity(\"warning\")\r\n      handleClick()\r\n    }\r\n  },[props.codeError])\r\n\r\n  return (\r\n\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{ vertical: 'top',\r\n      horizontal: 'center',}}\r\n      >\r\n        <Alert onClose={handleClose} severity={severity}>\r\n          {mensaje}\r\n        </Alert>\r\n      </Snackbar>\r\n  );\r\n}","import React, { /*useEffect,*/ useState } from \"react\";\r\n\r\nimport { auth } from \"../db/firebase\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"antd\";\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Input,\r\n  InputAdornment,\r\n  TextField /**Button*/,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport FlashMessage from \"../components/FlashMessage\";\r\n\r\nimport LockRoundedIcon from \"@material-ui/icons/LockRounded\";\r\nimport EmailRoundedIcon from \"@material-ui/icons/EmailRounded\";\r\n\r\n//import {useParams,useHistory} from \"react-router-dom\";\r\n\r\n/** !! AUTH */\r\nimport {\r\n  //registrar__usuario,\r\n  iniciar__sesion,\r\n  cerrar__sesion,\r\n} from \"../db/auth.js\";\r\n\r\nimport {db} from \"../db/firebase\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    width: \"100vw\",\r\n    backgroundColor: \"#fafafa\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n  },\r\n\r\n  container: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  cnt__login: {\r\n    //backgroundColor: \"skyblue\",\r\n\r\n    height: \"50%\",\r\n    width: \"100%\",\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  cnt__logo: {\r\n    //backgroundColor : \"green\",\r\n    height: \"100%\",\r\n    width: 485,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  logo: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n\r\n  cnt_form: {\r\n    backgroundColor: \"#ffffff\",\r\n    height: \"80%\",\r\n\r\n    border: \"1px #dbdbdb solid\",\r\n    borderRadius: 5,\r\n\r\n    width: 500,\r\n    padding: 50,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  form: {\r\n    //backgroundColor: \"red\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n  },\r\n\r\n  title: {\r\n    fontSize: 32,\r\n    marginBottom: 30,\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //width: \"100%\",\r\n    },\r\n  },\r\n\r\n  error: {\r\n    fontSize: 14,\r\n    marginbottom: 5,\r\n    color: \"red\",\r\n  },\r\n\r\n  form__text: {\r\n    width: \"100%\",\r\n    paddingBottom: 15,\r\n  },\r\n\r\n  form__button: {\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n}));\r\n\r\nconst Index = (props) => {\r\n  const classes = useStyles();\r\n  const [email_recover, setEmailRecover] = useState('');\r\n  const [email_not_exist, setEmailNotExist] = useState(true);\r\n  const [email_exist, setEmailExist] = useState(false);\r\n\r\n  const [codeError, setCodeError] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [values, setValues] = useState({\r\n    amount: \"\",\r\n    password: \"\",\r\n    weight: \"\",\r\n    weightRange: \"\",\r\n    showPassword: false,\r\n  });\r\n\r\n  async function recover_password(){\r\n    let exist = false;\r\n    console.log(\"Recover password para => \", email_recover);\r\n    await db.collection(\"usuario\").where(\"email\", \"==\", email_recover)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      \r\n        querySnapshot.forEach((doc) => exist = true);\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n\r\n    if(exist === false){\r\n      setEmailNotExist(false);\r\n    }else{\r\n      setEmailNotExist(true);\r\n      setEmailExist(true);\r\n      var emailAddress = email_recover;\r\n\r\n      auth.sendPasswordResetEmail(emailAddress).then(function() {\r\n        // Email sent.\r\n      }).catch(function(error) {\r\n        // An error happened.\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  function handleInputEmail(e){\r\n    setEmailRecover(e.target.value);\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(\"onSubmit\");\r\n    console.log(data.txtCorreo);\r\n    console.log(data.txtPassword);\r\n    iniciar__sesion(data.txtCorreo, data.txtPassword)\r\n      .then((cred) => {\r\n        localStorage.removeItem(\"isAdmin\");\r\n        localStorage.removeItem(\"user\");\r\n        // Signed in\r\n        auth.currentUser\r\n          .getIdTokenResult()\r\n          .then((idTokenResult) => {\r\n            // Confirm the user is an Admin.\r\n            if (!!idTokenResult.claims.admin) {\r\n              // Show admin UI.\r\n              console.log(\"SOY ADMIN\");\r\n              localStorage.setItem(\"user\", cred.user.uid);\r\n              localStorage.setItem(\"isAdmin\", true);\r\n              localStorage.setItem(\"password\", data.txtPassword);\r\n              history.push(\"/admin/home\");\r\n            } else {\r\n              // Show regular user UI.\r\n              console.log(\"NO SOY ADMIN\", cred);\r\n              localStorage.setItem(\"user\", cred.user.uid);\r\n              localStorage.setItem(\"isAdmin\", false);\r\n              localStorage.setItem(\"password\", data.txtPassword);\r\n              history.push(\"/conductor/viajes\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n        console.log(\"!! Inicio de sesión exitoso -> \" + cred.user.email);\r\n      })\r\n      .catch((error) => {\r\n        setCodeError(error.code);\r\n\r\n        console.log(\"!! error code -> \" + error.code);\r\n        console.log(\"!! error code -> \" + error.message);\r\n      });\r\n\r\n    /*\r\n      auth.signin(data.txtCorreo, data.txtPassword).then().catch((error) => {\r\n        setCodeError(error.code);\r\n      });\r\n      */\r\n  };\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        <Box className={classes.cnt__login}>\r\n          <Box className={classes.cnt__logo}>\r\n            <img src=\"/logo_login_2.png\" className={classes.logo} />\r\n          </Box>\r\n          <div className={classes.cnt_form}>\r\n            <span className={classes.title}>TRUDISTICS</span>\r\n            <form\r\n              noValidate\r\n              autoComplete=\"off\"\r\n              onSubmit={handleSubmit(onSubmit)}\r\n              className={classes.form}\r\n            >\r\n              <div className={classes.form__text}>\r\n                <Input\r\n                  name=\"txtCorreo\"\r\n                  label=\"Correo\"\r\n                  inputRef={register({ required: true })}\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <EmailRoundedIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                  fullWidth\r\n                />\r\n                {errors.txtCorreo && (\r\n                  <span className={classes.error}>Correo requerido</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className={classes.form__text}>\r\n                <Input\r\n                  type=\"password\"\r\n                  name=\"txtPassword\"\r\n                  label=\"Contraseña\"\r\n                  fullWidth\r\n                  inputRef={register({ required: true })}\r\n                  type={values.showPassword ? \"text\" : \"password\"}\r\n                  value={values.password}\r\n                  onChange={handleChange(\"password\")}\r\n                  endAdornment={\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                        aria-label=\"toggle password visibility\"\r\n                        onClick={handleClickShowPassword}\r\n                        onMouseDown={handleMouseDownPassword}\r\n                      >\r\n                        {values.showPassword ? (\r\n                          <Visibility />\r\n                        ) : (\r\n                          <VisibilityOff />\r\n                        )}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  }\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <LockRoundedIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                />\r\n                {errors.txtPassword && (\r\n                  <span className={classes.error}>Contraseña requerida</span>\r\n                )}\r\n              </div>\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  marginTop: 15,\r\n                }}\r\n              >\r\n                <button\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                >\r\n                  Iniciar Sesión\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-warning\"\r\n                  type=\"button\"\r\n                  style={{ marginTop: 10 }}\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#exampleModal\"\r\n                >\r\n                  Recuperar Contraseña\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </Box>\r\n        <div>© 2021 - Trudistics - V.1</div>\r\n      </div>\r\n\r\n      <FlashMessage child={props} codeError={codeError} />\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"exampleModal\"\r\n        tabindex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                Recuperación de contraseña\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <div style={{display : \"flex\", flexDirection : \"column\"}}>\r\n                <input type=\"email\" placeholder=\"Ingrese email...\" onChange={e => handleInputEmail(e)}></input>\r\n                {email_not_exist ? null : <strong className=\"text-danger\" style={{marginLeft : 5}}>Email no se encuentra en nuestros registros.</strong>}\r\n                {email_exist ? <strong className=\"text-success\" style={{marginLeft : 5}}>Su contraseña ha sido enviada a su correo.</strong> : null}\r\n              </div>\r\n              \r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Cerrar\r\n              </button>\r\n              <button type=\"button\" class=\"btn btn-primary\" onClick={() => recover_password()}>\r\n                Enviar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n","export const HEADER_BG_COLOR = \"#064789\";\r\nexport const MENU_LATERAL_BG_COLOR =\"#427AA1\";\r\n\r\nexport const INFO_BG_COLOR = \"#679436\";\r\nexport const INFO_TEXT_COLOR = \"#EBF2FA\";\r\n\r\nexport const DATATABLE_BG_COLOR = \"#064789\";\r\nexport const DATATABLE_TEXT_COLOR = \"#EBF2FA\";\r\n\r\n/**  HOME ADMINISTRADOR*/\r\nexport const CARDS_ADMIN_BG_COLOR = \"#679436\";\r\nexport const CARDS_ADMIN_TEXT_COLOR = \"#EBF2FA\";","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport HomeRoundedIcon from \"@material-ui/icons/HomeRounded\";\r\nimport LocalShippingRoundedIcon from \"@material-ui/icons/LocalShippingRounded\";\r\nimport GroupRoundedIcon from \"@material-ui/icons/GroupRounded\";\r\nimport DateRangeRoundedIcon from \"@material-ui/icons/DateRangeRounded\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport BusinessRoundedIcon from \"@material-ui/icons/BusinessRounded\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { db } from \"../db/firebase\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { cerrar__sesion } from \"../db/auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { HEADER_BG_COLOR } from \"../variables\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  /**         4A051C       */\r\n  root: {\r\n    background: HEADER_BG_COLOR, //\"#363457\"\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    position: \"sticky\",\r\n    top: 0,\r\n    //borderLeft: \"1px #ccc solid\",\r\n    //minHeight: '100vh',\r\n  },\r\n\r\n  cnt_avatar: {\r\n    //backgroundColor: \"blue\",\r\n    width: \"25%\",\r\n\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n\r\n    //paddingLeft : 15,\r\n    justifyContent: \"flex-end\",\r\n    //paddingLeft : 50,\r\n    paddingRight : 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n    },\r\n  },\r\n\r\n  cnt_avatar_dos: {\r\n    //backgroundColor: \"blue\",\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n  },\r\n\r\n  cnt_links: {\r\n    //backgroundColor : 'blue',\r\n\r\n    width: \"50%\", //50 para 100%\r\n\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  top: {\r\n    //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: \"25%\",\r\n    //padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"55%\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  __icon_mobile: {\r\n    //backgroundColor: \"green\",\r\n    width: \"25%\",\r\n    justifyContent: \"flex-start\",\r\n    paddingLeft : 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      width: \"25%\",\r\n      height: \"100%\",\r\n      padding: 5,\r\n    },\r\n  },\r\n\r\n  icons: {\r\n    color: \"#ccc\",\r\n    textDecoration: \"none\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  icon_mobile: {\r\n    display: \"none\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //backgroundColor : \"red\",\r\n      display: \"flex\",\r\n      width: \"50%\",\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n\r\n  menu_mobile: {\r\n    //backgroundColor: \"blue\",\r\n    //width: \"20%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  displayName: {\r\n    //backgroundImage: \"linear-gradient(to left, #c31432, #240b36)\",\r\n    width: \"auto\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderRadius: 100,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  links: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  nav__links: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"#ccc\",\r\n    fontSize: \"15px\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n    fontWeight: \"bold\",\r\n    textDecoration: \"none\",\r\n    position: \"absoluted\",\r\n    marginRight: 24,\r\n    transition: \"color 300ms ease-in-out\",\r\n\r\n    \"&:hover\": {\r\n      //backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      color: \"#ffff\",\r\n      borderBottom: \"5px solid #fff\",\r\n      paddingBottom: \"10px\",\r\n    },\r\n  },\r\n\r\n  avatar: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    borderRadius: 50,\r\n  },\r\n\r\n  username: {\r\n    color: \"#fff\",\r\n    fontSize: \"15px\",\r\n    //fontWeight: \"bold\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n    marginLeft: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: 13,\r\n    },\r\n  },\r\n  icon: {\r\n    fontSize: 32,\r\n  },\r\n\r\n  logo: {\r\n    //backgroundColor : 'blue',\r\n    height: \"40px\",\r\n    width: \"40px\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  title: {\r\n    fontSize: 18,\r\n    color: \"#fff\",\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //width: \"100%\",\r\n    },\r\n  },\r\n\r\n  __active_nav: {\r\n    color: \"#fff\",\r\n  },\r\n\r\n  navigation_mobile: {\r\n    backgroundColor: \"yellow\",\r\n    zIndex: 10,\r\n  },\r\n}));\r\n\r\nconst Header = (props) => {\r\n  const { openSlideMenu, openNavigationMobileMenu } = props;\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  let history = useHistory();\r\n\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    cerrar__sesion();\r\n    history.push(\"/\");\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [refresh, setRefresh] = useState(false);\r\n  useEffect(async () => {\r\n    let user = localStorage.getItem(\"user\");\r\n    console.log(\"usuario => \", user);\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    await docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n          db.collection(\"usuario\")\r\n            .doc(doc.id)\r\n            .onSnapshot((doc) => {\r\n              console.log(\"Current data: \", doc.data());\r\n              setUsuario(doc.data());\r\n            });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          //console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const LINKS_ADMIN = [\r\n    {\r\n      text: \"INICIO\",\r\n      linkTo: \"/admin/home\",\r\n      icon: <HomeRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"USUARIOS\",\r\n      linkTo: \"/admin/conductores\",\r\n      icon: <GroupRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"CAMIONES\",\r\n      linkTo: \"/admin/camiones\",\r\n      icon: <LocalShippingRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"VIAJES\",\r\n      linkTo: \"/admin/viajes\",\r\n      icon: <DateRangeRoundedIcon />,\r\n    },\r\n    {\r\n      text: \"EMPRESAS\",\r\n      linkTo: \"/admin/empresa\",\r\n      icon: <BusinessRoundedIcon />,\r\n    },\r\n  ];\r\n  const LINKS_CONDUCTOR = [\r\n    {\r\n      text: \"MIS VIAJES\",\r\n      linkTo: \"/conductor/viajes\",\r\n      icon: <LocalShippingRoundedIcon />,\r\n    },\r\n  ];\r\n\r\n  const classes = useStyles();\r\n\r\n  let isAdmin = localStorage.getItem(\"isAdmin\");\r\n  const links = (isAdmin) => {\r\n    if (isAdmin === \"true\") {\r\n      return (\r\n        <Box className={classes.cnt_links}>\r\n          {/** Cambiar dependiendo de los privilegios */}\r\n          <Box className={classes.links}>\r\n            {LINKS_ADMIN.map((x) => (\r\n              <NavLink\r\n                to={x.linkTo}\r\n                className={classes.nav__links}\r\n                key={x.text}\r\n                activeClassName={classes.__active_nav}\r\n              >\r\n                {x.icon}\r\n                {x.text}\r\n              </NavLink>\r\n            ))}\r\n          </Box>\r\n\r\n          <Box className={classes.menu_mobile}>\r\n            <MenuIcon />\r\n          </Box>\r\n        </Box>\r\n      );\r\n    } else if (isAdmin === \"false\") {\r\n      return (\r\n        <Box className={classes.cnt_links}>\r\n          {/** Cambiar dependiendo de los privilegios */}\r\n          <Box className={classes.links}>\r\n            {LINKS_CONDUCTOR.map((x) => (\r\n              <NavLink\r\n                to={x.linkTo}\r\n                className={classes.nav__links}\r\n                activeClassName={classes.__active_nav}\r\n              >\r\n                {x.icon}\r\n                {x.text}\r\n              </NavLink>\r\n            ))}\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {isAdmin == \"true\" ? (\r\n        <Box className={classes.__icon_mobile}>\r\n          <span>\r\n            <a href=\"#\" className={classes.icons} onClick={openSlideMenu}>\r\n              <i class=\"bi bi-list\" style={{ fontSize: 42 }}></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      ) : (\r\n        <Box className={classes.__icon_mobile}>\r\n          <span>\r\n            <a href=\"#\" className={classes.icons} onClick={openSlideMenu}>\r\n              <i class=\"bi bi-list\" style={{ fontSize: 42 }}></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      )}\r\n      {isAdmin == \"true\" ? (\r\n        <Box className={classes.icon_mobile}>\r\n          <span>\r\n            <a\r\n              href=\"#\"\r\n              className={classes.icons}\r\n              onClick={openNavigationMobileMenu}\r\n            >\r\n              <i\r\n                className=\"bi bi-caret-down-fill\"\r\n                style={{ fontSize: 40 }}\r\n              ></i>\r\n            </a>\r\n          </span>\r\n        </Box>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {/** Cambiar dependiendo de los privilegios */}\r\n\r\n      {links(isAdmin)}\r\n      <Box className={classes.cnt_avatar}>\r\n        <Box className={classes.displayName} elevation={3}>\r\n          {/** Cambiar dependiendo del usuario que inició sesión */}\r\n          <div className={classes.cnt_avatar_dos}>\r\n            <img\r\n              alt=\"user_avatar\"\r\n              src={usuario ? usuario.photoURL === '' ? \"/default_avatar.png\" : usuario.photoURL : \"/default_avatar.png\"}\r\n              className={classes.avatar}\r\n            />\r\n          </div>\r\n\r\n          <span className={classes.username}>\r\n            {usuario ? usuario.nombres.toUpperCase() : \"\"}\r\n          </span>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n/**Components import */\r\nimport Header from \"../../components/Header\";\r\nimport {db} from \"../../db/firebase\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    backgroundColor: \"#f1f5f9\",\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n  },\r\n\r\n  __header: {\r\n    height: \"10vh\",\r\n    width: \"100vw\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginLeft: \"70px\",\r\n    },\r\n  },\r\n  __content: {\r\n    //backgroundColor: \"#d4c4fb\",\r\n    width: \"100%\",\r\n    height: \"90vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    //marginLeft: \"280px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginLeft: \"70px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Conductor_home = (props) => {\r\n  const classes = useStyles();\r\n  const [usuario, setUsuario] = useState(null);\r\n  const [viajes, setViajes] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data())\r\n          setViajes(doc.data().viajes)\r\n\r\n          doc.data().viajes.forEach(x => {\r\n            /** antes de */\r\n            if(dayjs(x.fecha.toDate()).isBefore(dayjs()) == true){\r\n              console.log(\"Viajes Anteriores => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }else if(dayjs(x.fecha.toDate()).isSame(dayjs(), 'date') == true){\r\n              console.log(\"Posee un viaje hoy => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }else if (dayjs(x.fecha.toDate()).isAfter(dayjs()) == true){\r\n              console.log(\"Proximos viajes => \", dayjs(x.fecha.toDate()).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\"));\r\n            }\r\n            \r\n          });\r\n\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  },[]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.__header}>\r\n        <Header />\r\n      </div>\r\n\r\n      <div className={classes.__content}>\r\n        <h1>Conductor_home</h1>\r\n        <h1>{dayjs().locale(\"es\").format(\"DD MMMM YYYY hh:mm A\")}</h1>\r\n        <h1>Viajes Totales : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        <h1>Viajes Terminados : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        <h1>Viajes Programados : {viajes ? viajes.length : \"cargando...\"}</h1>\r\n        \r\n        <Box>\r\n          <Link to=\"/\">Volver al inicio</Link>\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conductor_home;\r\n","import React from \"react\";\r\nimport { Box, Divider } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {MENU_LATERAL_BG_COLOR} from \"../variables\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: MENU_LATERAL_BG_COLOR,\r\n\r\n    //display : 'flex',\r\n    //flex : 'wrap',\r\n\r\n    width: \"100%\",\r\n\r\n    height: \"100%\",\r\n  },\r\n\r\n  footer: {\r\n    //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  top: {\r\n   //backgroundColor : 'red',\r\n    //borderTop : '1px solid #ccc',\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n\r\n    marginTop: 0,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      //marginTop: 5,\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container_icon: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n\r\n  icons: {\r\n    color: \"#ccc\",\r\n    textDecoration: \"none\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  center: {\r\n    //backgroundColor : 'blue',\r\n  },\r\n\r\n  logo: {\r\n    //backgroundColor : 'blue',\r\n    height: \"40px\",\r\n    width: \"40px\",\r\n    //marginRight: 10,\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  title: {\r\n    fontSize: 20,\r\n    color: \"#fff\",\r\n    fontFamily: \"Dela Gothic One, cursive\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: 18,\r\n    },\r\n  },\r\n\r\n  __icon_mobile: {\r\n    backgroundColor: \"green\",\r\n    display: \"none\",\r\n    justifyContent: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      width: \"20%\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Side_menu = (props) => {\r\n  const { closeSlideMenu } = props;\r\n  /** recibe -> itemList , settingList */\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.top}>\r\n      <span className={classes.container_icon}>\r\n          <a href=\"#\" className={classes.icons} onClick={closeSlideMenu}>\r\n            <i\r\n              class=\"bi bi-x\"\r\n              style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}\r\n            ></i>\r\n          </a>\r\n        </span>\r\n        <img src=\"/logo_3.png\" className={classes.logo}></img>\r\n\r\n        \r\n\r\n        <Box\r\n          style={{\r\n            width: \"90%\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <span className={classes.title}>INKA SPA</span>\r\n        </Box>\r\n      </div>\r\n\r\n      <Box className={classes.center}>{props.itemList}</Box>\r\n\r\n      <Box className={classes.footer}>\r\n        <Divider />\r\n        <Box></Box>\r\n        <Box></Box>\r\n        <Box>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Side_menu;\r\n","import React from \"react\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\n\r\nimport {\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundImage: \"linear-gradient(to right, #434343 0%, black 100%)\",\r\n\r\n    //display : 'flex',\r\n    //flex : 'wrap',\r\n\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    \r\n  },\r\n\r\n  listItem: {\r\n    //backgroundColor: \"skyblue\", //** */\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    overflow: \"hidden\",\r\n    paddingTop : 50\r\n  },\r\n\r\n  listItemIcon: {\r\n    color: \"#fff\",\r\n  },\r\n  listItemText: {\r\n    color: \"#fff\",\r\n    fontSize: 15,\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n  },\r\n\r\n  topItemList: {\r\n    //backgroundColor: \"pink\",\r\n    height: \"60%\",\r\n  },\r\n\r\n  bottomItemList: {\r\n    //backgroundColor: \"green\",\r\n    height: \"40%\",\r\n  },\r\n  item: {\r\n    \"&:hover\": {\r\n      //backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      backgroundColor: \"#C1BFD9\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport const MenuTest = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={classes.listItem}>\r\n      <Box>\r\n        <List className={classes.topItemList}>\r\n          {props.admin_items.map((item, index) => (\r\n            <ListItem\r\n              button\r\n              key={item.text}\r\n              onClick={item.onClick}\r\n              disabled={item.isDisabled}\r\n              className={classes.item}\r\n            >\r\n              <ListItemIcon className={classes.listItemIcon}>\r\n                {/**ICONO HERE!!!! */}\r\n                {item.icon}\r\n              </ListItemIcon>\r\n\r\n              <ListItemText>\r\n                <span className={classes.listItemText}>{item.text}</span>\r\n              </ListItemText>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n\r\n      <Divider />\r\n      <Box>\r\n        <List className={classes.bottomItemList}>\r\n          {props.admin_settings.map((item, index) => (\r\n            <ListItem\r\n              button\r\n              key={item.text}\r\n              onClick={item.onClick}\r\n              className={classes.item}\r\n            >\r\n              <ListItemIcon className={classes.listItemIcon}>\r\n                {/**ICONO HERE!!!! */}\r\n                {item.icon}\r\n              </ListItemIcon>\r\n\r\n              <ListItemText>\r\n                <span className={classes.listItemText}>{item.text}</span>\r\n              </ListItemText>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Drawer } from \"antd\";\r\n\r\nimport { auth, db, storage } from \"./../db/firebase\";\r\nimport { cerrar__sesion } from \"./../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"./estilos_drawer_usuario.css\";\r\n\r\nconst DrawerPerfilUsuario = (props) => {\r\n  const { visible, setVisible, usuario, closeSlideMenu } = props;\r\n\r\n  const [newPass, setNewPass] = useState(\"\");\r\n  const [actualPass, setActualPass] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n\r\n  const [errorPass, setErrorPass] = useState(false);\r\n  const [succefulPass, setSuccesfulPass] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n    closeSlideMenu();\r\n\r\n    setNewPass(\"\");\r\n    setActualPass(\"\");\r\n  };\r\n\r\n  const passActual = async (e) => {\r\n    await setActualPass(e.target.value);\r\n    console.log(\"change pass => \", actualPass);\r\n  };\r\n\r\n  const passListener = (e) => {\r\n    let verify = e.target.value;\r\n\r\n    setNewPass(verify);\r\n\r\n    console.log(\"change new pass => \", verify);\r\n\r\n    console.log(verify.length);\r\n\r\n    if (verify.length > 7) {\r\n      if (/[A-Z]/.test(verify) && /[a-z]/.test(verify)) {\r\n        setDisabled(false);\r\n      } else {\r\n        setDisabled(true);\r\n      }\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  const changePassword = () => {\r\n    console.log(\"CAMBIAR BUTTON => \", actualPass);\r\n    let pass_actual = localStorage.getItem(\"password\");\r\n    console.log(\"pass acutal --> \", pass_actual);\r\n\r\n    if (pass_actual === actualPass) {\r\n      console.log(\"CONTRASEÑAS COINCIDEN\");\r\n      var user = auth.currentUser;\r\n      var newPassword = newPass;\r\n\r\n      user\r\n        .updatePassword(newPassword)\r\n        .then(function () {\r\n          setSuccesfulPass(true);\r\n          setTimeout(() => {\r\n            setSuccesfulPass(false);\r\n            //redirigir al login.\r\n            cerrar__sesion();\r\n            history.push(\"/\");\r\n          }, 5000);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"error => \", error);\r\n          setErrorMessage(\"Para realizar esta acción inicie sesión de nuevo.\");\r\n          setErrorPass(true);\r\n          setTimeout(() => {\r\n            setErrorPass(false);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      console.log(\"CONTRASEÑAS NO COINCIDEN\");\r\n      setErrorMessage(\"Contraseña acutal no coincide con nuestros registros.\");\r\n      setErrorPass(true);\r\n      setTimeout(() => {\r\n        setErrorPass(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const file = useRef();\r\n  const [photoUrl, setPhotoUrl] = useState(\"\");\r\n  const [foto_error, setFotoError] = useState(false);\r\n\r\n  const [disabledLoad, setDisabledLoad] = useState(true);\r\n\r\n  const uploadPhoto = async () => {\r\n    console.log(\"ON CHANGE FOTO\");\r\n    const file_img = file.current.files[0];\r\n    //setPhotoUrl(file_name);\r\n\r\n    if (file_img) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhotoUrl(reader.result);\r\n      };\r\n      await reader.readAsDataURL(file_img);\r\n    }\r\n    setDisabledLoad(false);\r\n  };\r\n\r\n  const cambiar_foto = () => {\r\n    console.log(\"Cambiar foto\");\r\n    var userRef = db.collection(\"usuario\").doc(usuario.id);\r\n    var metadata = {\r\n      contentType: \"image/jpeg\",\r\n    };\r\n    var storageRef = storage.ref();\r\n    var pathName = \"avatars/\" + usuario.email + \".profilePhoto\";\r\n    var avatarRef = storageRef.child(pathName);\r\n\r\n    avatarRef.put(file.current.files[0], metadata).then(function (snapshot) {\r\n      avatarRef.getDownloadURL().then((x) => {\r\n        console.log(x);\r\n        // Set the \"capital\" field of the city 'DC'\r\n        return userRef\r\n          .update({\r\n            photoURL: x,\r\n          })\r\n          .then(() => {\r\n            console.log(\"Document successfully updated!\");\r\n            setFotoError(true);\r\n            setTimeout(() => {\r\n              setFotoError(false);\r\n              setDisabledLoad(true);\r\n            }, 1500);\r\n          })\r\n          .catch((error) => {\r\n            // The document probably doesn't exist.\r\n            console.error(\"Error updating document: \", error);\r\n          });\r\n      });\r\n      console.log(\"Uploaded a blob or file!\");\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(usuario);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Drawer\r\n        title=\"MI PERFIL\"\r\n        placement={\"left\"}\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        key={\"left\"}\r\n        width={300}\r\n      >\r\n        <p className=\"Title\">Mis Datos</p>\r\n\r\n        <div className=\"d-grid gap-3\">\r\n          <div className=\"border Wrapper-image-perfil\">\r\n            <img\r\n              src={photoUrl ? photoUrl : usuario ? usuario.photoURL : \"\"}\r\n              className=\"Image-perfil\"\r\n            ></img>\r\n          </div>\r\n          {foto_error ? (\r\n            <strong className=\"text-success\">Foto actualizada</strong>\r\n          ) : null}\r\n          <input\r\n            name=\"photoUrl\"\r\n            id=\"id_photoUrl\"\r\n            type=\"file\"\r\n            ref={file}\r\n            onChange={(e) => {\r\n              uploadPhoto();\r\n            }}\r\n          />\r\n          <button onClick={() => cambiar_foto()} disabled={disabledLoad} className=\"btn btn-primary\">Cambiar Foto de Perfil</button>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.rut : \"\"}\r\n          </div>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.nombres + \" \" + usuario.apellidos : \"\"}\r\n          </div>\r\n\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.email : \"\"}\r\n          </div>\r\n          <div className=\"p-2 bg-light border\">\r\n            {usuario ? usuario.telefono : \"\"}\r\n          </div>\r\n          <span className=\"Title\">Ajustes</span>\r\n          {errorPass ? (\r\n            <div\r\n              className=\"alert alert-danger alert-dismissible fade show\"\r\n              role=\"alert\"\r\n            >\r\n              <strong>Error: </strong> Contraseñas no coinciden.\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {succefulPass ? (\r\n            <div\r\n              className=\"alert alert-success alert-dismissible fade show\"\r\n              role=\"alert\"\r\n            >\r\n              <strong>Exito: </strong> Redirigiendo....\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <span id=\"passwordHelpInline\" class=\"form-text\">\r\n            Contraseña actual:\r\n          </span>\r\n          <div className=\"input-group mb-1 mx-auto\">\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">\r\n              <i class=\"bi bi-lock-fill\"></i>\r\n            </span>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Contraseña actual\"\r\n              aria-label=\"Contraseña1\"\r\n              aria-describedby=\"basic-addon1\"\r\n              onChange={(e) => passActual(e)}\r\n              minLength=\"6\"\r\n              autocomplete=\"new-password\"\r\n            />\r\n          </div>\r\n          <span id=\"passwordHelpInline\" className=\"form-text\">\r\n            Nueva contraseña: (debe ser mayor a 7 caracteres y con una mayúscula\r\n            al menos)\r\n          </span>\r\n          <div className=\"input-group mb-1 mx-auto\">\r\n            <span className=\"input-group-text\" id=\"basic-addon1\">\r\n              <i class=\"bi bi-lock-fill\"></i>\r\n            </span>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Contraseña nueva\"\r\n              aria-label=\"Contraseña2\"\r\n              aria-describedby=\"basic-addon2\"\r\n              onKeyUp={(e) => passListener(e)}\r\n              minLength=\"6\"\r\n              autocomplete=\"new-password\"\r\n            />\r\n          </div>\r\n          <button\r\n            className=\"btn btn-danger mt-3\"\r\n            onClick={changePassword}\r\n            disabled={disabled}\r\n          >\r\n            Cambiar Contraseña\r\n          </button>\r\n        </div>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerPerfilUsuario;\r\n","import React from \"react\";\r\nimport Tag from \"antd/lib/tag\";\r\nimport \"antd/lib/tag/style/css\";\r\n\r\nconst statusMap = {\r\n  true: <Tag color=\"green\">Completado</Tag>,\r\n  false: <Tag color=\"orange\">Programado</Tag>\r\n};\r\n\r\nexport const StatusTag = ({ status }) => statusMap[status];","\r\nimport React, { useState } from 'react'\r\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow} from \"react-google-maps\";\r\nimport usePlacesAutocomplete, {getGeocode, getLatLng,} from \"use-places-autocomplete\";\r\nimport { Loader } from \"@googlemaps/js-api-loader\"\r\n//import useOnclickOutside from \"react-cool-onclickoutside\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nfunction Map(props) {\r\n    const { empresaMarker} = props;\r\n    const [marker, setMarker] = useState({lat: -23.5325518, lng :-70.399952});\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    return (\r\n            <GoogleMap \r\n                defaultZoom={18} \r\n                defaultCenter={{lat: empresaMarker.lat, lng : empresaMarker.lng}}\r\n                \r\n                center={{lat: empresaMarker.lat, lng : empresaMarker.lng}} \r\n            >\r\n                <Marker \r\n                    position={{lat: empresaMarker.lat, lng : empresaMarker.lng}} \r\n                    onClick={() => {\r\n                        setSelected(empresaMarker);\r\n                    }}\r\n                />\r\n\r\n                {selected ? \r\n                <InfoWindow \r\n                    position={{lat: empresaMarker.lat, lng : empresaMarker.lng}}\r\n                    onCloseClick={() => {\r\n                        setSelected(null);\r\n                    }} \r\n                >\r\n                    <div>\r\n                        <h5>ej: Groot Limitada</h5>\r\n                    </div>\r\n                </InfoWindow> : null}\r\n            </GoogleMap>\r\n    )\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function GMap(props){\r\n    const {empresaMarker} = props;\r\n    return (\r\n        <div style={{width : \"90vw\" , height : \"100vh\"}}>\r\n            \r\n            <WrappedMap \r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places`}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div style={{ height: `400px` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                empresaMarker={empresaMarker}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport Map from \"./MapOnlyView\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nexport default function ModalMap_onlyView(props) {\r\n\r\n  const {empresa_cor, openModalMap, setOpenModalMap} = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalMap}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth\r\n        maxWidth={'xl'}\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\" className=\"Modal-header\">\r\n          <span className=\"Modal-title\">Ubicación</span>\r\n        </DialogTitle>\r\n        <DialogContent className=\"Map-wrapper\">\r\n          <DialogContentText>\r\n            Descripción de las acciones\r\n          </DialogContentText>\r\n\r\n          <Map empresaMarker={empresa_cor}/>\r\n\r\n        </DialogContent>\r\n        <DialogActions className=\"Modal-actions\">\r\n          <Button onClick={() => setOpenModalMap(false)} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\n\r\n/** imports de pdf */\r\nimport ReactPDF from \"@react-pdf/renderer\";\r\nimport {\r\n  Page,\r\n  Text,\r\n  View,\r\n  Document,\r\n  StyleSheet,\r\n  Image,\r\n} from \"@react-pdf/renderer\";\r\nimport { PDFViewer } from \"@react-pdf/renderer\";\r\n\r\nimport { Table } from \"antd\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  viewer: {\r\n    height: \"100%\",\r\n  },\r\n}));\r\n\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    flexDirection: \"column\",\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  header: {\r\n    backgroundColor: \"#fff\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    borderTopWidth: 1,\r\n    borderLeftWidth: 1,\r\n    borderRightWidth: 1,\r\n    borderBottom: 1,\r\n    marginHorizontal: 10,\r\n    padding: 10,\r\n  },\r\n  row: {\r\n    marginHorizontal: 10,\r\n    borderBottomWidth: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n\r\n  cell: {\r\n    width: \"20%\",\r\n    height: \"100%\",\r\n    //backgroundColor : \"skyblue\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: 3,\r\n    borderLeft: \"1px #ccc solid\",\r\n  },\r\n\r\n  cell_2: {\r\n    width: \"10%\",\r\n    height: \"100%\",\r\n    //backgroundColor : \"skyblue\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: 3,\r\n    borderRight: \"1px #ccc solid\",\r\n    borderLeft: \"1px #ccc solid\",\r\n  },\r\n\r\n  head_cell: {\r\n    width: \"20%\",\r\n    height: \"100%\",\r\n    //backgroundColor : \"skyblue\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: 3,\r\n  },\r\n\r\n  text: {\r\n    fontSize: 8,\r\n  },\r\n  head_text: {\r\n    fontSize: 10,\r\n    fontWeight: \"600\",\r\n  },\r\n\r\n  section: {\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  section_top : {\r\n    width: \"100%\",\r\n    display : \"flex\",\r\n    flexDirection : \"row\",\r\n    justifyContent : \"center\"\r\n  },\r\n  text_description: {\r\n    fontSize: 12,\r\n  },\r\n  image: {\r\n    height: 110,\r\n    width: 110,\r\n  },\r\n});\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog(props) {\r\n  const classes = useStyles();\r\n\r\n  const { open, setOpen, data } = props;\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const MyDocument = () => (\r\n    <Document>\r\n      <Page size=\"A4\" style={styles.page}>\r\n        <View style={styles.section}>\r\n          <View style={styles.section_top}> \r\n            <Image style={styles.image} src=\"/logo_v6.jpg\" />\r\n          </View>\r\n          <View style={styles.section_top}> \r\n          <Text style={styles.text_description}>\r\n            {dayjs().locale(\"es\").format(\"DD MMMM YYYY\")}\r\n          </Text>\r\n          </View>\r\n\r\n          \r\n        </View>\r\n\r\n        <View style={styles.header}>\r\n          <View style={styles.head_cell}>\r\n            <Text style={styles.head_text}>Fecha</Text>\r\n          </View>\r\n          <View style={styles.head_cell}>\r\n            <Text style={styles.head_text}>Nombre</Text>\r\n          </View>\r\n          <View style={styles.head_cell}>\r\n            <Text style={styles.head_text}>Camion</Text>\r\n          </View>\r\n          <View style={styles.head_cell}>\r\n            <Text style={styles.head_text}>Empresa</Text>\r\n          </View>\r\n          <View style={styles.head_cell}>\r\n            <Text style={styles.head_text}>Dirección</Text>\r\n          </View>\r\n        </View>\r\n        {data.map((x) => {\r\n          return (\r\n            <View style={styles.row} key={x.fecha}>\r\n              <View style={styles.cell}>\r\n                <Text style={styles.text}>{x.fecha}</Text>\r\n              </View>\r\n              <View style={styles.cell}>\r\n                <Text style={styles.text}>{x.conductor}</Text>\r\n              </View>\r\n              <View style={styles.cell}>\r\n                <Text style={styles.text}>{x.camion}</Text>\r\n              </View>\r\n              <View style={styles.cell}>\r\n                <Text style={styles.text}>{x.direccion}</Text>\r\n              </View>\r\n              <View style={styles.cell}>\r\n                <Text style={styles.text}>{x.destino}</Text>\r\n              </View>\r\n              <View style={styles.cell_2}>\r\n                <Text style={styles.text}>\r\n                  {x.estado ? \"Completado\" : \"Programado\"}\r\n                </Text>\r\n              </View>\r\n            </View>\r\n          );\r\n        })}\r\n      </Page>\r\n    </Document>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Reporte\r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleClose}>\r\n              Guardar\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <PDFViewer className={classes.viewer}>\r\n          <MyDocument data={data} />\r\n        </PDFViewer>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { DatePicker } from \"antd\";\r\nimport { StatusTag } from \"../../../components/StatusTag\";\r\n\r\nimport { Select } from \"antd\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport * as dayjs from \"dayjs\";\r\nimport { Chip } from \"@material-ui/core\";\r\nimport ModalReporte from \"../../../components/modals/ModalReporte\";\r\nimport \"./DataTable_viaje_estilos.css\";\r\nimport locale_ from \"antd/es/date-picker/locale/es_ES\";\r\n\r\nvar locale = require(\"dayjs/locale/es\");\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {\r\n      \r\n    },\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n      \r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \" : {\r\n      background: DATATABLE_BG_COLOR,\r\n      color : DATATABLE_TEXT_COLOR,\r\n      \r\n   },\r\n   boxShadow : '4px 4px 10px 10px rgba(0,0,0,0.1)',\r\n   backgroundColor: \"#fff\",\r\n  },\r\n\r\n  filter__section: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"20%\",\r\n    backgroundColor: \"#1D1D34\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n    padding: 5,\r\n  },\r\n\r\n  label__container: {},\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter__title: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginRight: 5,\r\n    fontWeight: \"600\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst DataTable_conductor_viajes_ant = (props) => {\r\n  const { setIsSelected, setSelectedItem, selectedItem, setViajes } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  const [conductor_id, setConductorId] = useState(null);\r\n  const [rango_fechas, setRangoFechas] = useState(null);\r\n  //const [fecha, setFecha] = useState(null);\r\n\r\n  const [filter_empresa, setFilterEmpresa] = useState(null);\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n\r\n  const [empresaList, setEmpresaList] = useState([]);\r\n\r\n  const [conductores_list, setConductoresList] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [empresa, setEmpresa] = useState(\"\");\r\n  /** LABELS STATE */\r\n\r\n  const [conductorLabel, setConductorLabel] = useState(false);\r\n  const [rangoLabel, setRangoLabel] = useState(false);\r\n  const [empresaLabel, setEmpresaLabel] = useState(false);\r\n  const [estadoLabel, setEstadoLabel] = useState(false);\r\n  const [removeFilter, setRemoveFilter] = useState(false);\r\n  const [fecha, setFecha] = useState(null);\r\n  const [filterState, setFilterState] = useState([]);\r\n\r\n  //const [empresa_cor, setEmpresaCor] = useState({});\r\n  //const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Fecha\",\r\n      dataIndex: \"fecha\",\r\n      key: \"fecha\",\r\n      render: (text) => <a>{text}</a>,\r\n      sorter: (a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? 1 : -1,\r\n      defaultSortOrder: \"descend\",\r\n    },\r\n    {\r\n      title: \"Region/Comuna\",\r\n      dataIndex: \"destino\",\r\n      key: \"marca\",\r\n    },\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"direccion\",\r\n      key: \"marca\",\r\n      render: (text, empresa) => <a className=\"text-primary\" onClick={() => ver_empresa_map(empresa.empresa_latitud, empresa.empresa_longitud)}><strong>{text}</strong></a>,\r\n    },\r\n    {\r\n      title: \"Camion\",\r\n      dataIndex: \"camion\",\r\n      key: \"patente\",\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      key: \"disponible\",\r\n      render: (text, record) => <StatusTag status={record.estado} />,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(lat, lon){\r\n    await setEmpresaCor({lat : lat, lng : lon  });\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setX(selectedRowKeys);\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item = {};\r\n    let data_camiones = {};\r\n    let conductor_item = {};\r\n\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n    const viajes = [];\r\n    await docRef.get().then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n\r\n          doc.data().viajes.forEach(async (x) => {\r\n            let viaje = {};\r\n\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:MM A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            let estado;\r\n            if (dayjs(x.fecha.toDate()).isBefore(dayjs())) {\r\n              estado = true;\r\n            } else {\r\n              estado = false;\r\n            }\r\n\r\n            var camionRef = db.collection(\"camion\").doc(x.id_camion);\r\n            let camion_info = \"\";\r\n\r\n            await camionRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                camion_info = doc.data().modelo + \" \" + doc.data().patente;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            let empresa_latitud;\r\n            let empresa_longitud;\r\n            var empresaRef = db.collection(\"empresa\").doc(x.destino);\r\n\r\n            empresaRef.get().then((empresa) => {\r\n              if (empresa.exists) {\r\n                item = {};\r\n                //console.log(\"!! 3\");\r\n\r\n                let destino = empresa.data().direccion;\r\n                let empresa_name = empresa.data().empresa;\r\n\r\n                empresa_latitud = empresa.data().latitud;\r\n                empresa_longitud = empresa.data().longitud;\r\n\r\n                item = {\r\n                  id: x.id,\r\n                  fechaSorter: x.fecha.toDate(),\r\n                  fecha: formatDate,\r\n                  conductor: doc.data().nombres,\r\n                  camion: camion_info,\r\n                  origen: x.origen,\r\n                  destino: destino,\r\n                  empresa_id: empresa.id,\r\n                  estado: estado,\r\n                  id_user: doc.id,\r\n                  id_camion: x.id_camion,\r\n                  fecha_camion: formatDate2,\r\n                  direccion: empresa_name,\r\n\r\n                  empresa_latitud : empresa_latitud,\r\n                  empresa_longitud : empresa_longitud,\r\n                };\r\n\r\n                data_camiones = {\r\n                  id_camion: x.id_camion,\r\n                  fecha: formatDate2,\r\n                };\r\n\r\n                //setFilterData([...filterData , item]);\r\n\r\n                item__list.push(item);\r\n                data_camiones__list.push(data_camiones);\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n    setTimeout(function () {\r\n      setData(item__list);\r\n      setFilterData(item__list);\r\n      setIsLoaded(false);\r\n      setViajes(item__list)\r\n    }, 1000);\r\n  };\r\n\r\n  const handleDateFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    console.log(\"Quitar filtro\");\r\n    setFilterState(data);\r\n  };\r\n\r\n  /** Select Section */\r\n  function onChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  function onSearch(val) {\r\n    console.log(\"search:\", val);\r\n  }\r\n\r\n  function onSelect(val) {\r\n    setConductorId(val);\r\n  }\r\n\r\n  function onSelectEmpresa(val) {\r\n    setFilterEmpresa(val);\r\n  }\r\n\r\n  function onSelectEstado(val) {\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function onDeleteRango() {\r\n    setRangoFechas(null);\r\n    setRangoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEmpresa() {\r\n    setFilterEmpresa(null);\r\n    setEmpresaLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEstado() {\r\n    setFilterEstado(null);\r\n    setEstadoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"APLICANDO FILTRO ...\");\r\n    setFilterData(data);\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ id_user }) => id_user === conductor_id\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n\r\n      setConductorLabel(true);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      setRangoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_empresa !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id }) => empresa_id === filter_empresa\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEmpresaLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_estado !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEstadoLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_estado !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y ESTADO\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ estado, id_user }) =>\r\n          estado === filter_estado && id_user === conductor_id\r\n      );\r\n\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR Y RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(\r\n        ({ id_user, fechaSorter }) =>\r\n          id_user === conductor_id &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado }) =>\r\n          empresa_id === filter_empresa && estado === filter_estado\r\n      );\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, id_user }) =>\r\n          empresa_id === filter_empresa && id_user === conductor_id\r\n      );\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_empresa !== null &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter }) =>\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_estado !== null &&\r\n      filter_empresa === null &&\r\n      conductor_id === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ fechaSorter, estado }) =>\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA \");\r\n      console.log(\r\n        dayjs(\"30 Abril 2021 21:04 PM\").isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ estado, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas === null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , EMPRESA Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          empresa_id === filter_empresa\r\n      );\r\n\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado, id_user }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n  }\r\n\r\n  function rangeOnChange(date, dateString) {\r\n    setRangoFechas(date);\r\n  }\r\n\r\n  function clear_filter() {\r\n    setConductorId(null);\r\n    setRangoFechas(null);\r\n    setFecha(null);\r\n    setFilterEmpresa(null);\r\n    setFilterEstado(null);\r\n\r\n    setConductorLabel(false);\r\n    setRangoLabel(false);\r\n    setEmpresaLabel(false);\r\n    setEstadoLabel(false);\r\n\r\n    setFilterData(data);\r\n  }\r\n\r\n  function create_pdf() {\r\n    setOpen(true);\r\n  }\r\n\r\n  useEffect(async() => {\r\n    await get__viajes();\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n\r\n        setEmpresaList(list__empresas);\r\n\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n\r\n      let conductor_list = [];\r\n      db.collection(\"usuario\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let conductor_item;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          conductor_item = {\r\n            id: doc.id,\r\n            nombres: doc.data().nombres,\r\n            apellidos: doc.data().apellidos,\r\n            disabled: doc.data().disabled,\r\n          };\r\n          conductor_list.push(conductor_list);\r\n        });\r\n\r\n        setConductoresList(conductor_list);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n\r\n      \r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  useEffect(async () => {\r\n    if (removeFilter === true) {\r\n      console.log(\"USE EFFECT REMOVE\");\r\n\r\n      filter_general();\r\n    }\r\n    setRemoveFilter(false);\r\n\r\n    console.log(removeFilter);\r\n  }, [removeFilter]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ModalReporte open={open} setOpen={setOpen} data={filterData} />\r\n      <div className={classes.filter__section}>\r\n        <div className={classes.label__container}>\r\n          <span className={classes.filter__title}>Filtrando por : </span>\r\n          {conductorLabel || rangoLabel || estadoLabel || empresaLabel ? (\r\n            \"\"\r\n          ) : (\r\n            <Chip\r\n              label=\"No hay filtros activos\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              onDelete={handleDelete}\r\n              clickable\r\n            />\r\n          )}\r\n          {rangoLabel ? (\r\n            <Chip\r\n              label=\"rango de fechas\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteRango}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {empresaLabel ? (\r\n            <Chip\r\n              label=\"empresa\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEmpresa}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {estadoLabel ? (\r\n            <Chip\r\n              label=\"estado\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEstado}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className={classes.filter__container}>\r\n\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por rango de fechas :</span>\r\n            <RangePicker\r\n              onChange={rangeOnChange}\r\n              locale={locale_}\r\n              value={rango_fechas}\r\n            />\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Empresa :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Empresa\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelectEmpresa}\r\n              value={filter_empresa}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {empresaList.map((x) => {\r\n                return <Option value={x.id} key={x.id}>{x.empresa}</Option>;\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Estado :</span>\r\n            <Select\r\n              id=\"state\"\r\n              showSearch\r\n              placeholder=\"Seleccione Estado\"\r\n              optionFilterProp=\"children\"\r\n              onSelect={onSelectEstado}\r\n              value={filter_estado}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              <Option value={true} key=\"1\">Completado</Option>\r\n              <Option value={false} key=\"2\">Programado</Option>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div className={classes.button__container}>\r\n          <button onClick={filter_general} className={classes.button} className=\"btn btn-primary Button_filters\">\r\n            <i className=\"bi bi-filter\"></i> Filtrar\r\n          </button>\r\n          <button onClick={clear_filter} className={classes.button} className=\"btn btn-primary Button_filters\">\r\n            Limpiar Filtros\r\n          </button>\r\n          <button onClick={create_pdf} className={classes.button} className=\"btn btn-primary Button_filters\">\r\n            <i className=\"bi bi-file-earmark-plus-fill\"></i> Generar PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_conductor_viajes_ant;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n/**Components import */\r\nimport Header from \"../../components/Header\";\r\nimport MENU_LATERAL from \"../../components/Side_menu\";\r\nimport {MenuTest} from \"../../components/items/Menu_items\";\r\nimport DRAWERPERFILUSUARIO from \"../../components/DrawerPerfilUsuario\";\r\n\r\nimport { cerrar__sesion } from \"../../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nimport TABLA_VIAJES_CONDUCTOR from \"../admin/data_tables/DataTable_conductor_viajes_ant\";\r\n\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport EventBusyIcon from \"@material-ui/icons/EventBusy\";\r\n\r\nimport LocationOnRoundedIcon from \"@material-ui/icons/LocationOnRounded\";\r\n\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport \"./estilos_conductor_viajes.css\";\r\n\r\nimport {CARDS_ADMIN_BG_COLOR, CARDS_ADMIN_TEXT_COLOR, DATATABLE_BG_COLOR} from \"../../variables\";\r\n\r\nconst Conductor_viajes = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [usuario, setUsuario] = useState(null);\r\n  const [viajes, setViajes] = useState(null);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const [ultimo_viaje, setUltimoViaje] = useState(null);\r\n  const [proximo_viaje, setProximoViaje] = useState(\"\");\r\n  const [acutal_viaje, setActualViaje] = useState(\"\");\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(async () => {\r\n    let user = localStorage.getItem(\"user\");\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then(async (doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n          setViajes(doc.data().viajes);\r\n          let cont = 0;\r\n\r\n          const filtro_ultimo = doc\r\n            .data()\r\n            .viajes.filter((x) => dayjs(x.fecha.toDate()).isBefore(dayjs()));\r\n\r\n          const filtro_proximo = doc\r\n            .data()\r\n            .viajes.filter((x) => dayjs(x.fecha.toDate()).isAfter(dayjs()));\r\n\r\n          const sorted_filtro_ultimo = filtro_ultimo.sort(\r\n            (a, b) => b.fecha - a.fecha\r\n          );\r\n\r\n          const sorted_filtro_proximo = filtro_proximo.sort(\r\n            (a, b) => a.fecha - b.fecha\r\n          );\r\n\r\n          const ultimo = sorted_filtro_ultimo.find((element) =>\r\n            dayjs(element.fecha.toDate()).isBefore(dayjs(), \"date\")\r\n          );\r\n          const proximo = sorted_filtro_proximo.find((element) =>\r\n            dayjs(element.fecha.toDate()).isAfter(dayjs())\r\n          );\r\n          const actual = doc\r\n            .data()\r\n            .viajes.find((element) =>\r\n              dayjs(element.fecha.toDate()).isSame(dayjs(), \"date\")\r\n            );\r\n\r\n          if (ultimo) {\r\n            var ultimoRef = db.collection(\"empresa\").doc(ultimo.destino);\r\n            await ultimoRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  ultimo.destino = doc.data().empresa;\r\n                  ultimo.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          if (actual) {\r\n            var actualRef = db.collection(\"empresa\").doc(actual.destino);\r\n            await actualRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  actual.destino = doc.data().empresa;\r\n                  actual.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          if (proximo) {\r\n            var proximoRef = db.collection(\"empresa\").doc(proximo.destino);\r\n            await proximoRef\r\n              .get()\r\n              .then((doc) => {\r\n                if (doc.exists) {\r\n                  proximo.destino = doc.data().empresa;\r\n                  proximo.direccion = doc.data().direccion;\r\n                } else {\r\n                  console.log(\"No such document!\");\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n              });\r\n          }\r\n\r\n          setUltimoViaje(ultimo);\r\n          setProximoViaje(proximo);\r\n          setActualViaje(actual);\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Mi Perfil\",\r\n      icon: <AccountCircleIcon />,\r\n      onClick: () => {\r\n        setVisible(true);\r\n        //setSelectedItem(null);\r\n        //setOpenModalCamion(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesión\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <Header openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={CONDUCTOR_ITEMS}\r\n              admin_settings={[]}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        <div className=\"card-container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n          <div style={{padding : 10}}>\r\n              <span className=\"card-title\">Ultimo viaje: </span>\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje\r\n                  ? dayjs(ultimo_viaje.fecha.toDate())\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY hh:mm A\")\r\n                  : \"No posee viajes realizados\"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-title\">con destino a :</span>\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje ? ultimo_viaje.destino : \"No posee viajes realizados\"}\r\n              </span>\r\n\r\n              <br />\r\n              <span className=\"card-fecha\">\r\n                {ultimo_viaje ? ultimo_viaje.direccion : \"\"}\r\n              </span>\r\n              <br />\r\n            </div>\r\n            <div className=\"icon-container\">\r\n              <EventAvailableIcon className=\"icon\" />\r\n            </div>\r\n          </div>\r\n          {acutal_viaje ? (\r\n            <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n              <div style={{padding : 10}}>\r\n                <span className=\"card-title\">Su viaje de hoy es: </span>\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje\r\n                    ? dayjs(acutal_viaje.fecha.toDate())\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY hh:mm A\")\r\n                    : \"\"}\r\n                </span>\r\n                <br />\r\n                <span className=\"card-title\">con destino a :</span>\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje ? acutal_viaje.destino : \"No posee viajes programados\"}\r\n                </span>\r\n\r\n                <br />\r\n                <span className=\"card-fecha\">\r\n                  {acutal_viaje ? acutal_viaje.direccion : \"No posee viajes programados\"}\r\n                </span>\r\n                <br />\r\n              </div>\r\n              <div className=\"icon-container\">\r\n                <LocationOnRoundedIcon className=\"icon\" />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <span className=\"card-fecha\">\r\n                  No tiene viajes programados para el día de hoy.\r\n                </span>\r\n              </div>\r\n              <div className=\"icon-container\">\r\n                <LocationOnRoundedIcon className=\"icon\" />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div style={{padding : 10}}>\r\n              <span className=\"card-title\">Proximo viaje </span>\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje\r\n                  ? dayjs(proximo_viaje.fecha.toDate())\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY hh:mm A\")\r\n                  : \"\"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-title\">con destino a :</span>\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje ? proximo_viaje.destino : \"\"}{\" \"}\r\n              </span>\r\n              <br />\r\n              <span className=\"card-fecha\">\r\n                {proximo_viaje ? proximo_viaje.direccion : \"\"}{\" \"}\r\n              </span>\r\n              <br />\r\n            </div>\r\n            <div className=\"icon-container\">\r\n              <ScheduleIcon className=\"icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"table\">\r\n          <TABLA_VIAJES_CONDUCTOR\r\n            setSelectedItem={setSelectedItem}\r\n            setViajes={setViajes}\r\n          />\r\n        </div>\r\n        <DRAWERPERFILUSUARIO\r\n        visible={visible}\r\n        setVisible={setVisible}\r\n        usuario={usuario}\r\n        closeSlideMenu={closeSlideMenu}\r\n      />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conductor_viajes;\r\n","import React, { useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Drawer } from \"antd\";\r\n\r\nimport { auth } from \"./../db/firebase\";\r\nimport {cerrar__sesion} from \"./../db/auth\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst DrawerSettings = (props) => {\r\n  const { visible, setVisible, closeSlideMenu } = props;\r\n\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [actualPass, setActualPass] = useState(\"\");\r\n  const [newPass, setNewPass] = useState(\"\");\r\n\r\n  const [errorPass, setErrorPass] = useState(false);\r\n  const [succefulPass, setSuccesfulPass] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  let history = useHistory();\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const onChangeNewPass = async (e) => {\r\n    let verify = e.target.value;\r\n    console.log(verify);\r\n\r\n    await setNewPass(verify);\r\n\r\n    if (verify.length > 7) {\r\n      if (/[A-Z]/.test(verify) && /[a-z]/.test(verify)) {\r\n        setDisabled(false);\r\n      } else {\r\n        setDisabled(true);\r\n      }\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  };\r\n\r\n  const changePassword = () => {\r\n    let pass_actual = localStorage.getItem(\"password\");\r\n    console.log(\"actual pass => \", actualPass);\r\n    console.log(\"new pass => \", newPass);\r\n\r\n    var user = auth.currentUser;\r\n    var newPassword = newPass;\r\n    console.log(user);\r\n\r\n    if (pass_actual === actualPass) {\r\n      console.log(\"CONTRASEÑAS COINCIDEN\");\r\n      var user = auth.currentUser;\r\n      var newPassword = newPass;\r\n\r\n      user\r\n        .updatePassword(newPassword)\r\n        .then(function () {\r\n          setSuccesfulPass(true);\r\n          setTimeout(() => {\r\n            setSuccesfulPass(false);\r\n            //redirigir al login.\r\n            cerrar__sesion();\r\n            history.push('/');\r\n          }, 5000);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"error => \", error);\r\n          setErrorMessage(\"Para realizar esta acción inicie sesión de nuevo.\");\r\n          setErrorPass(true);\r\n          setTimeout(() => {\r\n            setErrorPass(false);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      console.log(\"CONTRASEÑAS NO COINCIDEN\");\r\n      setErrorMessage(\"Contraseña acutal no coincide con nuestros registros.\");\r\n      setErrorPass(true);\r\n      setTimeout(() => {\r\n        setErrorPass(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Drawer\r\n        title=\"Administrador\"\r\n        placement={\"left\"}\r\n        closable={false}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        key={\"left\"}\r\n      >\r\n        {errorPass ? \r\n          <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n            <strong>Error: </strong> Contraseñas no coinciden.\r\n          </div>\r\n          :\r\n          \"\"\r\n          }\r\n          {succefulPass ? \r\n          <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n            <strong>Exito: </strong> Redirigiendo....\r\n          </div>\r\n          :\r\n          \"\"\r\n          }\r\n        <p>Contraseña actual:</p>\r\n        <div class=\"input-group mb-3 mx-auto\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">\r\n            @\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"Contraseña actual\"\r\n            aria-label=\"Contraseña\"\r\n            aria-describedby=\"basic-addon1\"\r\n            onKeyUp={(e) => setActualPass(e.target.value)}\r\n            autocomplete=\"new-password\"\r\n          />\r\n        </div>\r\n        <p>Contraseña nueva:</p>\r\n        <div class=\"input-group mb-3 mx-auto\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">\r\n            @\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"Contraseña nueva\"\r\n            aria-label=\"Contraseña\"\r\n            aria-describedby=\"basic-addon1\"\r\n            onKeyUp={(e) => onChangeNewPass(e)}\r\n            minLength=\"6\"\r\n            autocomplete=\"new-password\"\r\n          />\r\n        </div>\r\n        <p>\r\n          {disabled\r\n            ? \"La contraseña debe ser mayor de 8 caracteres.\"\r\n            : \"Contraseña Valida :)\"}\r\n        </p>\r\n        <button\r\n          class=\"btn btn-danger mt-3\"\r\n          onClick={changePassword}\r\n          disabled={disabled}\r\n        >\r\n          Cambiar Contraseña\r\n        </button>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerSettings;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\n/**import de componentes */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\n/** import de iconos */\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\n/** import de funciones base de datos */\r\nimport { db } from \"../../../db/firebase\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\n/** Estilos */\r\nimport \"./estilos_admin_home.css\";\r\nimport {CARDS_ADMIN_BG_COLOR, CARDS_ADMIN_TEXT_COLOR } from \"../../../variables\";\r\n\r\n/** Libreria para manipulación de fechas */\r\nimport * as dayjs from \"dayjs\";\r\nvar weekOfYear = require(\"dayjs/plugin/weekOfYear\");\r\ndayjs.extend(weekOfYear);\r\n\r\nconst Admin_home = (props) => {\r\n  /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const ADMIN_HOME_ITEMS = [\r\n    {\r\n      text: \"Trudistics\",\r\n      isDisabled: true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick: () => {\r\n        setVisible(true);\r\n      },\r\n    },\r\n    {\r\n      text: \"Cerrar Sesión\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const [data, setData] = useState([]);\r\n  const [dataViajes, setDataViajes] = useState([]);\r\n  const [dataUsuarios, setDataUsuarios] = useState([]);\r\n  const [dataEmpresas, setDataEmpresas] = useState([]);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  const get__usuario = () => {\r\n    const url = \"https://trudistics-admin-server.vercel.app/api/admin\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          setTimeout(function () {\r\n            setDataUsuarios(result);\r\n            setIsLoaded(true);\r\n          }, 1000);\r\n        },\r\n        // Nota: es importante manejar errores aquí y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          //console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camionRef = db.collection(\"camion\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach((doc) => {\r\n      var c = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n      };\r\n      camiones.push(c);\r\n    });\r\n    setTimeout(function () {\r\n      setData(camiones);\r\n      setIsLoaded(true);\r\n    }, 1000);\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n    await db\r\n      .collection(\"usuario\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let item = {};\r\n        let data_camiones = {};\r\n        querySnapshot.forEach((doc) => {\r\n          doc.data().viajes.forEach((x) => {\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:MM A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            item = {\r\n              id: x.id,\r\n              fechaSorter: x.fecha.toDate(),\r\n              fecha: formatDate,\r\n              conductor: doc.data().nombres,\r\n              camion: x.camion,\r\n              origen: x.origen,\r\n              destino: x.destino,\r\n              estado: x.estado ? \"True\" : \"false\",\r\n              id_user: doc.id,\r\n              id_camion: x.id_camion,\r\n              fecha_camion: formatDate2,\r\n            };\r\n\r\n            data_camiones = {\r\n              id_camion: x.id_camion,\r\n              fecha: formatDate2,\r\n            };\r\n\r\n            item__list.push(item);\r\n          });\r\n        });\r\n        setDataViajes(item__list);\r\n      });\r\n  };\r\n\r\n  const get__empresas = async () => {\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setTimeout(function () {\r\n      setDataEmpresas(empresas);\r\n      setIsLoaded(true);\r\n    }, 1000);\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n    get__viajes();\r\n    get__usuario();\r\n    get__empresas();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let user = localStorage.getItem(\"user\");\r\n    console.log(\"usuario => \", user);\r\n    var docRef = db.collection(\"usuario\").doc(user);\r\n\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(\"Document data:\", doc.data());\r\n          setUsuario(doc.data());\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          //console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n      \r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n          \r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n        \r\n      </div>\r\n\r\n      <div className={\"menu_lateral\"} ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_HOME_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        <div className=\"card_container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className={\"card_title\"}>{dataUsuarios.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">usuarios registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-person icon\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{dataViajes.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">viajes registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-calendar icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card_container\">\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{data.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n\r\n              <span className=\"card_text\">camiones registrados</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-truck icon\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\" style={{backgroundColor : CARDS_ADMIN_BG_COLOR}}>\r\n            <div className=\"card_info\">\r\n              {isLoaded ? (\r\n                <span className=\"card_title\">{dataEmpresas.length}</span>\r\n              ) : (\r\n                \"cargando...\"\r\n              )}\r\n              <span className=\"card_text\">empresas registradas</span>\r\n            </div>\r\n\r\n            <div className=\"icon_container\">\r\n              <i class=\"bi bi-building icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_home;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from 'antd';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function AlertDialogSlide(props) {\r\n  const {\r\n    children,\r\n    openAlert,\r\n    setOpenAlert,\r\n    selectedUser,\r\n    setSelectedUser,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  const [buttonDisabled, setButtonDisabled] = useState(true);\r\n\r\n  const delete__user = async (uid) => {\r\n    const url = \"https://trudistics-admin-server.vercel.app/api/admin/delete\";\r\n    var data = {\r\n      id: uid,\r\n    };\r\n    fetch(url, {\r\n      method: \"DELETE\", // or 'PUT'\r\n      body: JSON.stringify(data), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => console.error(\"Error:\", error))\r\n      .then((response) => {\r\n        var men = \"Usuario \" + selectedUser.email + \"ha sido eliminado.\";\r\n        enqueueSnackbar(men, {\r\n          variant: \"error\",\r\n        });\r\n      });\r\n  };\r\n\r\n  function compare(e){\r\n    console.log(e.target.value)\r\n    if(e.target.value === selectedUser.email){\r\n      setButtonDisabled(false);\r\n    }else{\r\n      setButtonDisabled(true);\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={openAlert}\r\n      TransitionComponent={Transition}\r\n      onClose={() => setSelectedUser(null)}\r\n      aria-labelledby=\"alert-dialog-slide-title\"\r\n      aria-describedby=\"alert-dialog-slide-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-slide-title\">\r\n        {\"¿Quieres borrar esta cuenta?\"}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Alert\r\n          message=\"Esta acción no se puede revertir\"\r\n          description={<DialogContentText id=\"alert-dialog-slide-description\" color=\"secondary\">Cuenta de usuario:{selectedUser ? \" \"+selectedUser.email : \" No hay un usuario seleccionado\"}</DialogContentText>}\r\n          type=\"error\"\r\n        />\r\n        <div style={{display : \"flex\", flexDirection : \"column\", alignItems : \"center\", marginBottom : 10}}>\r\n          <span style={{fontSize : 16}}>Para confirmar que deseas borrar este dato, escriba lo siguinte: </span>\r\n          <strong style={{marginLeft : 10, fontSize : 16}}>{selectedUser ? selectedUser.email : null}</strong>\r\n        </div>\r\n        <input type=\"text\" placeholder=\"Ingrese el texto...\" className=\"form-control\" onChange={e => compare(e)} style={{justifySelf : \"center\"}}></input>\r\n        \r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setOpenAlert(false);\r\n            setSelectedUser(null);\r\n            closeSlideMenu();\r\n          }}\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            if (selectedUser) {\r\n              delete__user(selectedUser.id);\r\n            }\r\n\r\n            setOpenAlert(false);\r\n            setSelectedUser(null);\r\n            closeSlideMenu();\r\n          }}\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n          disabled={buttonDisabled}\r\n        >\r\n          Eliminar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\n//import { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\n//import DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n/*\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n*/\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog(props) {\r\n  //const classes = useStyles();\r\n\r\n  const [fullWidth] = React.useState(true);\r\n  const [maxWidth] = React.useState('lg');\r\n\r\n  const {\r\n    children,\r\n    openModalConductor,\r\n    setOpenModalConductor,\r\n    selectedUser,\r\n    selectedItem,\r\n    //setSelectedUser,\r\n    //title\r\n\r\n    closeSlideMenu\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalConductor}\r\n        TransitionComponent={Transition}\r\n        fullWidth={fullWidth}\r\n        maxWidth={maxWidth}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\" className={selectedItem ? \"bg-warning\" : \"bg-primary\"}>\r\n          {selectedUser ? \"Modificar Cuenta\" : \"Crear Cuenta\"}\r\n        </DialogTitle>\r\n\r\n        <DialogContent>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {setOpenModalConductor(false); closeSlideMenu()}} color=\"primary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#bed3f3\",\r\n    display: \"flex\",\r\n    alignItems : 'center'\r\n  },\r\n\r\n  icon: {\r\n    color: \"#db3e00\",\r\n    fontSize: 24,\r\n    marginRight: 5,\r\n    marginLeft: 3,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: 18,\r\n        marginLeft: 0,\r\n    },\r\n  },\r\n\r\n  text : {\r\n    fontSize: 15,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: 12,\r\n    },\r\n  }\r\n}));\r\n\r\nconst FormErrorMessage = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const { children } = props;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ErrorIcon className={classes.icon} />\r\n      <Typography \r\n        align=\"center\"\r\n        color=\"error\"\r\n        variant=\"body2\"\r\n        className={classes.text}\r\n      >\r\n        {children}\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormErrorMessage;\r\n","import React, { useRef, useState } from \"react\";\r\nimport {\r\n  TextField,\r\n  Box,\r\n  Button,\r\n  Avatar,\r\n  Backdrop,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { storage } from \"../../db/firebase\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport FormErrorMessage from \"../FormErrorMessage\";\r\n\r\nimport emailjs from \"emailjs-com\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#fff\",\r\n\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    //minHeight: '100vh',\r\n  },\r\n\r\n  container_wrap: {\r\n    //backgroundColor: \"#a4c7c2\",\r\n    width: \"65vw\",\r\n    padding: 10,\r\n\r\n    display: \"flex\",\r\n  },\r\n\r\n  container: {\r\n    //backgroundColor: \"#a4c7c2\",\r\n    width: \"60vw\",\r\n    padding: 10,\r\n  },\r\n\r\n  input__email: {\r\n    marginBottom: 10,\r\n  },\r\n\r\n  container__nombres: {\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__rut_telefono_domicilio: {\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__inputFile: {\r\n    marginTop: 15,\r\n    marginBottom: 10,\r\n    display: \"flex\",\r\n    columnGap: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  container__avatar: {\r\n    //backgroundColor: \"#a4bac7\",\r\n    width: \"15vw\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  avatar: {\r\n    //backgroundColor: \"#3f276c\",\r\n    width: \"100%\",\r\n    height: 200,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n\r\n  input__nombres: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__rut_telefono: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__domicilio: {\r\n    width: \"100%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  input__file: {\r\n    width: \"50%\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n\r\n  estado_input: {\r\n    height: 30,\r\n    width: \"50%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n      marginTop: 10,\r\n    },\r\n  },\r\n}));\r\n\r\nconst FormConductor = (props) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const { selectedUser, setOpenModalConductor, closeSlideMenu } = props;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  //const [fileName, setFileName] = useState(\"\");\r\n  const [photoUrl, setPhotoUrl] = useState(\"\");\r\n  //const [newUser, setNewUser] = useState(null);\r\n\r\n  //const [snackBar, setSnackBar] = useState(\"\");\r\n\r\n  const file = useRef();\r\n\r\n  const uploadPhoto = async () => {\r\n    console.log(\"ON CHANGE FOTO\");\r\n    const file_img = file.current.files[0];\r\n    //setPhotoUrl(file_name);\r\n\r\n    if (file_img) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhotoUrl(reader.result);\r\n      };\r\n      await reader.readAsDataURL(file_img);\r\n    }\r\n  };\r\n\r\n  const edit__user = async (edit_user) => {\r\n    console.log(\"!!! API -> EDITARUSUARIO !!!\");\r\n    const url = \"https://trudistics-admin-server.vercel.app/api/admin/edit/\";\r\n\r\n    fetch(url, {\r\n      method: \"PUT\", // or 'PUT'\r\n      body: JSON.stringify(edit_user), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => console.error(\"Error:\", error))\r\n      .then((response) => {\r\n        /** !!!!! ESTA SEGURO DE LOS CAMBIOS REALIZADOS? -> DTOS DEL USUARIO */\r\n        closeSlideMenu();\r\n        setOpenModalConductor(false);\r\n        console.log(\"Success:\", response);\r\n        var men = \"Usuario editado exitosamente.\";\r\n        enqueueSnackbar(men, {\r\n          variant: \"info\",\r\n          preventDuplicate: true,\r\n          autoHideDuration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const register__user = async (new_user) => {\r\n    console.log(\"!!! API -> REGISTRAR USUARIO !!!\");\r\n    const url = \"https://trudistics-admin-server.vercel.app/api/admin/\";\r\n\r\n    fetch(url, {\r\n      method: \"POST\", // or 'PUT'\r\n      body: JSON.stringify(new_user), // data can be `string` or {object}!\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .catch((error) => {\r\n        //var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n        enqueueSnackbar(error, {\r\n          variant: \"success\",\r\n          autoHideDuration: 1500,\r\n        });\r\n      })\r\n      .then((response) => {\r\n        /** !!!!! ESTA SEGURO DE CREAR EL SIGUIENTE USUARIO? -> DTOS DEL USUARIO */\r\n        closeSlideMenu();\r\n        setOpenModalConductor(false);\r\n        console.log(\"res => \", response);\r\n        var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n        var variant = \"\";\r\n        if (response.code) {\r\n          switch (response.code) {\r\n            case \"auth/email-already-exists\":\r\n              men = \"Correo ya se encuentra registrado\";\r\n              variant = \"warning\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          enqueueSnackbar(men, {\r\n            variant: variant,\r\n            preventDuplicate: true,\r\n            autoHideDuration: 2000,\r\n          });\r\n        } else {\r\n          var men = \"Usuario \" + response.email + \" creado exitosamente.\";\r\n          enqueueSnackbar(men, {\r\n            variant: \"success\",\r\n            autoHideDuration: 2000,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  const [random_pass, setRandomPass] = useState(\"\");\r\n  const onSubmit = (data, e) => {\r\n    setLoading(true);\r\n    if (selectedUser) {\r\n      console.log(\"!!! MODIFICAR USUARIO !!! \", data);\r\n\r\n      var metadata = {\r\n        contentType: \"image/jpeg\",\r\n      };\r\n      var storageRef = storage.ref();\r\n      var pathName = \"avatars/\" + data.email + \".profilePhoto\";\r\n      var avatarRef = storageRef.child(pathName);\r\n\r\n      avatarRef.put(file.current.files[0], metadata).then(function (snapshot) {\r\n        avatarRef.getDownloadURL().then((x) => {\r\n          //setPhotoUrl(x);\r\n          var new_user = {\r\n            id: selectedUser.id,\r\n            email: data.email,\r\n            nombres: data.nombres,\r\n            apellidos: data.apellidos,\r\n            rut: data.rut,\r\n            telefono: data.telefono,\r\n            photoUrl: photoUrl ? x : selectedUser.photoURL,\r\n            estado: data.estado,\r\n            //domicilio : data.domicilio\r\n          };\r\n\r\n          edit__user(new_user);\r\n        });\r\n        console.log(\"Uploaded a blob or file!\");\r\n      });\r\n      //setLoading(false);\r\n    } else {\r\n      console.log(\"!!! REGISTRAR USUARIO NUEVO !!! \", data);\r\n\r\n      let email_split = data.email.split(\"@\");\r\n      console.log(email_split[0]);\r\n      let random_pass = email_split[0] + data.rut.slice(-5);\r\n      console.log(\"password ====> \", random_pass);\r\n      setRandomPass(random_pass);\r\n\r\n      var new_user = {\r\n        email: data.email,\r\n        nombres: data.nombres,\r\n        apellidos: data.apellidos,\r\n        rut: data.rut,\r\n        telefono: data.telefono,\r\n        photoUrl: \"https://firebasestorage.googleapis.com/v0/b/trudistics.appspot.com/o/avatars%2Fdefault_avatar.png?alt=media&token=9d64a85a-06ae-4fdc-b14b-a873665a9de5\",\r\n        password: random_pass,\r\n        estado: data.estado,\r\n        //domicilio : data.domicilio\r\n      };\r\n\r\n      //console.log(new_user);\r\n\r\n      register__user(new_user);\r\n      \r\n          emailjs.sendForm(\"service_3t2jqug\",\"template_cdbcycc\",e.target,\"user_CzJpNEaTEgmDCaNX3wWLO\")\r\n            .then(\r\n              (result) => {\r\n                console.log(result.text);\r\n              },\r\n              (error) => {\r\n                console.log(error.text);\r\n              }\r\n            );\r\n            \r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Backdrop open={loading} className={classes.backdrop}>\r\n        <CircularProgress color=\"secondary\" />\r\n      </Backdrop>\r\n      <form\r\n        className={classes.root}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <Box className={classes.container_wrap}>\r\n          <Box>\r\n            <Box className={classes.container__avatar}>\r\n              {selectedUser ? (\r\n                <Box className={classes.avatar}>\r\n                  <Avatar\r\n                    alt=\"user_avatar\"\r\n                    src={\r\n                      photoUrl\r\n                        ? photoUrl\r\n                        : selectedUser\r\n                        ? selectedUser.photoURL\r\n                        : \"\"\r\n                    }\r\n                    variant=\"square\"\r\n                    className={classes.avatar}\r\n                  />\r\n                </Box>\r\n              ) : null}\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box className={classes.container}>\r\n            <Box className={classes.input__email}>\r\n              <TextField\r\n                name=\"email\"\r\n                id=\"id_email\"\r\n                label=\"Email\"\r\n                fullWidth\r\n                inputRef={register({\r\n                  required: true,\r\n                  pattern:\r\n                    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\r\n                })}\r\n                defaultValue={selectedUser ? selectedUser.email : \"\"}\r\n              />\r\n              {errors.email && errors.email.type === \"required\" && (\r\n                <FormErrorMessage>'Email' es Requerido.</FormErrorMessage>\r\n              )}\r\n              {errors.email && errors.email.type === \"pattern\" && (\r\n                <FormErrorMessage>Formato de correo invalido.</FormErrorMessage>\r\n              )}\r\n            </Box>\r\n\r\n            <Box className={classes.container__nombres}>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"nombres\"\r\n                  id=\"id_nombres\"\r\n                  label=\"Nombres\"\r\n                  className={classes.input__nombres}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.nombres : \"\"}\r\n                />\r\n                {errors.nombres && errors.nombres.type === \"required\" && (\r\n                  <FormErrorMessage>'Nombre' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"apellidos\"\r\n                  id=\"id_apellidos\"\r\n                  label=\"Apellidos\"\r\n                  className={classes.input__nombres}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.apellidos : \"\"}\r\n                />\r\n                {errors.apellidos && errors.apellidos.type === \"required\" && (\r\n                  <FormErrorMessage>'Apellido' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box className={classes.container__rut_telefono_domicilio}>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"rut\"\r\n                  id=\"id_rut\"\r\n                  label=\"Rut\"\r\n                  className={classes.input__rut_telefono}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.rut : \"\"}\r\n                />\r\n\r\n                {errors.rut && errors.rut.type === \"required\" && (\r\n                  <FormErrorMessage>'Rut' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <TextField\r\n                  name=\"telefono\"\r\n                  id=\"id_telefono\"\r\n                  label=\"Telefono\"\r\n                  className={classes.input__rut_telefono}\r\n                  inputRef={register({ required: true })}\r\n                  defaultValue={selectedUser ? selectedUser.telefono : \"\"}\r\n                />\r\n                {errors.telefono && errors.telefono.type === \"required\" && (\r\n                  <FormErrorMessage>'Telefono' es requerido.</FormErrorMessage>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n            <Box className={classes.container__inputFile}>\r\n              {selectedUser ? (\r\n                <input\r\n                  name=\"photoUrl\"\r\n                  id=\"id_photoUrl\"\r\n                  type=\"file\"\r\n                  className={classes.input__file}\r\n                  ref={file}\r\n                  onChange={(e) => {\r\n                    uploadPhoto();\r\n                  }}\r\n                />\r\n              ) : null}\r\n\r\n              <select\r\n                name=\"estado\"\r\n                ref={register({ required: true })}\r\n                defaultValue={selectedUser ? selectedUser.estado : null}\r\n                className={classes.estado_input}\r\n              >\r\n                <option value=\"false\">Activo</option>\r\n                <option value=\"true\">Inactivo</option>\r\n              </select>\r\n            </Box>\r\n\r\n            <Box className={classes.container__inputFile}>\r\n              <input type=\"hidden\" value={random_pass} name=\"password\"></input>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {}} //uploadPhoto()}\r\n                type=\"submit\"\r\n              >\r\n                {selectedUser ? \"Modificar Usuario\" : \"Registrar Usuario\"}\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormConductor;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Select } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      backgroundColor: DATATABLE_BG_COLOR,\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \":\r\n      {\r\n        background: DATATABLE_BG_COLOR,\r\n        color: DATATABLE_TEXT_COLOR,\r\n      },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  buscador: {\r\n    width: \"40%\",\r\n    padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Correo\",\r\n    dataIndex: \"email\",\r\n    render: (text) => <strong className=\"\">{text}</strong>,\r\n    sorter: (a, b) => a.email.localeCompare(b.email),\r\n  },\r\n  {\r\n    title: \"Nombres\",\r\n    dataIndex: \"nombres\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"Apellidos\",\r\n    dataIndex: \"apellidos\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"Estado\",\r\n    dataIndex: \"estado\",\r\n    key: \"estado\",\r\n    render: (estado) =>\r\n      estado === \"true\" ? (<strong className=\"text-danger\">Inactivo</strong>) : (<strong className=\"text-success\">Activo</strong>),\r\n  },\r\n];\r\n\r\nconst DataTable_conductor_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedUser,\r\n    selectedUser,\r\n    setSelectedItem,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n    functionBuscar,\r\n  } = props;\r\n\r\n  const { Option } = Select;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n  const [filter_correo, setFilterCorreo] = useState(null);\r\n  const [filter_nombres, setFilterNombres] = useState(\"\");\r\n\r\n  const query = db.collection(\"usuario\");\r\n  const observerUsuario = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const get__usuario = () => {\r\n    const url = \"https://trudistics-admin-server.vercel.app/api/admin\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          console.log(result);\r\n          setTimeout(function () {\r\n            const filteredEvents = result.sort((a, b) => a.estado.localeCompare(b.estado))\r\n\r\n            setData(result);\r\n            setFilterData(filteredEvents);\r\n\r\n            setIsLoaded(false);\r\n          }, 1000);\r\n        },\r\n        // Nota: es importante manejar errores aquí y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectedRowKeys([selectedRows]);\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n\r\n      //setIsSelected(false)\r\n      setSelectedUser(selectedRows[0]);\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(formatDate);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  useEffect(async () => {\r\n    console.log(\"<----RENDER TABLA USUARIOS---->\");\r\n    await get__usuario();\r\n  }, [size, edit]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  function onSelectEstado(val) {\r\n    console.log(\"on select estado => \", val);\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function onSelectCorreo(val) {\r\n    console.log(\"on select correo => \", val);\r\n    setFilterCorreo(val);\r\n  }\r\n\r\n  function onChangeNombre(val) {\r\n    console.log(\"on change nombre => \", val.target.value);\r\n\r\n    setFilterNombres(val.target.value);\r\n\r\n    const filteredEvents = data.filter(({ nombres, email, rut }) =>\r\n      nombres.toLowerCase().includes(val.target.value.toLowerCase()) ||\r\n      email.toLowerCase().includes(val.target.value.toLowerCase())\r\n    );\r\n    \r\n    setFilterData(filteredEvents);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"filter general\");\r\n    if (filter_estado !== null && filter_correo === null) {\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (filter_estado === null && filter_correo !== null) {\r\n      const filteredEvents = data.filter(\r\n        ({ email }) => email === filter_correo\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (filter_estado !== null && filter_correo !== null) {\r\n      const filteredEvents = data.filter(\r\n        ({ estado, email }) =>\r\n          estado === filter_estado && email === filter_correo\r\n      );\r\n      setFilterData(filteredEvents);\r\n    }\r\n  }\r\n\r\n  function limpiar_filtros() {\r\n    setFilterData(data);\r\n\r\n    setFilterCorreo(null);\r\n    setFilterEstado(null);\r\n    setFilterNombres(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        loading={isLoaded}\r\n        title={() => (\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Busqueda por Nombre o Correo...\"\r\n              onChange={(e) => onChangeNombre(e)}\r\n              value={filter_nombres}\r\n              className={classes.buscador}\r\n            />\r\n          </div>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_conductor_ant;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\nimport Alert_cerrar from \"../../../components/Alert\";\r\nimport ModalConductor from \"../../../components/modals/ModalConductor\";\r\nimport FormConductor from \"../../../components/forms/FormConductor\";\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_CONDUCTOR_ANT from \"../data_tables/DataTable_conductor_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport \"./estilos_admin_usuario.css\"\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nconst Admin_conductores = () => {\r\n /** hook drawer admin */\r\n const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  /**  */\r\n  const [openModalConductor, setOpenModalConductor] = useState(null);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key : 2,\r\n      text: \"Crear Cuenta\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {setSelectedUser(null); setOpenModalConductor(true); setSelectedItem(null)},\r\n    },\r\n    {\r\n      key : 3,\r\n      text: \"Modificar Cuenta\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalConductor(true),\r\n      isDisabled: selectedUser ? false : true,\r\n    },\r\n    {\r\n      key : 4,\r\n      text: \"Eliminar Cuenta\",\r\n      icon: <DeleteIcon />,\r\n      //onClick: () => delete__user(idUser),\r\n      //onClick: () => handleClickOpen(),\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedUser ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key : 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key : 3,\r\n      text: \"Cerrar Sesión\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const fun = (user) => {\r\n    console.log(\"FROM PARENT !!!!!\" + user);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser = {selectedUser}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>USUARIOS</span></div>\r\n        <div className=\"table\">\r\n          {/*<TABLA_CONDUCTOR fun={fun} setIsSelected={setIsSelected} />*/}\r\n          <TABLA_CONDUCTOR_ANT \r\n            setSelectedUser={setSelectedUser} \r\n            setIsSelected={setIsSelected} \r\n            selectedUser={selectedUser}\r\n            setSelectedItem={setSelectedItem}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n      </div>\r\n      <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n      <Alert_cerrar\r\n        openAlert={open}\r\n        setOpenAlert={setOpen}\r\n        selectedUser={selectedUser}\r\n        setSelectedUser={setSelectedUser}\r\n        closeSlideMenu={closeSlideMenu}\r\n      ></Alert_cerrar>\r\n\r\n      <ModalConductor\r\n        openModalConductor={openModalConductor}\r\n        setOpenModalConductor={setOpenModalConductor}\r\n        selectedUser={selectedUser}\r\n        selectedItem={selectedItem}\r\n        closeSlideMenu={closeSlideMenu}\r\n      >\r\n        <FormConductor selectedUser={selectedUser} setOpenModalConductor={setOpenModalConductor} closeSlideMenu={closeSlideMenu}/>\r\n      </ModalConductor>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_conductores;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport * as dayjs from \"dayjs\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \": {\r\n      background: DATATABLE_BG_COLOR,\r\n      color: DATATABLE_TEXT_COLOR,\r\n    },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n  buscador: {\r\n    width: \"40%\",\r\n    padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Modelo\",\r\n    dataIndex: \"modelo\",\r\n    render: (text) => <strong className=\"\">{text}</strong>,\r\n    sorter: (a, b) => a.modelo.localeCompare(b.modelo),\r\n  },\r\n  {\r\n    title: \"Marca\",\r\n    dataIndex: \"marca\",\r\n    key: \"marca\",\r\n  },\r\n  {\r\n    title: \"Patente\",\r\n    dataIndex: \"patente\",\r\n    key: \"patente\",\r\n  },\r\n  {\r\n    title: \"Estado\",\r\n    dataIndex: \"estado\",\r\n    key: \"estado\",\r\n    render: (estado) =>\r\n      estado === \"true\" ? (<strong style={{ color: \"red\" }}>Inactivo</strong>) : (<strong className=\"text-primary\">Activo</strong>),\r\n  },\r\n];\r\n\r\nconst DataTable_camion_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    mensaje_accion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n  } = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(false);\r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(formatDate);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camionRef = db.collection(\"camion\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach((doc) => {\r\n      var c = {\r\n        id: doc.id,\r\n        modelo: doc.data().modelo,\r\n        marca: doc.data().marca,\r\n        patente: doc.data().patente,\r\n        disponible: doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n        estado : doc.data().estado,\r\n      };\r\n      camiones.push(c);\r\n    });\r\n    setTimeout(function () {\r\n      const filteredEvents = camiones.sort((a, b) => a.estado.localeCompare(b.estado) || a.modelo.localeCompare(b.modelo)) \r\n      setData(filteredEvents);\r\n      setFilterData(filteredEvents);\r\n      setIsLoaded(false);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  const [filteredData, setFilterData] = useState(null);\r\n  const [filter_nombres, setFilterNombres] = useState(\"\");\r\n  function onChangeNombre(val) {\r\n    console.log(\"on change nombre => \", val.target.value);\r\n\r\n    setFilterNombres(val.target.value);\r\n\r\n    const filteredEvents = data.filter(({ modelo, marca, patente }) =>\r\n      modelo.toLowerCase().includes(val.target.value.toLowerCase()) ||\r\n      patente.toLowerCase().includes(val.target.value.toLowerCase()) ||\r\n      marca.toLowerCase().includes(val.target.value.toLowerCase())\r\n    );\r\n    \r\n    setFilterData(filteredEvents);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filteredData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n        title={() => (\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Busqueda por Modelo, Marca o Patente...\"\r\n              onChange={(e) => onChangeNombre(e)}\r\n              value={filter_nombres}\r\n              className={classes.buscador}\r\n            />\r\n          </div>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_camion_ant;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport emailjs from 'emailjs-com';\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from 'antd';\r\n\r\nimport * as dayjs from \"dayjs\";\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function ConfirmAlert(props) {\r\n  const {\r\n    title,\r\n    description,\r\n    action,\r\n\r\n    children,\r\n    openAlert,\r\n    setOpenAlert,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    men,\r\n    email_destino,\r\n    closeSlideMenu\r\n  } = props;\r\n\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const [buttonDisabled, setButtonDisabled] = useState(true);\r\n  function compare(e){\r\n    console.log(e.target.value)\r\n    if(e.target.value === men){\r\n      setButtonDisabled(false);\r\n    }else{\r\n      setButtonDisabled(true);\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={openAlert}\r\n      TransitionComponent={Transition}\r\n      onClose={() => setSelectedItem(null)}\r\n      aria-labelledby=\"alert-dialog-slide-title\"\r\n      aria-describedby=\"alert-dialog-slide-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-slide-title\">\r\n        {title}\r\n      </DialogTitle>\r\n      <DialogContent style={{display : \"flex\", flexDirection : \"column\"}}>\r\n        \r\n        <Alert\r\n          message={<div><strong>{men}</strong> (Esta acción no se puede revertir.)</div>}\r\n          description={<DialogContentText id=\"alert-dialog-slide-description\" color=\"secondary\">{description}</DialogContentText>}\r\n          type=\"error\"\r\n        />\r\n        <div style={{display : \"flex\", flexDirection : \"column\", alignItems : \"center\", marginBottom : 10}}>\r\n          <span style={{fontSize : 16}}>Para confirmar que deseas borrar este dato, escriba lo siguiente: </span>\r\n          <strong style={{marginLeft : 10, fontSize : 16}}>{men}</strong>\r\n        </div>\r\n        \r\n        <input type=\"text\" placeholder=\"Ingrese el texto...\" className=\"form-control\" onChange={e => compare(e)} style={{justifySelf : \"center\"}}></input>\r\n        \r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setSelectedItem(null);\r\n            setOpenAlert(false);\r\n            closeSlideMenu();\r\n            \r\n          }}\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <form onSubmit={(e)=>{\r\n          e.preventDefault();\r\n          emailjs.sendForm('service_3t2jqug', 'template_60oxr8w', e.target, 'user_CzJpNEaTEgmDCaNX3wWLO')\r\n          .then((result) => {\r\n            console.log(result.text);\r\n            setSelectedItem(null);\r\n          }, (error) => {\r\n            console.log(error.text);\r\n          })}}>\r\n          <input type=\"hidden\" value={\"Viaje Cancelado\"}  name=\"subject\" required></input>\r\n          <input type=\"hidden\" value={\"Su viaje del día \"+ dayjs(selectedItem ? selectedItem.fecha : '').locale(\"es\").format(\"DD MMMM YYYY HH:mm A\")+\" ha sido cancelado.\"} name=\"fecha\"></input>\r\n          <input type=\"hidden\" value={email_destino} name=\"email\" required></input>\r\n          <Button\r\n            type=\"submit\"\r\n            onClick={() => {\r\n              action();\r\n              setOpenAlert(false);\r\n              closeSlideMenu();\r\n              \r\n            }}\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            disabled={buttonDisabled}\r\n          >\r\n            Eliminar\r\n          </Button>\r\n        </form>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function ModalCamionDos(props) {\r\n\r\n  const { title, description, children, openModalCamion, setOpenModalCamion,setSelectedItem, selectedItem, closeSlideMenu } = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalCamion}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\"className={selectedItem ? \"bg-warning\" : \"bg-primary\"}>\r\n        {selectedItem ? <span className=\"text-dark\">Editar Camión</span> : <span className=\"text-white\">Agregar Camión</span>}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {description}\r\n          </DialogContentText>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {setOpenModalCamion(false); setSelectedItem(null);closeSlideMenu(); }} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { TextField, Box, Button, Avatar } from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#c7bfa4\",\r\n\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  inputs: {\r\n    marginBottom: 15,\r\n  },\r\n\r\n  input_estado : {\r\n    fontSize : 16,\r\n    width : \"100%\",\r\n    height : 30,\r\n    marginBottom: 15,\r\n  },\r\n}));\r\n\r\nconst FormConductor = (props) => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const { selectedItem, setSelectedItem, setOpenModalCamion, closeSlideMenu } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  const register__camion = async (new_camion) => {\r\n    const res = await db.collection(\"camion\").add({\r\n      modelo: new_camion.modelo,\r\n      marca: new_camion.marca,\r\n      patente: new_camion.patente,\r\n      estado : new_camion.estado,\r\n    });\r\n\r\n    console.log(\"Added document with ID: \", res.id);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const edit__camion = async (data) => {\r\n    const camionRef = db.collection(\"camion\").doc(selectedItem.id);\r\n\r\n    // Set the 'capital' field of the city\r\n    const res = await camionRef.update({\r\n      modelo: data.modelo,\r\n      marca: data.marca,\r\n      patente: data.patente,\r\n      estado : data.estado,\r\n    });\r\n\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(data);\r\n    if (selectedItem) {\r\n      var men = \"Camion PATENTE: \" + selectedItem.patente + \" editado exitosamente.\";\r\n      edit__camion(data);\r\n      setOpenModalCamion(false);\r\n      setSelectedItem(null);\r\n\r\n      enqueueSnackbar(men, {\r\n        variant: \"info\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 2000,\r\n      });\r\n    } else {\r\n      register__camion(data);\r\n      var men = \"Camion PATENTE: \" + data.patente + \" creado exitosamente.\";\r\n      setOpenModalCamion(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form onSubmit={handleSubmit(onSubmit)} className={classes.root}>\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"modelo\"\r\n          label=\"Modelo\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.modelo : \"\"}\r\n        />\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"marca\"\r\n          label=\"Marca\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.marca : \"\"}\r\n        />\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          name=\"patente\"\r\n          label=\"Patente\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.patente : \"\"}\r\n        />\r\n        <select\r\n          name=\"estado\"\r\n          ref={register({ required: true })}\r\n          defaultValue={selectedItem ? selectedItem.estado : null}\r\n          className={classes.input_estado}\r\n\r\n        >\r\n          <option value=\"false\" className={classes.option_text}>Activo</option>\r\n          <option value=\"true\" className={classes.option_text}>Inactivo</option>\r\n        </select>\r\n        <button type=\"submit\" className={selectedItem ? \"btn btn-outline-warning\" : \"btn btn-outline-primary\"}>\r\n          {selectedItem ? \"Editar Camión\" : \"Registrar Camión\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormConductor;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_CAMION_ANT from \"../data_tables/DataTable_camion_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\n\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\nimport ModalCamion from \"../../../components/modals/ModalCamion\";\r\nimport FormCamion from \"../../../components/forms/FormCamion\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nimport \"./estilos_admin_camion.css\";\r\n\r\nconst Admin_conductores = () => {\r\n   /** hook drawer admin */\r\n   const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const [isSelected, setIsSelected] = useState(true);\r\n\r\n  /**  */\r\n  const [openModalCamion, setOpenModalCamion] = useState(null);\r\n\r\n  const [mensaje_accion, setMensajeAccion] = useState([]);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__camion = async () => {\r\n    const res = await db.collection(\"camion\").doc(selectedItem.id).delete();\r\n    var men = \"Camion PATENTE: \" + selectedItem.patente + \" ha sido eliminado.\";\r\n    enqueueSnackbar(men, {\r\n      variant: \"error\",\r\n      autoHideDuration: 3000,\r\n    });\r\n    setMensajeAccion({ mensaje: men, type: \"error\" });\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Agregar Camion\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalCamion(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Camion\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalCamion(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Camion\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesión\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n      \r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>CAMIONES</span></div>\r\n\r\n        <div className=\"table\">\r\n          {/** Tabla camiones */}\r\n          <TABLA_CAMION_ANT\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            mensaje_accion={mensaje_accion}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalCamion\r\n          title={\"Camion\"}\r\n          description={\"Descripción de la accion a realizar\"}\r\n          openModalCamion={openModalCamion}\r\n          setOpenModalCamion={setOpenModalCamion}\r\n          setSelectedItem={setSelectedItem}\r\n          selectedItem={selectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        >\r\n          <FormCamion\r\n            selectedItem={selectedItem}\r\n            setOpenModalCamion={setOpenModalCamion}\r\n            setSelectedItem={setSelectedItem}\r\n            closeSlideMenu={closeSlideMenu}\r\n          />\r\n        </ModalCamion>\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"¿Quieres borrar este camión?\"}\r\n          description={\r\n            \"Esta acción borrará permanentemente los datos del camion.\"\r\n          }\r\n          action={delete__camion}\r\n          men={selectedItem ? selectedItem.patente : null}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        ></ConfirmAlert>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_conductores;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db, fire } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport { DatePicker, Select } from \"antd\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport ModalReporte from \"../../../components/modals/ModalReporte\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { StatusTag } from \"../../../components/StatusTag\";\r\nimport { StatusFilter } from \"../../../components/StatusFilter\";\r\nimport { DateFilter } from \"../../../components/DateFilter\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport \"moment/locale/es\";\r\nimport locale from \"antd/es/date-picker/locale/es_ES\";\r\nimport \"./DataTable_viaje_estilos.css\";\r\nvar locale_de = require(\"dayjs/locale/es\");\r\nvar isBetween = require(\"dayjs/plugin/isBetween\");\r\ndayjs.extend(isBetween);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {},\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \":\r\n      {\r\n        background: DATATABLE_BG_COLOR,\r\n        color: DATATABLE_TEXT_COLOR,\r\n      },\r\n    boxShadow: \"4px 4px 10px 10px rgba(0,0,0,0.1)\",\r\n    backgroundColor: \"#ff\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n  },\r\n\r\n  filter__section: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"20%\",\r\n    backgroundColor: \"#1D1D34\",\r\n    borderRadius: \"16px 16px 0 0\",\r\n    padding: 5,\r\n  },\r\n\r\n  label__container: {},\r\n\r\n  filter__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n\r\n  button__container: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    justifyContent: \"center\",\r\n\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n  },\r\n\r\n  button: {\r\n    width: \"20%\",\r\n    marginRight: 10,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"80%\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginRight: 20,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginBottom: \"10px\",\r\n      marginRight: 0,\r\n    },\r\n  },\r\n\r\n  filter__title: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginRight: 5,\r\n    fontWeight: \"600\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst DataTable_viajes_ant = (props) => {\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    user__id,\r\n    setUser__id,\r\n    setCamion__id,\r\n    setDataCamionFecha,\r\n    setFechaCamion,\r\n    setItemToDelete,\r\n    setConductor,\r\n    setDireccion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu,\r\n    setEmailDestino,\r\n  } = props;\r\n\r\n  const { RangePicker } = DatePicker;\r\n  const { Option } = Select;\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  const [removeFilter, setRemoveFilter] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const [stateName, setStateName] = useState(\"\");\r\n\r\n  /** filtros */\r\n  const [filterData, setFilterData] = useState([]);\r\n\r\n  const [filterState, setFilterState] = useState([]);\r\n\r\n  const [conductor_id, setConductorId] = useState(null);\r\n  const [rango_fechas, setRangoFechas] = useState(null);\r\n  const [fecha, setFecha] = useState(null);\r\n\r\n  const [filter_empresa, setFilterEmpresa] = useState(null);\r\n  const [filter_estado, setFilterEstado] = useState(null);\r\n\r\n  const [empresaList, setEmpresaList] = useState([]);\r\n\r\n  const [conductores_list, setConductoresList] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [empresa, setEmpresa] = useState(\"\");\r\n  /** LABELS STATE */\r\n\r\n  const [conductorLabel, setConductorLabel] = useState(false);\r\n  const [rangoLabel, setRangoLabel] = useState(false);\r\n  const [empresaLabel, setEmpresaLabel] = useState(false);\r\n  const [estadoLabel, setEstadoLabel] = useState(false);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Fecha\",\r\n      dataIndex: \"fecha\",\r\n      render: (text) => <strong>{text}</strong>,\r\n  \r\n      sorter: (a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? 1 : -1,\r\n      defaultSortOrder: \"descend\",\r\n    },\r\n  \r\n    {\r\n      title: \"Conductor\",\r\n      dataIndex: \"conductor\",\r\n      key: \"conductor\",\r\n    },\r\n    {\r\n      title: \"Camion\",\r\n      dataIndex: \"camion\",\r\n      key: \"camion\",\r\n    },\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"direccion\",\r\n      key: \"direccion\",\r\n      render: (text, empresa) => <a className=\"text-primary\" onClick={() => ver_empresa_map(empresa.empresa_latitud, empresa.empresa_longitud)}><strong>{text}</strong></a>,\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      key: \"estado\",\r\n      render: (text, record) => <StatusTag status={record.estado} />,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(lat, lon){\r\n    console.log(\"Ver empresa\", empresa);\r\n    // abrir modal\r\n    //entregar lat y lng\r\n\r\n    await setEmpresaCor({lat : lat, lng : lon  });\r\n\r\n    console.log(empresa_cor);\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  function filter_general() {\r\n    console.log(\"APLICANDO FILTRO ...\");\r\n    setFilterData(data);\r\n    console.log(\"filtered data => \", filterData);\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ id_user }) => id_user === conductor_id\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n\r\n      setConductorLabel(true);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      setRangoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_empresa !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id }) => empresa_id === filter_empresa\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEmpresaLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      (filter_estado !== null) & (rango_fechas === null) &&\r\n      conductor_id === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ estado }) => estado === filter_estado\r\n      );\r\n\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setEstadoLabel(true);\r\n\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_estado !== null &&\r\n      rango_fechas === null &&\r\n      filter_empresa === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y ESTADO\");\r\n\r\n      const filteredEvents = data.filter(\r\n        ({ estado, id_user }) =>\r\n          estado === filter_estado && id_user === conductor_id\r\n      );\r\n\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO POR CONDCUTOR Y RANGO DE FECHAS\");\r\n      const filteredEvents = data.filter(\r\n        ({ id_user, fechaSorter }) =>\r\n          id_user === conductor_id &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"FILTRO CONDUCTOR Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, id_user }) =>\r\n          empresa_id === filter_empresa && id_user === conductor_id\r\n      );\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_empresa !== null &&\r\n      conductor_id === null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter }) =>\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      rango_fechas === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO ESTADO Y EMPRESA\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado }) =>\r\n          empresa_id === filter_empresa && estado === filter_estado\r\n      );\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      filter_estado !== null &&\r\n      filter_empresa === null &&\r\n      conductor_id === null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ fechaSorter, estado }) =>\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id === null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"RANGO DE FECHAS Y FILTRO EMPRESA  Y ESTADO\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado === null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO EMPRESA \");\r\n      console.log(\r\n        dayjs(\"30 Abril 2021 21:04 PM\").isBetween(\r\n          rango_fechas[0],\r\n          rango_fechas[1],\r\n          \"date\",\r\n          \"[]\"\r\n        )\r\n      );\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          empresa_id === filter_empresa &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa === null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , RANGO DE FECHAS Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ estado, fechaSorter, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas === null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"CONDUCTOR Y , EMPRESA Y FILTRO ESTADO \");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, estado, id_user }) =>\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          empresa_id === filter_empresa\r\n      );\r\n\r\n      setEmpresaLabel(true);\r\n      setEstadoLabel(true);\r\n      setConductorLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    if (\r\n      rango_fechas !== null &&\r\n      conductor_id !== null &&\r\n      filter_empresa !== null &&\r\n      filter_estado !== null\r\n    ) {\r\n      console.log(\"FILTRO EMPRESA Y RANGO DE FECHAS Y ESTADO Y CONDUCTOR\");\r\n      const filteredEvents = data.filter(\r\n        ({ empresa_id, fechaSorter, estado, id_user }) =>\r\n          empresa_id === filter_empresa &&\r\n          estado === filter_estado &&\r\n          id_user === conductor_id &&\r\n          estado === filter_estado &&\r\n          dayjs(fechaSorter).isBetween(\r\n            rango_fechas[0],\r\n            rango_fechas[1],\r\n            \"date\",\r\n            \"[]\"\r\n          )\r\n      );\r\n\r\n      setRangoLabel(true);\r\n      setEmpresaLabel(true);\r\n      setConductorLabel(true);\r\n      setEstadoLabel(true);\r\n      const finalFilter = filteredEvents.sort((a, b) =>\r\n        dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n      );\r\n      setFilterData(finalFilter);\r\n    }\r\n\r\n    /**\r\n     * Filtro por region y comuna\r\n     * Filtro por empresa\r\n     */\r\n\r\n    //console.log(filteredEvents);\r\n  }\r\n\r\n  function clear_filter() {\r\n    setConductorId(null);\r\n    setRangoFechas(null);\r\n    setFecha(null);\r\n    setFilterEmpresa(null);\r\n    setFilterEstado(null);\r\n\r\n    setConductorLabel(false);\r\n    setRangoLabel(false);\r\n    setEmpresaLabel(false);\r\n    setEstadoLabel(false);\r\n\r\n    setFilterData(data);\r\n  }\r\n\r\n  const handleFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 3) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isBefore(dayjs())\r\n      );\r\n      //console.log(\"DATA FILTER => \",filteredEvents)\r\n      setStateName(\"Completados\");\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      //console.log(\"DATA FILTER => \",filteredEvents)\r\n      setStateName(\"Programados\");\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  const handleDateFilter = (key) => {\r\n    const selected = parseInt(key);\r\n    if (selected === 0) {\r\n      return setFilterData(data);\r\n    }\r\n\r\n    if (selected === 1) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isSame(\"2021-10-01\", \"month\")\r\n      );\r\n      console.log(\"DATA FILTER => \", filteredEvents);\r\n      return setFilterData(filteredEvents);\r\n    }\r\n\r\n    if (selected === 2) {\r\n      const filteredEvents = data.filter(({ fechaSorter }) =>\r\n        dayjs(fechaSorter).isAfter(dayjs())\r\n      );\r\n      console.log(\"DATA FILTER => \", filteredEvents);\r\n      return setFilterData(filteredEvents);\r\n    }\r\n  };\r\n\r\n  function onChangeMonth(date, dateString) {\r\n    setFecha(date);\r\n  }\r\n\r\n  function rangeOnChange(date, dateString) {\r\n    setRangoFechas(date);\r\n  }\r\n\r\n  const query2 = db.collection(\"usuario\");\r\n  const observerUsuario = query2.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n      setEmailDestino(selectedRows[0].email);\r\n      var selected__viaje = {\r\n        id: selectedRows[0].id,\r\n        fecha: selectedRows[0].fechaSorter,\r\n        camion: selectedRows[0].id_camion,\r\n        origen: selectedRows[0].origen,\r\n        destino: selectedRows[0].empresa_id,\r\n        id_camion: selectedRows[0].id_camion,\r\n      };\r\n\r\n      var delete__viaje = {\r\n        id: selectedRows[0].id,\r\n        fecha: selectedRows[0].fechaSorter,\r\n        camion: selectedRows[0].id_camion,\r\n        origen: selectedRows[0].origen,\r\n        destino: selectedRows[0].empresa_id,\r\n        id_camion: selectedRows[0].id_camion,\r\n      };\r\n\r\n      console.log(\"Data => \", selectedRows[0]);\r\n\r\n      console.log(\"Viaje seleccionado => \", selected__viaje);\r\n      console.log(\"Viaje a borrar => \", delete__viaje);\r\n      console.log(\"Usuario seleccionado => \", selectedRows[0].id_user);\r\n\r\n      setConductor(selectedRows[0].conductor);\r\n      setSelectedItem(selected__viaje);\r\n      setItemToDelete(delete__viaje);\r\n\r\n      setUser__id(selectedRows[0].id_user);\r\n\r\n      setFechaCamion(selectedRows[0].fecha_camion);\r\n      setCamion__id(selectedRows[0].id_camion);\r\n      setDireccion(selectedRows[0].destino + \", \" + selectedRows[0].direccion);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__viajes = async () => {\r\n    let item__list = [];\r\n    let data_camiones__list = [];\r\n    let conductor_list = [];\r\n\r\n    db.collection(\"usuario\")\r\n      .where(\"email\", \"!=\", \"administrador@trudistic.cl\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let item = {};\r\n        let data_camiones = {};\r\n        let conductor_item = {};\r\n\r\n        querySnapshot.forEach((doc) => {\r\n          item = {};\r\n          /** OBTENGO A LOS USUARIOS REGISTRADOS */\r\n          conductor_item = {\r\n            id: doc.id,\r\n            nombres: doc.data().nombres,\r\n            apellidos: doc.data().apellidos,\r\n            disabled: doc.data().disabled,\r\n          };\r\n          conductor_list.push(conductor_item);\r\n\r\n          doc.data().viajes.forEach(async (x) => {\r\n            //console.log(\"!! 1\");\r\n            var formatDate = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY HH:m A\");\r\n            var formatDate2 = dayjs(x.fecha.toDate())\r\n              .locale(\"es\")\r\n              .format(\"DD MMMM YYYY\");\r\n\r\n            let estado;\r\n            if (dayjs(x.fecha.toDate()).isBefore(dayjs())) {\r\n              estado = true;\r\n            } else {\r\n              estado = false;\r\n            }\r\n\r\n            var empresaRef = db.collection(\"empresa\").doc(x.destino);\r\n            var camionRef = db.collection(\"camion\").doc(x.id_camion);\r\n            let camion_info = \"\";\r\n\r\n            await camionRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                camion_info = doc.data().modelo + \" \" + doc.data().patente;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            let empresa_info = \"\";\r\n            let destino = \"\";\r\n            let idEmpresa = \"\";\r\n            let empresa_latitud;\r\n            let empresa_longitud;\r\n\r\n            await empresaRef.get().then((doc) => {\r\n              if (doc.exists) {\r\n                idEmpresa = doc.id;\r\n                empresa_info = doc.data().empresa;\r\n                destino = doc.data().direccion;\r\n\r\n                empresa_latitud = doc.data().latitud;\r\n                empresa_longitud = doc.data().longitud;\r\n              } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n              }\r\n            });\r\n\r\n            item = {};\r\n            //console.log(\"!! 3\");\r\n\r\n            item = {\r\n              id: x.id,\r\n              email : doc.data().email,\r\n              fechaSorter: x.fecha.toDate(),\r\n              fecha: formatDate,\r\n              conductor: doc.data().nombres + \" \" + doc.data().apellidos,\r\n              camion: camion_info ? camion_info : x.id_camion,\r\n              origen: x.origen,\r\n              destino: destino,\r\n              empresa_id: idEmpresa ? idEmpresa : x.destino,\r\n              estado: estado,\r\n              id_user: doc.id,\r\n              id_camion: x.id_camion,\r\n              fecha_camion: formatDate2,\r\n              direccion: empresa_info ? empresa_info : \"Empresa eliminada...\",\r\n\r\n              empresa_latitud : empresa_latitud,\r\n              empresa_longitud : empresa_longitud,\r\n            };\r\n\r\n            data_camiones = {\r\n              id_camion: x.id_camion,\r\n              fecha: formatDate2,\r\n            };\r\n\r\n            //setFilterData([...filterData , item]);\r\n\r\n            item__list.push(item);\r\n            data_camiones__list.push(data_camiones);\r\n\r\n            //console.log(doc.data().viajes.length);\r\n          });\r\n        });\r\n        setTimeout(function () {\r\n          //console.log(\"!! 4\");\r\n          setDataCamionFecha(data_camiones__list);\r\n          setData(item__list);\r\n          const finalFilter = item__list.sort((a, b) =>\r\n            dayjs(a.fechaSorter).isAfter(dayjs(b.fechaSorter)) ? -1 : 1\r\n          );\r\n          setFilterData(finalFilter);\r\n          setFilterState(item__list);\r\n          const filteredEvents = conductor_list.filter(\r\n            ({ disabled }) => disabled !== \"true\"\r\n          );\r\n          setConductoresList(conductor_list);\r\n        }, 500);\r\n      });\r\n    //console.log(\"conductores list =>\",conductores_list)\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    console.log(\"Quitar filtro\");\r\n    setFilterState(data);\r\n  };\r\n\r\n  /** Select Section */\r\n  function onChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  function onSearch(val) {\r\n    console.log(\"search:\", val);\r\n  }\r\n\r\n  function onSelect(val) {\r\n    setConductorId(val);\r\n  }\r\n\r\n  function onSelectEmpresa(val) {\r\n    setFilterEmpresa(val);\r\n  }\r\n\r\n  function onSelectEstado(val) {\r\n    console.log(\"oin select estado => \", val);\r\n    setFilterEstado(val);\r\n  }\r\n\r\n  function create_pdf() {\r\n    console.log(\"CREAR PDF\");\r\n    setOpen(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    //console.log(\"EFFECT\");\r\n    get__viajes();\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n        //console.log(list__empresas);\r\n\r\n        setEmpresaList(list__empresas);\r\n\r\n        //console.log(empresaList);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    //console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  useEffect(async () => {\r\n    if (removeFilter === true) {\r\n      console.log(\"USE EFFECT REMOVE\");\r\n\r\n      filter_general();\r\n    }\r\n    setRemoveFilter(false);\r\n\r\n    console.log(removeFilter);\r\n  }, [removeFilter]);\r\n\r\n  const classes = useStyles();\r\n\r\n  function onDeleteConductor() {\r\n    console.log(\"Remover filtro conductor\");\r\n    setConductorLabel(null);\r\n    setConductorId(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteRango() {\r\n    console.log(\"Remover filtro rango de fechas\");\r\n    setRangoFechas(null);\r\n    setRangoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEmpresa() {\r\n    console.log(\"Remover filtro empresa\");\r\n    setFilterEmpresa(null);\r\n    setEmpresaLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  function onDeleteEstado() {\r\n    console.log(\"Remover filtro estado\");\r\n    setFilterEstado(null);\r\n    setEstadoLabel(null);\r\n    setRemoveFilter(true);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.filter__section}>\r\n        <div className={classes.label__container}>\r\n          <span className={classes.filter__title}>Filtrando por : </span>\r\n          {conductorLabel || rangoLabel || empresaLabel ? (\r\n            \"\"\r\n          ) : (\r\n            <Chip\r\n              label=\"No hay filtros activos\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              onDelete={handleDelete}\r\n              clickable\r\n            />\r\n          )}\r\n          {conductorLabel ? (\r\n            <Chip\r\n              label=\"conductor\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteConductor}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {rangoLabel ? (\r\n            <Chip\r\n              label=\"rango de fechas\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteRango}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {empresaLabel ? (\r\n            <Chip\r\n              label=\"empresa\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEmpresa}\r\n              clickable\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {estadoLabel ? (\r\n            <Chip\r\n              label=\"estado\"\r\n              color=\"secondary\"\r\n              size=\"medium\"\r\n              onDelete={onDeleteEstado}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        <div className={classes.filter__container}>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por conductor :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Conductor\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelect}\r\n              value={conductor_id}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {conductores_list.map((x) => {\r\n                return (\r\n                  <Option value={x.id} key={x.id}>{x.nombres + \" \" + x.apellidos}</Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </div>\r\n\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por rango de fechas :</span>\r\n            <RangePicker\r\n              onChange={rangeOnChange}\r\n              locale={locale}\r\n              value={rango_fechas}\r\n            />\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Empresa :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Empresa\"\r\n              optionFilterProp=\"children\"\r\n              onChange={onChange}\r\n              onSearch={onSearch}\r\n              onSelect={onSelectEmpresa}\r\n              value={filter_empresa}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              {empresaList.map((x) => {\r\n                return <Option value={x.id} key={x.id}>{x.empresa}</Option>;\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div className={classes.filter}>\r\n            <span className={classes.filter__title}>Por Estado :</span>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Seleccione Estado\"\r\n              optionFilterProp=\"children\"\r\n              onSelect={onSelectEstado}\r\n              value={filter_estado}\r\n              filterOption={(input, option) =>\r\n                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            >\r\n              <Option value={true} key=\"1\">Completado</Option>\r\n              <Option value={false} key=\"2\">Programado</Option>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div className={classes.button__container}>\r\n          <button onClick={filter_general} className={classes.button} className=\"btn btn-primary Button_filters\">\r\n            <i className=\"bi bi-filter\"></i> Filtrar\r\n          </button>\r\n          <button onClick={clear_filter} className={classes.button} className=\"btn btn-primary Button_filters\" >\r\n            Limpiar Filtros\r\n          </button>\r\n          <button onClick={create_pdf} className={classes.button} className=\"btn btn-primary Button_filters\">\r\n            <i className=\"bi bi-file-earmark-plus-fill\"></i> Generar PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filterData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"small\"\r\n        pagination={{ position: [\"bottom\", \"left\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={false}\r\n      />\r\n\r\n      <ModalReporte open={open} setOpen={setOpen} data={filterData} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_viajes_ant;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Radio, Divider, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport * as dayjs from 'dayjs'\r\n\r\nvar locale_de = require('dayjs/locale/es')\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Correo\",\r\n    dataIndex: \"email\",\r\n    render: (text) => <a>{text}</a>,\r\n    sorter: (a, b) => a.email.localeCompare(b.email),\r\n  },\r\n  {\r\n    title: \"Nombres\",\r\n    dataIndex: \"nombres\",\r\n    key: \"id\",\r\n    responsive: ['sm'],\r\n  },\r\n  {\r\n    title: \"Apellidos\",\r\n    dataIndex: \"apellidos\",\r\n    key: \"id\",\r\n    responsive: ['sm'],\r\n    \r\n  },\r\n  {\r\n    title: \"Rut\",\r\n    dataIndex: \"rut\",\r\n    key: \"rut\",\r\n    responsive: ['xl'],\r\n  },\r\n];\r\n\r\n\r\n\r\n\r\nconst DataTable_select_conductor = (props) => {\r\n  const {setIsSelected, setSelectedUser, selectedUser, selectedItem, setConductor} = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const query = db.collection(\"usuario\");\r\n  const observerUsuario = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach(change => {\r\n        if (change.type === 'modified') {\r\n          setEdit(!edit)\r\n          \r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const get__usuario = () => {\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          setTimeout(function(){ setData(result);; setIsLoaded(false)}, 1000);\r\n          \r\n        },\r\n        // Nota: es importante manejar errores aquí y no en\r\n        // un bloque catch() para que no interceptemos errores\r\n        // de errores reales en los componentes.\r\n        (error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  };\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [x, setX] = useState([]);\r\n  const rowSelection = {\r\n    selectedRowKeys : x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectedRowKeys([selectedRows])\r\n      setX(selectedRowKeys)\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0].nombres\r\n      );\r\n      \r\n      //setIsSelected(false)\r\n      setSelectedUser(selectedRows[0])\r\n      if(selectedItem){\r\n        selectedItem.conductor = selectedRows[0].nombres;\r\n        setConductor(selectedRows[0].nombres);\r\n      }\r\n      \r\n\r\n     \r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale('es').format(\"DD MMM. YYYY\")\r\n      \r\n      console.log(formatDate);\r\n\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  useEffect(() => {\r\n    get__usuario();\r\n  }, [size, edit]);\r\n\r\n \r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n  const Usuario = () => {\r\n    return(\r\n      <span>Usuario seleccionado: {selectedUser\r\n        ? <Text strong> {selectedUser.email}</Text>\r\n        : \" Pinche en una fila para seleccionar usuario.\"} <Button onClick={() => setX([])}>X</Button></span>\r\n    )\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: 'max-content' }}\r\n        size=\"small\"\r\n        title={() => <Usuario/>}\r\n\r\n        pagination={{ position: ['bottom', 'left'] , defaultPageSize: 5}}\r\n        bordered ={true}\r\n        className={classes.root}\r\n        loading={isLoaded}\r\n\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_select_conductor;","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from 'antd';\r\nimport * as dayjs from 'dayjs'\r\n\r\nvar locale_de = require('dayjs/locale/es')\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Modelo\",\r\n    dataIndex: \"modelo\",\r\n    render: (text) => <a>{text}</a>,\r\n    sorter: (a, b) => a.modelo.localeCompare(b.modelo),\r\n    defaultSortOrder: 'ascend',\r\n  },\r\n  {\r\n    title: \"Marca\",\r\n    dataIndex: \"marca\",\r\n    key: \"marca\",\r\n    responsive: ['sm'],\r\n  },\r\n  {\r\n    title: \"Patente\",\r\n    dataIndex: \"patente\",\r\n    key: \"patente\",\r\n    responsive: ['sm'],\r\n    \r\n  },\r\n];\r\n\r\n\r\n\r\n\r\nconst DataTable_select_viaje = (props) => {\r\n  const {setIsSelected, setSelectedItem, selectedItem, setSelectedCamion, dataCamionFecha, date} = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState('');\r\n\r\n  const query = db.collection(\"camion\");\r\n  const observerCamion = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach(change => {\r\n        if (change.type === 'modified') {\r\n          setEdit(!edit)\r\n          \r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys : x,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setX(selectedRowKeys)\r\n      console.log(\r\n        `selectedRowKeys: ${selectedRowKeys}`,\r\n        \"selectedRows: \",\r\n        selectedRows[0]\r\n      );\r\n      //setIsSelected(false)\r\n      setSelectedCamion(selectedRows[0])\r\n      if(selectedItem){\r\n        console.log(\"holas :)\")\r\n        selectedItem.camion = selectedRows[0].modelo + \"/\"+ selectedRows[0].marca +\" / \"+selectedRows[0].patente;\r\n      }\r\n\r\n     \r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale('es').format(\"DD MMM. YYYY\")\r\n      \r\n      console.log(formatDate);\r\n\r\n\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__camion = async () => {\r\n    const camiones = [];\r\n    db.collection('camion')\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        console.log(\"!!!!!!!!!!!!!\");\r\n        let item = {};\r\n        querySnapshot.forEach((doc) => {\r\n\r\n            var c = {\r\n              id : doc.id,\r\n              modelo : doc.data().modelo,\r\n              marca : doc.data().marca,\r\n              patente : doc.data().patente,\r\n              disponible : doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n            }\r\n            camiones.push(c);\r\n          \r\n        });\r\n      })\r\n  setTimeout(function(){ setData(camiones); setIsLoaded(false)}, 1000);\r\n\r\n  }\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    get__camion();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"CAMION_FECHA  => \",dataCamionFecha)\r\n    var formatDate = dayjs(date)\r\n      .locale(\"es\")\r\n      .format(\"DD MMMM YYYY\");\r\n    console.log(\"FECHA_SELECCIONADA => \",formatDate)\r\n    if(selectedItem === null){\r\n      setX([]);\r\n    }\r\n    \r\n  }, [selectedItem]);\r\n\r\n  \r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Alert message=\"Importante! Solo se muestran los camiones disponibles.\" type=\"warning\" />\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={data}\r\n        scroll={{ x: 'max-content' }}\r\n        size=\"small\"\r\n\r\n        pagination={{ position: ['bottom', 'left'] }}\r\n        bordered ={true}\r\n        className={classes.root}\r\n        rowClassName={rowClassname}\r\n        loading={isLoaded}\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_select_viaje;","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport \"dayjs\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DatedayjsUtils from \"@date-io/dayjs\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\n//import { Select } from \"antd\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport  {Select as Select_Ant} from \"antd\";\r\n\r\nimport DataTable_select_conductor from \"../app/admin/data_tables/DataTable_select_conductor\";\r\nimport DataTable_select_viajer from \"../app/admin/data_tables/DataTable_select_viaje\";\r\n\r\nimport { db, fire } from \"../db/firebase\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { Select} from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { Alert } from \"antd\";\r\n\r\nlet regiones = require(\"../app/regiones.json\");\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  backButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  container: {\r\n    //backgroundColor: \"skyblue\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  select: {\r\n    //backgroundColor: \"blue\",\r\n    marginRight: 50,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst DatePicker = (props) => {\r\n  const { setDate, selectedItem, setSelectedItem } = props;\r\n  const [selectedDate, setSelectedDate] = React.useState(null);\r\n\r\n  const [selectedViaje, setSelectedViaje] = React.useState(null);\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n    console.log(selectedDate);\r\n    setDate(date);\r\n\r\n    if (selectedItem) {\r\n      console.log(\"!! SELECTED ITEM !!\");\r\n      selectedItem.fecha = fire.firestore.Timestamp.fromDate(\r\n        new Date(date)\r\n      ).toDate();\r\n      console.log(selectedItem);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DatedayjsUtils}>\r\n      <Grid container justify=\"space-around\">\r\n        <KeyboardDatePicker\r\n          margin=\"normal\"\r\n          id=\"date-picker-dialog\"\r\n          label=\"Fecha\"\r\n          format=\"DD/MM/YYYY\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            \"aria-label\": \"change date\",\r\n          }}\r\n        />\r\n        <KeyboardTimePicker\r\n          margin=\"normal\"\r\n          id=\"time-picker\"\r\n          label=\"Hora\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            \"aria-label\": \"change time\",\r\n          }}\r\n        />\r\n      </Grid>\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n};\r\nconst { Option } = Select_Ant;\r\n\r\nconst SelectDestino = (props) => {\r\n  const {\r\n    setRegion,\r\n    setComuna,\r\n    //setRegionDestino,\r\n    //setComunaDestino,\r\n    //setDireccion,\r\n\r\n    empresa,\r\n    //setEmpresa,\r\n  } = props;\r\n\r\n  const [age, setAge] = React.useState(\"\");\r\n  const [nameComuna, setNameComuna] = React.useState(\"\");\r\n  const [comunas, setComunas] = React.useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    setAge(event.target.value);\r\n    setComunas(event.target.value.comunas);\r\n    setRegion(event.target.value.region);\r\n  };\r\n\r\n  const handleChange2 = (event) => {\r\n    setNameComuna(event.target.value);\r\n    setComuna(event.target.value);\r\n  };\r\n\r\n  const handleDireccion = (event) => {\r\n    console.log(event.target.value);\r\n    //setDireccion(event.target.value);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    console.log(\"Listado de empresas => \", empresa)\r\n  }, []);\r\n\r\n  const  onSelect = (val) => {\r\n    console.log(val)\r\n\r\n    setRegion(val);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n\r\n      <FormControl className={classes.formControl}>\r\n        <Select_Ant\r\n          showSearch\r\n          style={{ width: 200 }}\r\n          placeholder=\"Seleccione una empresa\"\r\n          optionFilterProp=\"children\"\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          \r\n          onSelect={onSelect}\r\n        >\r\n          {empresa.map((x) => {\r\n            return <Option value={x.id}>{x.empresa}</Option>;\r\n          })}\r\n\r\n        </Select_Ant>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SelectOrigen = (props) => {\r\n  const {\r\n    setRegion,\r\n    setComuna,\r\n    //setRegionDestino,\r\n    //setComunaDestino,\r\n    //setDireccion,\r\n\r\n    empresa,\r\n    //setEmpresa,\r\n  } = props;\r\n\r\n  const [age, setAge] = React.useState(\"\");\r\n  const [nameComuna, setNameComuna] = React.useState(\"\");\r\n  const [comunas, setComunas] = React.useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    setAge(event.target.value);\r\n    setComunas(event.target.value.comunas);\r\n    setRegion(event.target.value.region);\r\n  };\r\n\r\n  const handleChange2 = (event) => {\r\n    setNameComuna(event.target.value);\r\n    setComuna(event.target.value);\r\n  };\r\n\r\n  const handleDireccion = (event) => {\r\n    console.log(event.target.value);\r\n    //setDireccion(event.target.value);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    console.log(\"Listado de empresas => \", empresa)\r\n  }, []);\r\n\r\n  const  onSelect = (val) => {\r\n    console.log(val)\r\n\r\n    setRegion(val);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">Región</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={age}\r\n          onChange={handleChange}\r\n        >\r\n          {regiones.map((x) => {\r\n            return (\r\n              <MenuItem value={x} key={x.numero}>\r\n                {x.region}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n      \r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label1\">Comuna</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label1\"\r\n          id=\"demo-simple-select1\"\r\n          value={nameComuna}\r\n          onChange={handleChange2}\r\n        >\r\n          {comunas.map((x) => {\r\n            return (\r\n              <MenuItem value={x} key={x.numero}>\r\n                {x}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nfunction getSteps() {\r\n  return [\r\n    \"Seleccione fecha\",\r\n    \"Seleccione Conductor\",\r\n    \"Seleccione Camión\",\r\n    \"Seleccione Origen\",\r\n    \"Seleccione Destino\",\r\n    \"Confirmar Datos\",\r\n  ];\r\n}\r\n\r\nexport default function HorizontalLabelPositionBelowStepper(props) {\r\n  const {\r\n    setDate,\r\n    setTime,\r\n    setSelectedUser,\r\n    setSelectedCamion,\r\n    setRegion,\r\n    setComuna,\r\n    setRegionDestino,\r\n    setComunaDestino,\r\n    setDireccion,\r\n    setConductor,\r\n    setEmpresa,\r\n\r\n    date,\r\n    selectedUser,\r\n    selectedCamion,\r\n    region,\r\n    comuna,\r\n    regionDestino,\r\n    //comunaDestino,\r\n    //direccion,\r\n    empresa,\r\n\r\n    selectedItem,\r\n    setSelectedItem,\r\n    user__id,\r\n\r\n    dataCamionFecha,\r\n    itemToDelete,\r\n\r\n    setOpenModalViaje\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const steps = getSteps();\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    //setActiveStep(0);\r\n\r\n    /**REGISTRAR VIAJE */\r\n\r\n    if (selectedItem) {\r\n      var cityRef = db.collection(\"usuario\").doc(user__id);\r\n      cityRef\r\n        .update({\r\n          viajes: fire.firestore.FieldValue.arrayRemove(selectedItem),\r\n        })\r\n        .then(() => {\r\n\r\n          if (selectedUser) {\r\n            var cityRef = db\r\n              .collection(\"usuario\")\r\n              .doc(selectedUser.id); /** cambiar */\r\n          } else {\r\n            var cityRef = db.collection(\"usuario\").doc(user__id);\r\n          }\r\n          \r\n          cityRef.update({\r\n            viajes: fire.firestore.FieldValue.arrayUnion(selectedItem),\r\n          });\r\n\r\n          console.log(\"VIAJE Modificado => \", new__viaje);\r\n\r\n          setSelectedUser(null);\r\n\r\n          var men = \"VIAJE EDITADO EXITOSAMENTE.\";\r\n          //setOpenModalCamion(false);\r\n          enqueueSnackbar(men, {\r\n            variant: \"warning\",\r\n            preventDuplicate: true,\r\n          });\r\n        });\r\n\r\n        setOpenModalViaje(false);\r\n    } else {\r\n      console.log(\"REGISTRAR VIAJE !!\");\r\n\r\n      var identifier = selectedUser.rut.slice(-4);\r\n      var formatDate = dayjs()\r\n        .locale(\"es\")\r\n        .format(\"DDMMYYYYhhmmss-\" + identifier);\r\n\r\n      var new__viaje = {\r\n        id: formatDate,\r\n        fecha: fire.firestore.Timestamp.fromDate(new Date(date)),\r\n        camion:\r\n          selectedCamion.modelo +\r\n          \" / \" +\r\n          selectedCamion.marca +\r\n          \" / \" +\r\n          selectedCamion.patente,\r\n        origen: region + \", \" + comuna,\r\n        destino: regionDestino,\r\n        id_camion: selectedCamion.id,\r\n      };\r\n\r\n      var cityRef = db.collection(\"usuario\").doc(selectedUser.id);\r\n\r\n      cityRef\r\n        .update({\r\n          viajes: fire.firestore.FieldValue.arrayUnion(new__viaje),\r\n        })\r\n        .then(() => {\r\n          var camionRef = db.collection(\"camion\").doc(selectedCamion.id);\r\n\r\n          camionRef\r\n            .update({\r\n              disponible: false,\r\n            })\r\n            .then(() => {\r\n              console.log(\"Document successfully updated!\");\r\n            })\r\n            .catch((error) => {\r\n              // The document probably doesn't exist.\r\n              console.error(\"Error updating document: \", error);\r\n            });\r\n        });\r\n\r\n      var fechaDisp = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY\");\r\n\r\n      let disp = {\r\n        id: formatDate,\r\n        fecha: fechaDisp,\r\n      };\r\n\r\n      var camionRef = db.collection(\"camion\").doc(selectedCamion.id);\r\n\r\n      camionRef.update({\r\n        disp: fire.firestore.FieldValue.arrayUnion(disp),\r\n      });\r\n\r\n      console.log(\"VIAJE GENERADO => \", new__viaje);\r\n\r\n      /** limpiar campos */\r\n      setSelectedUser(null);\r\n\r\n      var men = \"Viaje agregado exitosamente.\";\r\n      //setOpenModalCamion(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n      });\r\n\r\n      setOpenModalViaje(false);\r\n    }\r\n  };\r\n\r\n  function getStepContent(stepIndex) {\r\n    switch (stepIndex) {\r\n      case 0:\r\n        return (\r\n          <DatePicker\r\n            setDate={setDate}\r\n            setTime={setTime}\r\n            selectedItem={selectedItem}\r\n            setSelectedItem={setSelectedItem}\r\n          />\r\n        );\r\n      case 1:\r\n        return (\r\n          <DataTable_select_conductor\r\n            setSelectedUser={setSelectedUser}\r\n            selectedItem={selectedItem}\r\n            setConductor={setConductor}\r\n          />\r\n        );\r\n      case 2:\r\n        return (\r\n          <DataTable_select_viajer\r\n            setSelectedCamion={setSelectedCamion}\r\n            dataCamionFecha={dataCamionFecha}\r\n            date={date}\r\n            selectedItem={selectedItem}\r\n          />\r\n        );\r\n      case 3:\r\n        return (\r\n          <SelectOrigen\r\n            setRegion={setRegion}\r\n            setComuna={setComuna}\r\n            selectedItem={selectedItem}\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n          />\r\n        );\r\n      case 4:\r\n        return (\r\n          <SelectDestino\r\n            setRegion={setRegionDestino}\r\n            setComuna={setComunaDestino}\r\n            selectedItem={selectedItem}\r\n            setDireccion={setDireccion}\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n          />\r\n        );\r\n      default:\r\n        return \"Unknown stepIndex\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {selectedItem ? (\r\n        <Alert\r\n          message=\"Dirigase al paso que desea editar e ingrese los datos nuevos.\"\r\n          type=\"info\"\r\n        />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Stepper activeStep={activeStep} alternativeLabel>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <div>\r\n        {activeStep === steps.length ? (\r\n          <div>\r\n            <Typography className={classes.instructions}>\r\n              Asegurese de que todos los datos son correctos antes de completar\r\n              el registro.\r\n            </Typography>\r\n            <Button\r\n              disabled={activeStep === 0}\r\n              onClick={handleBack}\r\n              className={classes.backButton}\r\n            >\r\n              Atras\r\n            </Button>\r\n             {\r\n               /**\r\n                * date,\r\n                  selectedUser,\r\n                  selectedCamion,\r\n                  region,\r\n                  comuna,\r\n                  regionDestino,\r\n                  comunaDestino,\r\n                  direccion,\r\n                  empresa,\r\n                */\r\n             }\r\n             {selectedItem ? \r\n              <Button variant=\"contained\" color=\"secondary\" onClick={handleReset}>\r\n                Modificar Viaje\r\n              </Button>\r\n             : \r\n\r\n             <Button variant=\"contained\" color=\"secondary\" onClick={handleReset} \r\n              disabled={ \r\n                Object.entries(date).length === 0 || \r\n                selectedUser === null || \r\n                selectedCamion === null || \r\n                region === \"\" || \r\n                comuna === \"\" || \r\n                regionDestino === \"\" ? true : false }>\r\n\r\n              Registrar Viaje\r\n             </Button>\r\n\r\n             }\r\n\r\n\r\n            <Button variant=\"contained\" color=\"inherit\" onClick={() => console.log(\"==> \", regionDestino)}>\r\n              Comprobar Datos\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Typography className={classes.instructions}>\r\n              {getStepContent(activeStep)}\r\n            </Typography>\r\n            <div>\r\n              <Button\r\n                disabled={activeStep === 0}\r\n                onClick={handleBack}\r\n                className={classes.backButton}\r\n              >\r\n                Atras\r\n              </Button>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\r\n                {activeStep === steps.length - 1 ? \"Confirmar\" : \"Siguiente\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nimport {db} from \"../../../db/firebase\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nfunction SelectUsuario(props) {\r\n  const {conductor, setConductor, user__id, selectedItem, setEmailName, setEmailCorreo} = props;\r\n  const [usuario, setUsuario] = useState([]);\r\n\r\n  function onSelect(val, child) {\r\n    console.log(\"select:\", child.email);\r\n    setConductor(val);\r\n    setEmailName(child.children);\r\n    setEmailCorreo(child.email);\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT USUARIO\");\r\n    let lista =[];\r\n    /*\r\n    const url = \"http://localhost:4000/api/admin/\";\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    console.log(data);\r\n    setUsuario(data);\r\n    */\r\n    await db.collection(\"usuario\")\r\n      .where(\"email\", \"!=\", \"administrador@trudistic.cl\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach(x => {\r\n          lista.push(x.data());\r\n        })\r\n        const filteredEvents = lista.filter(({ disabled }) => disabled !== \"true\");\r\n        \r\n        setUsuario(filteredEvents);\r\n\r\n      });\r\n\r\n      if(selectedItem){\r\n        setConductor(user__id);\r\n      }\r\n\r\n  }, []);\r\n\r\n  return (\r\n      <Select\r\n        className=\"Input-select\"\r\n        showSearch\r\n        placeholder=\"Seleccione usuario\"\r\n        optionFilterProp=\"children\"\r\n        onSelect={onSelect}\r\n        filterOption={(input, option) =>\r\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n        getPopupContainer={node => node.parentNode}\r\n        value={conductor ? conductor : null}\r\n      >\r\n        {usuario.map((x) => {\r\n          return <Option value={x.id} key={x.email} email={x.email}>{x.nombres + \" \"+ x.apellidos}</Option>;\r\n        })}\r\n      </Select>\r\n  );\r\n}\r\n\r\nexport default SelectUsuario;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nfunction SelectCamion(props) {\r\n  const {selectedItem, camionId, setCamionId} = props;\r\n  const [camion, setCamion] = useState([]);\r\n\r\n  function onSelect(val) {\r\n    console.log(\"select:\", val);\r\n    setCamionId(val);\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT CAMION\");\r\n    const camionRef = db.collection('camion');\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n        console.log('No matching documents.');\r\n        return;\r\n    }\r\n    const camiones = [];\r\n    snapshot.forEach(doc => {\r\n        var c = {\r\n          id : doc.id,\r\n          modelo : doc.data().modelo,\r\n          marca : doc.data().marca,\r\n          patente : doc.data().patente,\r\n          disponible : doc.data().disponible ? \"Disponible\" : \"En uso\",\r\n          estado : doc.data().estado\r\n        }\r\n        camiones.push(c);\r\n    });\r\n    setCamion(camiones);\r\n    if(selectedItem){\r\n      setCamionId(selectedItem.id_camion);\r\n    }\r\n    \r\n  }, []);\r\n\r\n  return (\r\n      <Select\r\n        className=\"Input-select\"\r\n        showSearch\r\n        placeholder=\"Seleccione camion\"\r\n        optionFilterProp=\"children\"\r\n        onSelect={onSelect}\r\n        filterOption={(input, option) =>\r\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n        getPopupContainer={node => node.parentNode}\r\n        value={camionId ? camionId : null}\r\n      >\r\n        {camion.map((x) => {\r\n          return <Option value={x.id} key={x.id} hidden={x.estado === \"true\" ?true:false}>{x.marca +\" \"+x.modelo+\" \"+x.patente}</Option>;\r\n        })}\r\n      </Select>\r\n  );\r\n}\r\n\r\nexport default SelectCamion;","import React, { useEffect, useState } from \"react\";\r\n\r\n//import { db } from \"../../../db/firebase\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\nimport \"./estilos_form_admin_viaje.css\"\r\nlet regiones_data = require(\"../../regiones.json\");\r\n\r\nconst { Option } = Select;\r\n\r\nfunction SelectOrigen(props) {\r\n  const {selectedItem, setOrigen} = props;\r\n\r\n  const [regiones, setRegiones] = useState([]);\r\n  const [comunas, setComunas] = useState([]);\r\n\r\n  const [selectedRegion, setSelectedRegion] = useState('');\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n  const [isSelected, setIsSelected] = useState(false);\r\n\r\n  const [disabled, setDisable] = useState(true);\r\n\r\n  function onSelect(val) {\r\n    console.log(\"select:\", val);\r\n    setSelectedRegion(val);\r\n    setIsSelected(true);\r\n  }\r\n\r\n  function onSelectComuna(val) {\r\n    console.log(\"select:\", val);\r\n    setSelectedComuna(val);\r\n\r\n    let origen = selectedRegion +\", \"+val;\r\n\r\n    console.log(\"origen=> \", origen);\r\n    setOrigen(origen);\r\n  }\r\n\r\n  function submit (){\r\n    console.log(\"region => \", selectedRegion);\r\n    console.log(\"comuna => \", selectedComuna);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(selectedRegion !== ''){\r\n      setComunas(comunas => comunas = []);\r\n        regiones.forEach(x => {\r\n            if(selectedRegion === x.region){\r\n                setSelectedComuna(x.comunas[0]);\r\n                setComunas(x.comunas);\r\n                setDisable(false);\r\n            }\r\n        });\r\n        setIsSelected(false);\r\n    }\r\n    \r\n  }, [isSelected]);\r\n\r\n  useEffect(async () => {\r\n    await setRegiones(regiones_data);\r\n\r\n    if(selectedItem){\r\n      let split = selectedItem.origen.split(',');\r\n\r\n      console.log(split[0] + \" \" + split[1]);\r\n\r\n      setSelectedRegion(split[0]);\r\n      setSelectedComuna(split[1]);\r\n\r\n      let origen = split[0]+\",\"+split[1];\r\n\r\n      setOrigen(origen);\r\n\r\n      regiones.forEach(x => {\r\n        if(selectedRegion === x.region){\r\n            setComunas(x.comunas);\r\n            setDisable(false);\r\n        }\r\n    });\r\n      setDisable(false);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Form-input-select-2\">\r\n      \r\n      <div style={{display : \"flex\",flexDirection : \"column\", width : \"100%\"}}>\r\n        <span className=\"Label\">Región Origen</span>\r\n        <Select\r\n          className=\"Input-select-2\"\r\n          showSearch\r\n          placeholder=\"Seleccione región\"\r\n          optionFilterProp=\"children\"\r\n          onSelect={onSelect}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          value={selectedRegion ? selectedRegion : null}\r\n        >\r\n          {regiones.map((x) => {\r\n            return <Option value={x.region} key={x.region}>{x.region}</Option>;\r\n          })}\r\n        </Select>\r\n      </div>\r\n      \r\n      <div style={{display : \"flex\",flexDirection : \"column\", width : \"100%\"}}>\r\n        <span className=\"Label\">Comuna Origen</span>\r\n        <Select\r\n\r\n          className=\"Input-select-2\"\r\n          disabled={disabled}\r\n          showSearch\r\n          placeholder=\"Seleccione comuna\"\r\n          optionFilterProp=\"children\"\r\n          onSelect={onSelectComuna}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          getPopupContainer={node => node.parentNode}\r\n          value={selectedComuna ? selectedComuna : null}\r\n        >\r\n          {comunas.map((x) => {\r\n            return <Option value={x} key={x}>{x}</Option>;\r\n          })}\r\n        </Select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectOrigen;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport \"antd/dist/antd.css\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction onSelect(val) {\r\n  console.log(\"select:\", val);\r\n}\r\n\r\nfunction SelectEmpresa(props) {\r\n  const {\r\n    selectedItem,\r\n    destino,\r\n    setDestino,\r\n    setEmailDestino,\r\n    setEmailDireccion,\r\n  } = props;\r\n\r\n  const [empresa, setEmpresa] = useState([]);\r\n\r\n  function onSelect(val, child) {\r\n    console.log(\"select:\", child);\r\n    setDestino(val);\r\n    setEmailDestino(child.children);\r\n    setEmailDireccion(child.direccion);\r\n  }\r\n\r\n  async function getEmpresaName(uid){\r\n      return uid;\r\n  }\r\n\r\n  useEffect(async () => {\r\n    console.log(\"RENDER SELECT EMPRESA\");\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        empresa: doc.data().empresa,\r\n        region: doc.data().region,\r\n        comuna: doc.data().comuna,\r\n        direccion: doc.data().direccion,\r\n        estado : doc.data().estado\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setEmpresa(empresas);\r\n\r\n    if (selectedItem) {\r\n      \r\n      setDestino(selectedItem.destino);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Select\r\n      className=\"Input-select\"\r\n      showSearch\r\n      placeholder=\"Seleccione empresa\"\r\n      optionFilterProp=\"children\"\r\n      onSelect={onSelect}\r\n      filterOption={(input, option) =>\r\n        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n      }\r\n      getPopupContainer={(node) => node.parentNode}\r\n      value={destino ? destino : null}\r\n    >\r\n      {empresa.map((x) => {\r\n        if(destino){\r\n          if(x.id === destino){\r\n            setEmailDestino(x.empresa);\r\n            setEmailDireccion(x.direccion);\r\n          }\r\n        }\r\n        \r\n          \r\n          return (\r\n            <Option value={x.id} key={x.id} direccion={x.direccion} hidden={x.estado === \"true\" ?true:false}>{x.empresa}</Option>\r\n          );\r\n        \r\n      })}\r\n    </Select>\r\n  );\r\n}\r\n\r\nexport default SelectEmpresa;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { fire } from \"../../../db/firebase\";\r\n// date picker.\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport DatedayjsUtils from \"@date-io/dayjs\";\r\n\r\nimport SELECT_USUARIO from \"./Select\";\r\nimport SELECT_CAMION from \"./SelectCamion\";\r\nimport SELECT_ORIGEN from \"./SelectOrigen\";\r\nimport SELECT_EMPRESA from \"./SelectEmpresa\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport emailjs from \"emailjs-com\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_form_admin_viaje.css\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\nimport { Backdrop, CircularProgress } from \"@material-ui/core\";\r\nrequire(\"dayjs/locale/es\");\r\nvar customParseFormat = require(\"dayjs/plugin/customParseFormat\");\r\ndayjs.extend(customParseFormat);\r\n\r\nconst DatePicker = (props) => {\r\n  const {\r\n    /*setDate, selectedItem, setSelectedItem*/ selectedItem,\r\n    setFechaHora,\r\n  } = props;\r\n\r\n  const [date, setDate] = useState(new Date());\r\n  const [time, setTime] = useState(new Date());\r\n  //const [selectedViaje, setSelectedViaje] = React.useState(null);\r\n\r\n  const handleDateChange = (date) => {\r\n    var formatDate = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY HH:m A\");\r\n\r\n    setDate(date);\r\n    console.log(\"date => \", formatDate);\r\n    console.log(\r\n      \"firestamp => \",\r\n      fire.firestore.Timestamp.fromDate(new Date(date)).toDate()\r\n    );\r\n    setFechaHora(fire.firestore.Timestamp.fromDate(new Date(date)).toDate());\r\n    //setDate(date);\r\n    /*\r\n      if (selectedItem) {\r\n        console.log(\"!! SELECTED ITEM !!\");\r\n        selectedItem.fecha = fire.firestore.Timestamp.fromDate(\r\n          new Date(date)\r\n        ).toDate();\r\n        console.log(selectedItem);\r\n      }\r\n      */\r\n  };\r\n  useEffect(() => {\r\n    console.log(\"DATEPICKER RENDER\");\r\n    if (selectedItem) {\r\n      setDate(selectedItem.fecha);\r\n      setFechaHora(selectedItem.fecha);\r\n    }\r\n  }, []);\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DatedayjsUtils} locale=\"es\">\r\n      <KeyboardDatePicker\r\n        variant=\"inline\"\r\n        margin=\"normal\"\r\n        id=\"date-picker-dialog\"\r\n        label=\"Fecha\"\r\n        format={\"DD, MMMM-YYYY\"}\r\n        value={date}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n          \"aria-label\": \"change date\",\r\n        }}\r\n      />\r\n      <KeyboardTimePicker\r\n        margin=\"normal\"\r\n        id=\"time-picker\"\r\n        label=\"Hora\"\r\n        value={date}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n          \"aria-label\": \"change time\",\r\n        }}\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n};\r\n\r\nfunction Form_admin_viaje(props) {\r\n  const { selectedItem, user__id, closeSlideMenu, setOpenModalViaje } = props;\r\n\r\n  const [fecha_hora, setFechaHora] = useState(\"\");\r\n  const [conductor, setConductor] = useState(\"\");\r\n  const [camionId, setCamionId] = useState(\"\");\r\n  const [origen, setOrigen] = useState(\"\");\r\n  const [destino, setDestino] = useState(\"\");\r\n\r\n  const [email_name, setEmailName] = useState(\"\");\r\n  const [email_destino, setEmailDestino] = useState(\"\");\r\n  const [email_direccion, setEmailDireccion] = useState(\"\");\r\n  const [email_correo, setEmailCorreo] = useState(\"\");\r\n\r\n  const [error, setError] = useState(false);\r\n  const [notificar, setNotificar] = useState(true);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  function isChecked(e) {\r\n    console.log(e.target.checked);\r\n    setNotificar(e.target.checked);\r\n  }\r\n  function submit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    console.log(\"fecha y hora => \", fecha_hora);\r\n    console.log(\"conductor => \", conductor);\r\n    console.log(\"camion => \", camionId);\r\n    console.log(\"origen => \", origen);\r\n    console.log(\"destino => \", destino);\r\n    console.log(selectedItem);\r\n\r\n    var identifier = conductor.slice(-4);\r\n    var formatDate = dayjs()\r\n      .locale(\"es\")\r\n      .format(\"DDMMYYYYhhmmss-\" + identifier);\r\n\r\n    let viaje = {\r\n      id: formatDate,\r\n      fecha: fecha_hora,\r\n      camion: camionId, // selectedCamion.modelo + \" / \" + selectedCamion.marca + \" / \" + selectedCamion.patente,\r\n      origen: origen,\r\n      destino: destino,\r\n      id_camion: camionId,\r\n    };\r\n\r\n    if (selectedItem) {\r\n      var cityRef = db.collection(\"usuario\").doc(user__id);\r\n      /** Remuevo el viaje a actualizar */\r\n      cityRef\r\n        .update({ viajes: fire.firestore.FieldValue.arrayRemove(selectedItem) })\r\n        .then(() => {\r\n          /** Selecciono al usuario para modificar sus viajes */\r\n          var cityRef = db.collection(\"usuario\").doc(conductor);\r\n\r\n          /** Agrego el viaje modificado */\r\n          cityRef.update({\r\n            viajes: fire.firestore.FieldValue.arrayUnion(viaje),\r\n          });\r\n\r\n          //setSelectedUser(null);\r\n\r\n          var men = \"Viaje editado exitosamente.\";\r\n          enqueueSnackbar(men, {\r\n            variant: \"warning\",\r\n            preventDuplicate: true,\r\n            autoHideDuration: 2000,\r\n          });\r\n        });\r\n\r\n      if (notificar === true) {\r\n        emailjs\r\n          .sendForm(\r\n            \"service_3t2jqug\",\r\n            \"template_60oxr8w\",\r\n            e.target,\r\n            \"user_CzJpNEaTEgmDCaNX3wWLO\"\r\n          )\r\n          .then(\r\n            (result) => {\r\n              console.log(result.text);\r\n            },\r\n            (error) => {\r\n              console.log(error.text);\r\n            }\r\n          );\r\n      }\r\n\r\n      closeSlideMenu();\r\n      setOpenModalViaje(false);\r\n      //(false);\r\n      setLoading(false);\r\n    } else {\r\n      console.log(\"REGISTRAR VIAJE !!\");\r\n\r\n      var new__viaje = {\r\n        id: formatDate,\r\n        fecha: fecha_hora,\r\n        camion: camionId,\r\n        origen: origen,\r\n        destino: destino,\r\n        id_camion: camionId,\r\n      };\r\n\r\n      if (\r\n        new__viaje.fecha !== \"\" &&\r\n        new__viaje.camion !== \"\" &&\r\n        new__viaje.origen !== \"\" &&\r\n        new__viaje.destino !== \"\" &&\r\n        new__viaje.id_camion !== \"\"\r\n      ) {\r\n        var cityRef = db.collection(\"usuario\").doc(conductor);\r\n\r\n        cityRef\r\n          .update({ viajes: fire.firestore.FieldValue.arrayUnion(new__viaje) })\r\n          .then(() => {});\r\n\r\n        console.log(\"VIAJE GENERADO => \", new__viaje);\r\n\r\n        var men = \"Viaje agregado exitosamente.\";\r\n\r\n        enqueueSnackbar(men, {\r\n          variant: \"success\",\r\n          preventDuplicate: true,\r\n          autoHideDuration: 2000,\r\n        });\r\n\r\n        //setOpenModalViaje(false);\r\n        if (notificar === true) {\r\n          emailjs\r\n            .sendForm(\r\n              \"service_3t2jqug\",\r\n              \"template_60oxr8w\",\r\n              e.target,\r\n              \"user_CzJpNEaTEgmDCaNX3wWLO\"\r\n            )\r\n            .then(\r\n              (result) => {\r\n                console.log(result.text);\r\n              },\r\n              (error) => {\r\n                console.log(error.text);\r\n              }\r\n            );\r\n        }\r\n        setOpenModalViaje(false);\r\n        closeSlideMenu();\r\n      } else {\r\n        setError(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  function tests(e) {\r\n    e.preventDefault();\r\n\r\n    var fecha = dayjs(fecha_hora).locale(\"es\").format(\"DD MMMM YYYY HH:mm A\");\r\n\r\n    emailjs\r\n      .sendForm(\r\n        \"service_3t2jqug\",\r\n        \"template_60oxr8w\",\r\n        e.target,\r\n        \"user_CzJpNEaTEgmDCaNX3wWLO\"\r\n      )\r\n      .then(\r\n        (result) => {\r\n          console.log(result.text);\r\n        },\r\n        (error) => {\r\n          console.log(error.text);\r\n        }\r\n      );\r\n  }\r\n\r\n  return (\r\n    <div className=\"Root\">\r\n      \r\n      <div className=\"Form-description\">\r\n      <Backdrop open={loading} className=\"Backdrop\">\r\n        <CircularProgress color=\"secondary\" />\r\n      </Backdrop>\r\n        {error ? (\r\n          <div\r\n            className=\"alert alert-danger alert-dismissible fade show\"\r\n            role=\"alert\"\r\n          >\r\n            <strong>Error</strong> Todos los campos deben ser llenados.\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n\r\n      <div className=\"Form-content\">\r\n        <div className=\"Form-input\">\r\n          <DatePicker selectedItem={selectedItem} setFechaHora={setFechaHora} />\r\n        </div>\r\n        <div className=\"Form-input-select\">\r\n          <span className=\"Label\">Usuario</span>\r\n          <SELECT_USUARIO\r\n            conductor={conductor}\r\n            setConductor={setConductor}\r\n            user__id={user__id}\r\n            selectedItem={selectedItem}\r\n            setEmailName={setEmailName}\r\n            setEmailCorreo={setEmailCorreo}\r\n            user__id={user__id}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"Form-input-select\">\r\n          <span className=\"Label\">Camión</span>\r\n          <SELECT_CAMION\r\n            selectedItem={selectedItem}\r\n            camionId={camionId}\r\n            setCamionId={setCamionId}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexDirection: \"column\" }}>\r\n          <SELECT_ORIGEN selectedItem={selectedItem} setOrigen={setOrigen} />\r\n        </div>\r\n\r\n        <div className=\"Form-input-select\">\r\n          <span className=\"Label\">Empresa Destino</span>\r\n          <SELECT_EMPRESA\r\n            selectedItem={selectedItem}\r\n            destino={destino}\r\n            setDestino={setDestino}\r\n            setEmailDestino={setEmailDestino}\r\n            setEmailDireccion={setEmailDireccion}\r\n          />\r\n        </div>\r\n        <div className=\"Form-checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            classNames=\"form-check-input\"\r\n            id=\"exampleCheck1\"\r\n            onChange={(e) => isChecked(e)}\r\n            checked={notificar}\r\n          />\r\n          <label className=\"form-check-label\" for=\"exampleCheck1\">\r\n            Notificar por correo\r\n          </label>\r\n        </div>\r\n        <div className=\"Form-input-select\">\r\n          <form onSubmit={submit}>\r\n            <input\r\n              type=\"hidden\"\r\n              value={email_correo}\r\n              name=\"email\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\r\n                selectedItem\r\n                  ? \"Viaje Modificado o Reprogramado\"\r\n                  : \"Nuevo Viaje Programado\"\r\n              }\r\n              name=\"subject\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\"Estimado/a, \" + email_name}\r\n              name=\"name\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\r\n                selectedItem\r\n                  ? selectedItem.fecha !== fecha_hora\r\n                    ? \"Su viaje del día \" +\r\n                      dayjs(selectedItem.fecha)\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY HH:mm A\") +\r\n                      \" ha sido cambiado a la siguiente fecha => \" +\r\n                      dayjs(fecha_hora)\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY HH:mm A\")\r\n                    : \"Su viaje para el día \" +\r\n                      dayjs(selectedItem.fecha)\r\n                        .locale(\"es\")\r\n                        .format(\"DD MMMM YYYY HH:mm A\") +\r\n                      \" ha sido modificado\"\r\n                  : \"Se le ha programado un nuevo viaje para el día \" +\r\n                    dayjs(fecha_hora)\r\n                      .locale(\"es\")\r\n                      .format(\"DD MMMM YYYY HH:mm A\")\r\n              }\r\n              name=\"fecha\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\"Empresa: \" + email_destino}\r\n              name=\"empresa\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value={\"Dirección: \" + email_direccion}\r\n              name=\"direccion\"\r\n              required\r\n            ></input>\r\n            <input\r\n              type=\"hidden\"\r\n              value=\"Para mas detalles visite trudistics.cl\"\r\n              name=\"mensaje\"\r\n              required\r\n            ></input>\r\n            <button\r\n              type=\"submit\"\r\n              className={selectedItem ? \"btn btn-warning\" : \"btn btn-primary\"}\r\n              required\r\n            >\r\n              {selectedItem ? \"Modificar Viaje\" : \"Agregar Viaje\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form_admin_viaje;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Button } from \"@material-ui/core\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport { db } from \"../../../db/firebase\";\r\nimport StepperViaje from \"../../../components/Stepper\";\r\n\r\n// form\r\nimport FORM_VIAJES from \"./Form_admin_viaje\";\r\n\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nexport default function ModalCamionDos(props) {\r\n  const [date, setDate] = useState({});\r\n  const [time, setTime] = useState(\"\");\r\n\r\n  const [region, setRegion] = useState(\"\");\r\n  const [comuna, setComuna] = useState(\"\");\r\n\r\n  const [regionDestino, setRegionDestino] = useState(\"\");\r\n  const [comunaDestino, setComunaDestino] = useState(\"\");\r\n\r\n  const [empresa, setEmpresa] = useState(null);\r\n\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedCamion, setSelectedCamion] = useState(null);\r\n\r\n  const {\r\n    //title,\r\n    //description,\r\n    //children,\r\n    openModalViaje,\r\n    setOpenModalViaje,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    user__id,\r\n    conductor,\r\n    setConductor,\r\n\r\n    dataCamionFecha,\r\n\r\n    itemToDelete,\r\n\r\n    direccion,\r\n    setDireccion,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    let list__empresas = [];\r\n    db.collection(\"empresa\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let e;\r\n        querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          e = {\r\n            id: doc.id,\r\n            empresa: doc.data().empresa,\r\n            region: doc.data().region,\r\n            comuna: doc.data().comuna,\r\n            direccion: doc.data().direccion,\r\n          };\r\n\r\n          list__empresas.push(e);\r\n        });\r\n        setEmpresa(list__empresas);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  }, []);\r\n\r\n  var formatDate = dayjs(date).locale(\"es\").format(\"DD MMMM YYYY hh:mm A\");\r\n\r\n  const ItemContent = () => {\r\n    return <Box style={{ display: \"flex\", width: \"100%\" }}></Box>;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalViaje}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle\r\n          id=\"form-dialog-title\"\r\n          className={selectedItem ? \"bg-warning\" : \"bg-primary\"}\r\n        >\r\n          {selectedItem ? (\r\n            <span className=\"text-dark\">Editar Viaje</span>\r\n          ) : (\r\n            <span className=\"text-white\">Agregar Viaje</span>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <ItemContent />\r\n          {/*\r\n          <StepperViaje \r\n            setDate={setDate} \r\n            setTime={setTime} \r\n            setSelectedUser={setSelectedUser} \r\n            setSelectedCamion={setSelectedCamion}\r\n\r\n            setRegion={setRegion}\r\n            setComuna={setComuna}\r\n\r\n            setRegionDestino={setRegionDestino}\r\n            setComunaDestino={setComunaDestino}\r\n            setDireccion={setDireccion}\r\n            setConductor={setConductor}\r\n\r\n            empresa={empresa}\r\n            setEmpresa={setEmpresa}\r\n\r\n            date={date} \r\n            selectedUser={selectedUser} \r\n            selectedCamion={selectedCamion}\r\n            region={region}\r\n            comuna={comuna}\r\n            regionDestino={regionDestino}\r\n            comunaDestino={comunaDestino}\r\n            direccion={direccion}\r\n            selectedItem={selectedItem}\r\n            user__id={user__id}\r\n            dataCamionFecha={dataCamionFecha}\r\n            setSelectedItem={setSelectedItem}\r\n\r\n            itemToDelete={itemToDelete}\r\n\r\n            setOpenModalViaje={setOpenModalViaje}\r\n          />\r\n          */}\r\n          <FORM_VIAJES selectedItem={selectedItem} user__id={user__id} closeSlideMenu={closeSlideMenu} setOpenModalViaje={setOpenModalViaje} user__id={user__id}/>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              closeSlideMenu();\r\n              setOpenModalViaje(false);\r\n              setTimeout(() => {\r\n                setSelectedItem(null);\r\n              }, 500);\r\n            }}\r\n            color=\"secondary\"\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_VIAJE_ANT from \"../data_tables/DataTable_viajes_ant\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\n//import ModalViaje from \"./ModalViaje\";\r\nimport ModalViaje_copy from \"./ModalViaje_copy\";\r\n\r\nimport { db, fire } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_admin_viaje.css\";\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\nimport * as dayjs from \"dayjs\";\r\nconst Admin_viajes = () => {\r\n\r\n  /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n  const [user__id, setUser__id] = useState(\"\");\r\n\r\n  const [camion__id, setCamion__id] = useState(\"\");\r\n  const [fecha_camion, setFechaCamion] = useState(\"\");\r\n  const [itemToDelete, setItemToDelete] = useState(null);\r\n\r\n  const [direccion, setDireccion] = useState(\"Dirección no asignada.\");\r\n\r\n  /**  */\r\n  const [openModalViaje, setOpenModalViaje] = useState(null);\r\n\r\n  const [dataCamionFecha, setDataCamionFecha] = useState(null);\r\n\r\n  const [mensaje_accion, setMensajeAccion] = useState(null);\r\n\r\n  const [conductor, setConductor] = useState(\"\");\r\n  const [email_destino, setEmailDestino] = useState(\"\");\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__viaje = () => {\r\n    console.log(\" => \",user__id);\r\n    console.log(\"=> \",fecha_camion);\r\n  \r\n    var cityRef = db.collection(\"usuario\").doc(user__id);\r\n    \r\n    cityRef.update({\r\n      viajes: fire.firestore.FieldValue.arrayRemove(selectedItem)\r\n    });\r\n\r\n    var camionRef = db.collection(\"camion\").doc(camion__id);\r\n    console.log(selectedItem.id)\r\n    console.log(selectedItem.fecha_camion)\r\n    var disp = {\r\n      id : selectedItem.id,\r\n      fecha : fecha_camion,\r\n    }\r\n\r\n    camionRef.update({\r\n      disp : fire.firestore.FieldValue.arrayRemove(disp)\r\n    })\r\n\r\n    var men = \"VIAJE con FECHA: => \"+dayjs(selectedItem.fecha)\r\n    .locale(\"es\")\r\n    .format(\"DD MMMM YYYY HH:m A\").toLowerCase()+\" ELIMINADO.\";\r\n      enqueueSnackbar(men, {\r\n        variant: \"error\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 3000,\r\n      });\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Crear Viaje\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalViaje(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Viaje\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalViaje(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Viaje\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesión\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      \r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n      \r\n\r\n      <div className=\"content\" ref={content}>\r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>VIAJES</span></div>\r\n      <div className=\"table\">\r\n\r\n          <TABLA_VIAJE_ANT\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            setUser__id = {setUser__id}\r\n            user__id = {user__id}\r\n            setCamion__id = {setCamion__id}\r\n            setDataCamionFecha = {setDataCamionFecha}\r\n            setFechaCamion={setFechaCamion}\r\n            setItemToDelete={setItemToDelete}\r\n            mensaje_accion={mensaje_accion}\r\n\r\n            setConductor={setConductor}\r\n            setDireccion={setDireccion}\r\n\r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n            setEmailDestino={setEmailDestino}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalViaje_copy\r\n          title={\"Viaje\"}\r\n          description={\"Descripción de la accion a realizar\"}\r\n          openModalViaje={openModalViaje}\r\n          setOpenModalViaje={setOpenModalViaje}\r\n          setSelectedItem={setSelectedItem}\r\n          selectedItem={selectedItem}\r\n          user__id={user__id}\r\n          dataCamionFecha={dataCamionFecha}\r\n          itemToDelete={itemToDelete}\r\n          conductor={conductor}\r\n          setConductor={setConductor}\r\n\r\n          direccion={direccion}\r\n          setDireccion={setDireccion}\r\n          closeSlideMenu={closeSlideMenu}\r\n          user__id={user__id}\r\n\r\n          \r\n          \r\n        >\r\n        </ModalViaje_copy>\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"¿Quieres borrar este viaje?\"}\r\n          description={\"Esta acción borrará permanentemente los datos de este viaje.\"}\r\n          action={delete__viaje}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          men={selectedItem ? dayjs(selectedItem.fecha)\r\n            .locale(\"es\")\r\n            .format(\"DD MMMM YYYY HH:m A\").toLowerCase() : null}\r\n          email_destino={email_destino}\r\n          closeSlideMenu={closeSlideMenu}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_viajes;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Typography, Button } from \"antd\";\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport MAP_ONLYVIEW from \"../../../components/google-maps/Modal-map-onlyView\";\r\nimport {DATATABLE_BG_COLOR, DATATABLE_TEXT_COLOR} from \"../../../variables\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Alert } from \"antd\";\r\nimport * as dayjs from \"dayjs\";\r\n\r\nvar locale_de = require(\"dayjs/locale/es\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& table\": {\r\n      \r\n    },\r\n    \"& thead > tr > th\": {\r\n      background: \"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)\",\r\n      color: \"black\",\r\n      fontSize: \"16\",\r\n      fontFamily: \"Dela Gothic One, cursive\",\r\n      \r\n    },\r\n    \"& thead > tr\": {\r\n      borderWidth: \"2px\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"solid\",\r\n    },\r\n    \"& .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table > thead > tr > th \" : {\r\n      background: DATATABLE_BG_COLOR,\r\n      color : DATATABLE_TEXT_COLOR,\r\n      \r\n   },\r\n   boxShadow : '4px 4px 10px 10px rgba(0,0,0,0.1)',\r\n   backgroundColor: \"#fff\",\r\n  },\r\n  buscador: {\r\n    width: \"40%\",\r\n    padding: 5,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  row: {},\r\n}));\r\n\r\nconst DataTable_empresa = (props) => {\r\n\r\n  const {\r\n    setIsSelected,\r\n    setSelectedItem,\r\n    selectedItem,\r\n    mensaje_accion,\r\n\r\n    selectRows,\r\n    setSelectRows,\r\n    openSlideMenu\r\n  } = props;\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const [size, setSize] = useState(null);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  const [rowClassname, setRowClassname] = useState(\"\");\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [empresa_cor, setEmpresaCor] = useState({});\r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  \r\n\r\n  const columns = [\r\n    {\r\n      title: \"Empresa\",\r\n      dataIndex: \"empresa\",\r\n      key : \"empresa\",\r\n      render: (text, empresa) => <strong  onClick={() => ver_empresa_map(empresa)}>{text}</strong>,\r\n      sorter: (a, b) => a.empresa.localeCompare(b.empresa),\r\n    },\r\n    {\r\n      title: \"Direccion\",\r\n      dataIndex: \"direccion\",\r\n      key: \"direccion\",\r\n    },\r\n    {\r\n      title: \"Telefono\",\r\n      dataIndex: \"telefono\",\r\n      key: \"telefono\",\r\n    },\r\n    {\r\n      title: \"Estado\",\r\n      dataIndex: \"estado\",\r\n      key: \"estado\",\r\n      render: (estado) =>\r\n      estado === \"true\" ? (<strong style={{ color: \"red\" }}>Inactivo</strong>) : (<strong className=\"text-primary\">Activo</strong>),\r\n    },\r\n    {\r\n      title: \"Acción\",\r\n      dataIndex: \"accion\",\r\n      key: \"accion\",\r\n      render: (text, empresa) => <button className=\"btn btn-primary\" onClick={() => ver_empresa_map(empresa)}>Ver en el Mapa</button>,\r\n    },\r\n  ];\r\n\r\n  async function ver_empresa_map(empresa){\r\n    console.log(\"Ver empresa\", empresa);\r\n    // abrir modal\r\n    //entregar lat y lng\r\n\r\n    await setEmpresaCor({lat : empresa.latitud, lng :empresa.longitud });\r\n\r\n    console.log(empresa_cor);\r\n\r\n    setOpenModalMap(true);\r\n  }\r\n  \r\n  const handleClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const query = db.collection(\"empresa\");\r\n  const observerEmpresa = query.onSnapshot(\r\n    (querySnapshot) => {\r\n      setSize(querySnapshot.size);\r\n      querySnapshot.docChanges().forEach((change) => {\r\n        if (change.type === \"modified\") {\r\n          setEdit(!edit);\r\n        }\r\n      });\r\n    },\r\n    (err) => {\r\n      console.log(`Encountered error: ${err}`);\r\n    }\r\n  );\r\n\r\n  const [x, setX] = useState([]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectRows,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setSelectRows(selectedRowKeys);\r\n      openSlideMenu();\r\n\r\n      //setIsSelected(false)\r\n      setSelectedItem(selectedRows[0]);\r\n\r\n      //Wed, 31 Mar 2021 02:12:39 GMT\r\n      const dateString = \"Wed, 31 Mar 2021 02:12:39 GMT\";\r\n      var formatDate = dayjs(dateString).locale(\"es\").format(\"DD MMM. YYYY\");\r\n\r\n      console.log(selectedRows[0].direccion);\r\n    },\r\n    getCheckboxProps: (record) => ({\r\n      disabled: record.name === \"Disabled User\",\r\n      // Column configuration not to be checked\r\n      name: record.name,\r\n    }),\r\n  };\r\n\r\n  const get__empresa = async () => {\r\n    const camionRef = db.collection(\"empresa\");\r\n    const snapshot = await camionRef.get();\r\n    if (snapshot.empty) {\r\n      console.log(\"No matching documents.\");\r\n      return;\r\n    }\r\n    const empresas = [];\r\n    snapshot.forEach((doc) => {\r\n      var e = {\r\n        id: doc.id,\r\n        direccion: doc.data().direccion,\r\n        empresa: doc.data().empresa,\r\n        telefono : doc.data().telefono,\r\n        latitud : doc.data().latitud ? doc.data().latitud : \"\",\r\n        longitud : doc.data().longitud ?doc.data().longitud : \"\" ,\r\n        estado : doc.data().estado,\r\n      };\r\n      empresas.push(e);\r\n    });\r\n    setTimeout(function () {\r\n      const filteredEvents = empresas.sort((a, b) => a.estado.localeCompare(b.estado) || a.empresa.localeCompare(b.empresa)) \r\n      setData(filteredEvents);\r\n      setFilterData(filteredEvents);\r\n      setIsLoaded(false);\r\n    }, 1000);\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    get__empresa();\r\n  }, [size, edit]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"!! UseEffect selectedItem === null ?\");\r\n    if (selectedItem === null) {\r\n      setX([]);\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  const { Text, Link } = Typography;\r\n  const classes = useStyles();\r\n\r\n  const [filteredData, setFilterData] = useState(null);\r\n  const [filter_nombres, setFilterNombres] = useState(\"\");\r\n  function onChangeNombre(val) {\r\n    console.log(\"on change nombre => \", val.target.value);\r\n\r\n    setFilterNombres(val.target.value);\r\n\r\n    const filteredEvents = data.filter(({ empresa, direccion }) =>\r\n      empresa.toLowerCase().includes(val.target.value.toLowerCase()) ||\r\n      direccion.toLowerCase().includes(val.target.value.toLowerCase())\r\n    );\r\n    \r\n    setFilterData(filteredEvents);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <MAP_ONLYVIEW openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} empresa_cor={empresa_cor}/>\r\n      <Table\r\n        rowKey=\"id\"\r\n        rowSelection={{\r\n          type: \"radio\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={columns}\r\n        dataSource={filteredData}\r\n        scroll={{ x: \"max-content\" }}\r\n        size=\"middle\"\r\n        pagination={{ position: [\"bottomCenter\"] }}\r\n        bordered={true}\r\n        className={classes.root}\r\n        rowClassName={classes.row}\r\n        loading={isLoaded}\r\n        onHeaderRow={(record, index) => {\r\n          return {\r\n            onClick: (e) => {\r\n              let tr = e.target.parentNode;\r\n              console.log(\"event\", tr);\r\n            }\r\n\r\n          };\r\n        }}\r\n        title={() => (\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Busqueda por Empresa o Dirección...\"\r\n              onChange={(e) => onChangeNombre(e)}\r\n              value={filter_nombres}\r\n              className={classes.buscador}\r\n            />\r\n          </div>\r\n        )}\r\n        \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable_empresa;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function ModalCamionDos(props) {\r\n  const {\r\n    title,\r\n    description,\r\n    children,\r\n    openModalEmpresa,\r\n    setOpenModalEmpresa,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    closeSlideMenu,\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalEmpresa}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth={true}\r\n        maxWidth={\"xs\"}\r\n      >\r\n        <DialogTitle\r\n          id=\"form-dialog-title\"\r\n          className={selectedItem ? \"bg-warning\" : \"bg-primary\"}\r\n        >\r\n          {selectedItem ? (\r\n            <span className=\"text-dark\">Editar Empresa</span>\r\n          ) : (\r\n            <span className=\"text-white\">Agregar Empresa</span>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{description}</DialogContentText>\r\n          {children}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setOpenModalEmpresa(false);\r\n              closeSlideMenu();\r\n              setTimeout(() => {\r\n                setSelectedItem(null);\r\n              }, 500);\r\n            }}\r\n            color=\"secondary\"\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport React, { useState } from 'react'\r\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow} from \"react-google-maps\";\r\nimport usePlacesAutocomplete, {getGeocode, getLatLng,} from \"use-places-autocomplete\";\r\nimport { Loader } from \"@googlemaps/js-api-loader\"\r\n//import useOnclickOutside from \"react-cool-onclickoutside\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nfunction Map(props) {\r\n    const {markerSearch, setMarkerSearch, setEmpresaMarker, empresaMarker} = props;\r\n    const [marker, setMarker] = useState({lat: -23.5325518, lng :-70.399952});\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    return (\r\n            <GoogleMap \r\n                defaultZoom={18} \r\n                defaultCenter={{lat: markerSearch.lat, lng : markerSearch.lng}}\r\n                onClick={(event) => {\r\n                    setMarkerSearch({\r\n                        lat: event.latLng.lat(),\r\n                        lng : event.latLng.lng(),\r\n                    });\r\n                    console.log(event);\r\n                }}\r\n                \r\n                center={{lat: markerSearch.lat, lng : markerSearch.lng}} \r\n            >\r\n                <Marker \r\n                    position={{lat: markerSearch.lat, lng : markerSearch.lng}} \r\n                    onClick={() => {\r\n                        setSelected(markerSearch);\r\n                    }}\r\n                    onPositionChanged={() => {\r\n                        console.log(\"POSITION CHANGED !!\");\r\n                        setEmpresaMarker(markerSearch);\r\n                    }}\r\n\r\n                />\r\n\r\n                {selected ? \r\n                <InfoWindow \r\n                    position={{lat: markerSearch.lat, lng : markerSearch.lng}}\r\n                    onCloseClick={() => {\r\n                        setSelected(null);\r\n                    }} \r\n                >\r\n                    <div>\r\n                        <h5>ej: Groot Limitada</h5>\r\n                    </div>\r\n                </InfoWindow> : null}\r\n            </GoogleMap>\r\n    )\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function GMap(props){\r\n    const {setEmpresaMarker, empresaMarker , setDireccion} = props;\r\n    const [markerSearch, setMarkerSearch] = useState({lat: -23.5325518, lng :-70.399952});\r\n    return (\r\n        <div style={{width : \"90vw\" , height : \"100vh\"}}>\r\n            <div className=\"Search-wrapper\">\r\n                <Search setMarkerSearch={setMarkerSearch} setEmpresaMarker={setEmpresaMarker} setDireccion={setDireccion}/>\r\n            </div>\r\n            \r\n            <WrappedMap \r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyBqrL85U3SOAdjVV7b3Xhe4xYd6vE4WY3A&libraries=places`}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div style={{ height: `400px` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                markerSearch={markerSearch}\r\n                setMarkerSearch={setMarkerSearch}\r\n                empresaMarker={empresaMarker}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Search(props){\r\n    const {setMarkerSearch, setEmpresaMarker, setDireccion} = props;\r\n    const {ready, value, suggestions: {status, data}, setValue, clearSuggestions} = usePlacesAutocomplete({\r\n        requestOptions: {\r\n            location: {lat: () =>  -23.5325518, lng :() => -70.399952},\r\n            radius: 200 * 1000,\r\n        }\r\n    });\r\n    \r\n      const handleInput = (e) => {\r\n        // Update the keyword of the input element\r\n        setValue(e.target.value);\r\n        console.log(e.target.value);\r\n      };\r\n    \r\n      const handleSelect = ({ description }) => () => {\r\n        // When user selects a place, we can replace the keyword without request data from API\r\n        // by setting the second parameter to \"false\"\r\n        setValue(description, false);\r\n        console.log(description);\r\n        setDireccion(description);\r\n        clearSuggestions();\r\n    \r\n        // Get latitude and longitude via utility functions\r\n        getGeocode({ address: description })\r\n          .then((results) => getLatLng(results[0]))\r\n          .then(({ lat, lng }) => {\r\n                setEmpresaMarker({ lat, lng });\r\n                setMarkerSearch({ lat, lng });\r\n                console.log(\"📍 Coordinates: \", { lat, lng });\r\n            })\r\n          .catch((error) => {\r\n            console.log(\"😱 Error: \", error);\r\n          });\r\n      };\r\n\r\n      const renderSuggestions = () =>\r\n        data.map((suggestion) => {\r\n            const {\r\n                place_id,\r\n                structured_formatting: { main_text, secondary_text },\r\n            } = suggestion;\r\n\r\n            return (\r\n                <li key={place_id} onClick={handleSelect(suggestion)} className=\"List-item\">\r\n                    <strong className=\"List-text\">{main_text}</strong> <small className=\"List-text\">{secondary_text}</small>\r\n                </li>\r\n            );\r\n        });\r\n\r\n    return (\r\n        <div className=\"Input-wrapper\">\r\n            <input\r\n                value={value}\r\n                onChange={handleInput}\r\n                disabled={!ready}\r\n                placeholder=\"Escriba una dirección\"\r\n                className=\"Input-search\"\r\n            />\r\n            {/* We can use the \"status\" to decide whether we should display the dropdown or not */}\r\n            {status === \"OK\" && <ul>{renderSuggestions()}</ul>}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport Map from \"./Map\";\r\n\r\nimport \"./estilos_modal_map.css\";\r\n\r\nexport default function ModalMap(props) {\r\n\r\n  const {openModalMap, setOpenModalMap, setEmpresaMarker, empresaMarker, setDireccion } = props;\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openModalMap}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fullWidth\r\n        maxWidth={'xl'}\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\" className=\"Modal-header\">\r\n          <span className=\"Modal-title\">Ubicación</span>\r\n        </DialogTitle>\r\n        <DialogContent className=\"Map-wrapper\">\r\n          <DialogContentText>\r\n            Descripción de las acciones\r\n          </DialogContentText>\r\n\r\n          <Map setEmpresaMarker={setEmpresaMarker} empresaMarker={empresaMarker} setDireccion={setDireccion}/>\r\n\r\n        </DialogContent>\r\n        <DialogActions className=\"Modal-actions\">\r\n          <Button onClick={() => setOpenModalMap(false)} color=\"secondary\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, {  useEffect, useState } from \"react\";\r\nimport { TextField} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport { db } from \"../../db/firebase\";\r\n\r\nimport ModalMap from \"../google-maps/Modal-map\";\r\n\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nlet regiones = require(\"../../app/regiones.json\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //backgroundColor: \"#c7bfa4\",\r\n\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    width : \"100%\",\r\n  },\r\n\r\n  inputs: {\r\n    marginBottom: 15,\r\n  },\r\n\r\n  input_estado : {\r\n    fontSize : 16,\r\n    width : \"100%\",\r\n    height : 30,\r\n    marginBottom: 15,\r\n  },\r\n}));\r\n\r\nconst FormEmpresa = (props) => {\r\n  const { selectedItem, setSelectedItem, setOpenModalEmpresa, closeSlideMenu } = props;\r\n\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const { enqueueSnackbar /*closeSnackbar*/ } = useSnackbar();\r\n\r\n  const [ comunas , setComunas ] = useState([\"Comunas...\"]);\r\n\r\n  const [nombreRegion, setNombreRegion] = useState('');\r\n  const [nombreComuna, setNombreComuna] = useState('');\r\n  \r\n  const [openModalMap, setOpenModalMap] = useState(false);\r\n\r\n  const [empresaMarker, setEmpresaMarker] = useState(null);\r\n\r\n  const [selectedRegion, setSelectedRegion] = useState('');\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n\r\n  const [direccion, setDireccion] = useState('');\r\n\r\n  const classes = useStyles();\r\n\r\n  const register__empresa = async (new_empresa) => {\r\n    console.log(empresaMarker);\r\n    console.log(new_empresa);\r\n    const res = await db.collection(\"empresa\").add({\r\n      direccion: direccion,\r\n      empresa: new_empresa.empresa,\r\n      telefono : new_empresa.telefono,\r\n      latitud : empresaMarker ? empresaMarker.lat : \"\",\r\n      longitud : empresaMarker ? empresaMarker.lng : \"\",\r\n      estado : new_empresa.estado,\r\n    });\r\n\r\n    console.log(\"Added document with ID: \", res.id);\r\n    closeSlideMenu();\r\n  };\r\n\r\n  const edit__empresa = async (data) => {\r\n    const camionRef = db.collection(\"empresa\").doc(selectedItem.id);\r\n\r\n    // Set the 'capital' field of the city\r\n    const res = await camionRef.update({\r\n      direccion: direccion,\r\n      empresa: data.empresa,\r\n      telefono : data.telefono,\r\n      latitud : empresaMarker ? empresaMarker.lat : selectedItem.latitud,\r\n      longitud : empresaMarker ? empresaMarker.lng : selectedItem.longitud,\r\n      estado : data.estado,\r\n    });\r\n\r\n    closeSlideMenu();\r\n  };\r\n\r\n  function onChange(value) {\r\n    regiones.map(x => {\r\n        if(x.numero === value){\r\n            console.log(\"region => \"+x.region)\r\n            setNombreRegion(x.region);\r\n            setComunas(x.comunas);\r\n        }\r\n    })\r\n    //setComunas(key.key);\r\n  }\r\n\r\n  function onChangeComuna(value) {\r\n    console.log(`comuna  ${value}`);\r\n    setNombreComuna(value);\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(empresaMarker);\r\n    \r\n    if (selectedItem) {\r\n      var men = \"Empresa NOMBRE: \" + selectedItem.empresa + \" editada exitosamente.\";\r\n      edit__empresa(data);\r\n      setOpenModalEmpresa(false);\r\n      setSelectedItem(null);\r\n\r\n      enqueueSnackbar(men, {\r\n        variant: \"info\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 2000,\r\n      });\r\n    } else {\r\n      register__empresa(data);\r\n      var men = \"Empresa NOMBRE: \" + data.empresa + \" creada exitosamente.\";\r\n      setOpenModalEmpresa(false);\r\n      enqueueSnackbar(men, {\r\n        variant: \"success\",\r\n        preventDuplicate: true,\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n    \r\n  };\r\n\r\n  const handleMap = () => {\r\n    setOpenModalMap(true);\r\n  }\r\n\r\n  useEffect(async () => {\r\n\r\n    if(selectedItem){\r\n      await setDireccion(selectedItem.direccion);\r\n      setSelectedRegion(selectedItem.region);\r\n      setSelectedComuna(selectedItem.comuna);\r\n\r\n      regiones.forEach(x => {\r\n        if(selectedRegion === x.region){\r\n            setComunas(x.comunas);\r\n        }\r\n    });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form onSubmit={handleSubmit(onSubmit)} className={classes.root}>\r\n        <TextField\r\n          id=\"direccion\"\r\n          name=\"direccion\"\r\n          label=\"Dirección\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          value={direccion}\r\n          disabled\r\n          onClick = {handleMap }\r\n          fullWidth\r\n        />\r\n        <TextField\r\n          id=\"empresa\"\r\n          name=\"empresa\"\r\n          label=\"Empresa\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.empresa : \"\"}\r\n          fullWidth\r\n        />\r\n        <TextField\r\n          id=\"telefono\"\r\n          name=\"telefono\"\r\n          label=\"Telefono\"\r\n          inputRef={register({ required: true })}\r\n          className={classes.inputs}\r\n          defaultValue={selectedItem ? selectedItem.telefono : \"\"}\r\n          fullWidth\r\n        />\r\n        <select\r\n          name=\"estado\"\r\n          ref={register({ required: true })}\r\n          defaultValue={selectedItem ? selectedItem.estado : null}\r\n          className={classes.input_estado}\r\n        >\r\n          <option value=\"false\">Activo</option>\r\n          <option value=\"true\">Inactivo</option>\r\n        </select>\r\n\r\n        <button type=\"submit\" className={selectedItem ? \"btn btn-outline-warning\" : \"btn btn-outline-primary\"}>\r\n          <span>{selectedItem ? \"Editar Empresa\" : \"Registrar Empresa\"}</span>\r\n        </button>\r\n      </form>\r\n      <ModalMap openModalMap={openModalMap} setOpenModalMap={setOpenModalMap} setEmpresaMarker={setEmpresaMarker} empresaMarker={empresaMarker} setDireccion={setDireccion}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormEmpresa;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\n/** Components import */\r\nimport HEADER from \"../../../components/Header\";\r\nimport MENU_LATERAL from \"../../../components/Side_menu\";\r\nimport DRAWER_SETTINGS from \"../../../components/DrawerSettings\";\r\n\r\n/** imports de tablas*/\r\nimport TABLA_EMPRESA from \"../data_tables/DataTable_empresa\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nimport { MenuTest } from \"../../../components/items/Menu_items\";\r\nimport { cerrar__sesion } from \"../../../db/auth\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmAlert from \"../../../components/ConfirmAlert\";\r\n\r\nimport ModalEmpresa from \"../../../components/modals/ModalEmpresa\";\r\nimport FormEmpresa from \"../../../components/forms/FormEmpresa\";\r\n\r\n\r\nimport { db } from \"../../../db/firebase\";\r\n\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport \"./estilos_admin_empresa.css\";\r\nimport {INFO_BG_COLOR, INFO_TEXT_COLOR} from \"../../../variables\";\r\n\r\nconst Admin_empresas = () => {\r\n   /** hook drawer admin */\r\n  const [visible, setVisible] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [isSelected, setIsSelected] = useState(true);\r\n  const [openModalEmpresa, setOpenModalEmpresa] = useState(null);\r\n  const [mensaje_accion, setMensajeAccion] = useState([]);\r\n\r\n  const[selectRows, setSelectRows]  = useState([]);\r\n\r\n  let history = useHistory();\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const delete__empresa = async () => {\r\n    const res = await db.collection(\"empresa\").doc(selectedItem.id).delete();\r\n    var men = \"Empresa NOMBRE: \" + selectedItem.empresa + \" ha sido eliminada.\";\r\n    enqueueSnackbar(men, {\r\n      variant: \"error\",\r\n      autoHideDuration: 3000,\r\n    });\r\n    setMensajeAccion({mensaje : men, type : \"error\"})\r\n\r\n  };\r\n\r\n  const ADMIN_CONDUCTOR_ITEMS = [\r\n    {\r\n      key: 2,\r\n      text: \"Agregar Empresa\",\r\n      icon: <AddBoxIcon />,\r\n      onClick: () => {\r\n        setSelectedItem(null);\r\n        setOpenModalEmpresa(true);\r\n      },\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Modificar Empresa\",\r\n      icon: <EditIcon />,\r\n      onClick: () => setOpenModalEmpresa(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n    {\r\n      key: 4,\r\n      text: \"Eliminar Empresa\",\r\n      icon: <DeleteIcon />,\r\n      onClick: () => setOpen(true),\r\n      isDisabled: selectedItem ? false : true,\r\n    },\r\n  ];\r\n\r\n  const ADMIN_SETTINGS = [\r\n    {\r\n      key: 2,\r\n      text: \"Ajustes\",\r\n      icon: <SettingsIcon />,\r\n      onClick : () => {setVisible(true)}\r\n    },\r\n    {\r\n      key: 3,\r\n      text: \"Cerrar Sesión\",\r\n      icon: <ExitToAppIcon />,\r\n      onClick: () => {\r\n        cerrar__sesion();\r\n        history.push(\"/\");\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"240px\";\r\n  };\r\n\r\n  const closeSlideMenu = () => {\r\n    menu_lateral.current.style.width = \"0\";\r\n    content.current.style.marginLeft = \"0\";\r\n    header.current.style.marginLeft = \"0\";\r\n    setSelectRows([]);\r\n  };\r\n\r\n  const openNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"250px\";\r\n  };\r\n\r\n  const closeNavigationMobileMenu = () => {\r\n    navigation_mobile.current.style.height = \"0\";\r\n  };\r\n\r\n  const menu_lateral = useRef(null);\r\n  const content = useRef(null);\r\n  const header = useRef(null);\r\n  const navigation_mobile = useRef(null);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"header\" ref={header}>\r\n        <HEADER openSlideMenu={openSlideMenu} openNavigationMobileMenu={openNavigationMobileMenu}/>\r\n      </div>\r\n\r\n      <div className=\"navigation_mobile\" ref={navigation_mobile}>\r\n        <div style={{backgroundColor : \"#1E1F1F\", width : \"100%\", display : \"flex\", justifyContent : \"center\", opacity : \"1\"}}>\r\n          <span>\r\n            <a href=\"#\" className=\"nav_link\" onClick={closeNavigationMobileMenu}>  \r\n              <i class=\"bi bi-x\" style={{ fontSize: 42, marginLeft: 5, marginRight: 5 }}></i>\r\n            </a>\r\n          </span>\r\n        </div>\r\n            <NavLink to={\"/admin/home\"} className=\"nav_link\">\r\n              <span>INICIO</span>\r\n            </NavLink>\r\n             <NavLink to={\"/admin/conductores\"} className=\"nav_link\">\r\n              <span>USUARIOS</span>\r\n            </NavLink>\r\n            <NavLink to={\"/admin/camiones\"} className=\"nav_link\">\r\n              <span>CAMIONES</span>\r\n            </NavLink>  \r\n            <NavLink to={\"/admin/viajes\"} className=\"nav_link\">\r\n              <span>VIAJES</span>\r\n            </NavLink> \r\n            <NavLink to={\"/admin/empresa\"} className=\"nav_link\">\r\n              <span>EMPRESAS</span>\r\n            </NavLink> \r\n      </div>\r\n      <div className=\"menu_lateral\" ref={menu_lateral}>\r\n        <MENU_LATERAL\r\n          closeSlideMenu={closeSlideMenu}\r\n          itemList={\r\n            <MenuTest\r\n              admin_items={ADMIN_CONDUCTOR_ITEMS}\r\n              admin_settings={ADMIN_SETTINGS}\r\n              selectedUser={selectedItem}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\"content\" ref={content}>\r\n        \r\n      <div className=\"info\" style={{backgroundColor : INFO_BG_COLOR}}> <span style={{color : INFO_TEXT_COLOR}}>EMPRESAS</span></div>\r\n        <div className=\"table\">\r\n          {/** Tabla camiones */}\r\n          <TABLA_EMPRESA\r\n            setSelectedItem={setSelectedItem}\r\n            setIsSelected={setIsSelected}\r\n            selectedItem={selectedItem}\r\n            mensaje_accion = {mensaje_accion}\r\n            \r\n            selectRows = {selectRows} /**!!!!!! */\r\n            setSelectRows={setSelectRows}\r\n            openSlideMenu={openSlideMenu}\r\n          />\r\n        </div>\r\n        <DRAWER_SETTINGS visible ={visible} setVisible={setVisible} closeSlideMenu={closeSlideMenu}/>\r\n        <ModalEmpresa\r\n          title={\"Empresa\"}\r\n          description={\"Descripción de la accion a realizar\"}\r\n          selectedItem={selectedItem}\r\n          openModalEmpresa={openModalEmpresa}\r\n          setOpenModalEmpresa={setOpenModalEmpresa}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        >\r\n          <FormEmpresa\r\n            selectedItem={selectedItem}\r\n            setOpenModalEmpresa={setOpenModalEmpresa}\r\n            setSelectedItem={setSelectedItem}\r\n            closeSlideMenu={closeSlideMenu}\r\n          />\r\n        </ModalEmpresa>\r\n\r\n        <ConfirmAlert\r\n          openAlert={open}\r\n          setOpenAlert={setOpen}\r\n          title={\"¿Quieres borrar esta empresa?\"}\r\n          description={\"Esta acción borrará permanentemente los datos de esta empresa.\"}\r\n          men={selectedItem ? selectedItem.empresa : null}\r\n          action={delete__empresa}\r\n          selectedItem={selectedItem}\r\n          setSelectedItem={setSelectedItem}\r\n          closeSlideMenu={closeSlideMenu}\r\n        ></ConfirmAlert>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin_empresas;","import React from \"react\";\n\nimport { ProvideAuth } from \"./db/use-auth\";\nimport { usuarioActual } from \"./db/auth\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\n\n\n/* Import de paginas*/\nimport INDEX from \"./app/index\";\nimport CONDUCTOR_HOME from \"./app/conductor/Conductor_home\";\nimport CONDUCTOR_VIAJES from \"./app/conductor/Conductor_viajes\";\n\nimport ADMIN_HOME from \"./app/admin/VISTA_ADMIN_HOME/Vista_admin_home\";\nimport ADMIN_CONDUCTORES from \"./app/admin/VISTA_ADMIN_USUARIO/Vista_admin_usuarios\";\nimport ADMIN_CAMIONES from \"./app/admin/VISTA_ADMIN_CAMION/Vista_admin_camiones\";\nimport ADMIN_VIAJES from \"./app/admin/VISTA_ADMIN_VIAJE/Vista_admin_viajes\";\nimport ADMIN_EMPRESAS from \"./app/admin/VISTA_ADMIN_EMPRESA/Vista_admin_empresas\";\n\nfunction App() {\n  usuarioActual();\n\n  return (\n    <div className=\"App\">\n      <ProvideAuth>\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={(props) => <INDEX {...props} />} />\n\n            {/**ROUTE PARA CONDUCTOR */}\n            <PrivateRouteConductor path=\"/conductor/home\">\n              <CONDUCTOR_HOME />\n            </PrivateRouteConductor>\n\n            <PrivateRouteConductor path=\"/conductor/viajes\">\n              <CONDUCTOR_VIAJES />\n            </PrivateRouteConductor>\n\n            {/**ROUTE PARA ADMIN */}\n\n            <PrivateRoute path=\"/admin/home\">\n              <ADMIN_HOME />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/conductores\">\n              <ADMIN_CONDUCTORES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/camiones\">\n              <ADMIN_CAMIONES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/viajes\">\n              <ADMIN_VIAJES />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/admin/empresa\">\n              <ADMIN_EMPRESAS />\n            </PrivateRoute>\n\n          </Switch>\n        </Router>\n      </ProvideAuth>\n    </div>\n  );\n\n  function PrivateRoute({ children, ...rest }) {\n    let auth = localStorage.getItem(\"user\");\n    let isAdmin = localStorage.getItem(\"isAdmin\");\n\n    console.log(\"ADMIN??? \" + isAdmin);\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n          auth ? (\n            isAdmin === \"true\" ? (\n              children\n            ) : (\n              <Redirect\n                to={{\n                  pathname: \"/conductor/home\",\n                  state: { code: \"100\", from: location },\n                }}\n              />\n            )\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: { code: \"100\", from: location },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n\n  function PrivateRouteConductor({ children, ...rest }) {\n    let auth = localStorage.getItem(\"user\");\n    let isAdmin = localStorage.getItem(\"isAdmin\");\n\n    console.log(\"ADMIN??? \" + isAdmin);\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n          auth ? (\n            isAdmin === \"true\" ? (\n              <Redirect\n                to={{\n                  pathname: \"/admin/home\",\n                  state: { code: \"100\", from: location },\n                }}\n              />\n            ) : (\n              children\n            )\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/\",\n                state: { code: \"100\", from: location },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { SnackbarProvider } from \"notistack\";\nimport Grow from '@material-ui/core/Grow';\n\n/** ANT DESIGN IMPORT */\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n    <SnackbarProvider\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"center\",\n      }}\n      TransitionComponent={Grow}\n    >\n      <App />\n    </SnackbarProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}